From chiselwright at mail.berlios.de  Tue Jan  1 23:34:37 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 1 Jan 2008 23:34:37 +0100
Subject: [Parley-svn] r718 - / trunk/root/static/images/icons/flags
Message-ID: <200801012234.m01MYbbn015212@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-01 23:34:29 +0100 (Tue, 01 Jan 2008)
New Revision: 718

Added:
   trunk/root/static/images/icons/flags/ad.png
   trunk/root/static/images/icons/flags/ae.png
   trunk/root/static/images/icons/flags/af.png
   trunk/root/static/images/icons/flags/ag.png
   trunk/root/static/images/icons/flags/ai.png
   trunk/root/static/images/icons/flags/al.png
   trunk/root/static/images/icons/flags/am.png
   trunk/root/static/images/icons/flags/an.png
   trunk/root/static/images/icons/flags/ao.png
   trunk/root/static/images/icons/flags/ar.png
   trunk/root/static/images/icons/flags/as.png
   trunk/root/static/images/icons/flags/at.png
   trunk/root/static/images/icons/flags/au.png
   trunk/root/static/images/icons/flags/aw.png
   trunk/root/static/images/icons/flags/ax.png
   trunk/root/static/images/icons/flags/az.png
   trunk/root/static/images/icons/flags/ba.png
   trunk/root/static/images/icons/flags/bb.png
   trunk/root/static/images/icons/flags/bd.png
   trunk/root/static/images/icons/flags/be.png
   trunk/root/static/images/icons/flags/bf.png
   trunk/root/static/images/icons/flags/bg.png
   trunk/root/static/images/icons/flags/bh.png
   trunk/root/static/images/icons/flags/bi.png
   trunk/root/static/images/icons/flags/bj.png
   trunk/root/static/images/icons/flags/bm.png
   trunk/root/static/images/icons/flags/bn.png
   trunk/root/static/images/icons/flags/bo.png
   trunk/root/static/images/icons/flags/br.png
   trunk/root/static/images/icons/flags/bs.png
   trunk/root/static/images/icons/flags/bt.png
   trunk/root/static/images/icons/flags/bv.png
   trunk/root/static/images/icons/flags/bw.png
   trunk/root/static/images/icons/flags/by.png
   trunk/root/static/images/icons/flags/bz.png
   trunk/root/static/images/icons/flags/ca.png
   trunk/root/static/images/icons/flags/catalonia.png
   trunk/root/static/images/icons/flags/cc.png
   trunk/root/static/images/icons/flags/cd.png
   trunk/root/static/images/icons/flags/cf.png
   trunk/root/static/images/icons/flags/cg.png
   trunk/root/static/images/icons/flags/ch.png
   trunk/root/static/images/icons/flags/ci.png
   trunk/root/static/images/icons/flags/ck.png
   trunk/root/static/images/icons/flags/cl.png
   trunk/root/static/images/icons/flags/cm.png
   trunk/root/static/images/icons/flags/cn.png
   trunk/root/static/images/icons/flags/co.png
   trunk/root/static/images/icons/flags/cr.png
   trunk/root/static/images/icons/flags/cs.png
   trunk/root/static/images/icons/flags/cu.png
   trunk/root/static/images/icons/flags/cv.png
   trunk/root/static/images/icons/flags/cx.png
   trunk/root/static/images/icons/flags/cy.png
   trunk/root/static/images/icons/flags/cz.png
   trunk/root/static/images/icons/flags/dj.png
   trunk/root/static/images/icons/flags/dk.png
   trunk/root/static/images/icons/flags/dm.png
   trunk/root/static/images/icons/flags/do.png
   trunk/root/static/images/icons/flags/dz.png
   trunk/root/static/images/icons/flags/ec.png
   trunk/root/static/images/icons/flags/ee.png
   trunk/root/static/images/icons/flags/eg.png
   trunk/root/static/images/icons/flags/eh.png
   trunk/root/static/images/icons/flags/england.png
   trunk/root/static/images/icons/flags/er.png
   trunk/root/static/images/icons/flags/es.png
   trunk/root/static/images/icons/flags/et.png
   trunk/root/static/images/icons/flags/europeanunion.png
   trunk/root/static/images/icons/flags/fam.png
   trunk/root/static/images/icons/flags/fi.png
   trunk/root/static/images/icons/flags/fj.png
   trunk/root/static/images/icons/flags/fk.png
   trunk/root/static/images/icons/flags/fm.png
   trunk/root/static/images/icons/flags/fo.png
   trunk/root/static/images/icons/flags/fr.png
   trunk/root/static/images/icons/flags/ga.png
   trunk/root/static/images/icons/flags/gd.png
   trunk/root/static/images/icons/flags/ge.png
   trunk/root/static/images/icons/flags/gf.png
   trunk/root/static/images/icons/flags/gh.png
   trunk/root/static/images/icons/flags/gi.png
   trunk/root/static/images/icons/flags/gl.png
   trunk/root/static/images/icons/flags/gm.png
   trunk/root/static/images/icons/flags/gn.png
   trunk/root/static/images/icons/flags/gp.png
   trunk/root/static/images/icons/flags/gq.png
   trunk/root/static/images/icons/flags/gr.png
   trunk/root/static/images/icons/flags/gs.png
   trunk/root/static/images/icons/flags/gt.png
   trunk/root/static/images/icons/flags/gu.png
   trunk/root/static/images/icons/flags/gw.png
   trunk/root/static/images/icons/flags/gy.png
   trunk/root/static/images/icons/flags/hk.png
   trunk/root/static/images/icons/flags/hm.png
   trunk/root/static/images/icons/flags/hn.png
   trunk/root/static/images/icons/flags/hr.png
   trunk/root/static/images/icons/flags/ht.png
   trunk/root/static/images/icons/flags/hu.png
   trunk/root/static/images/icons/flags/id.png
   trunk/root/static/images/icons/flags/ie.png
   trunk/root/static/images/icons/flags/il.png
   trunk/root/static/images/icons/flags/in.png
   trunk/root/static/images/icons/flags/io.png
   trunk/root/static/images/icons/flags/iq.png
   trunk/root/static/images/icons/flags/ir.png
   trunk/root/static/images/icons/flags/is.png
   trunk/root/static/images/icons/flags/jm.png
   trunk/root/static/images/icons/flags/jo.png
   trunk/root/static/images/icons/flags/jp.png
   trunk/root/static/images/icons/flags/ke.png
   trunk/root/static/images/icons/flags/kg.png
   trunk/root/static/images/icons/flags/kh.png
   trunk/root/static/images/icons/flags/ki.png
   trunk/root/static/images/icons/flags/km.png
   trunk/root/static/images/icons/flags/kn.png
   trunk/root/static/images/icons/flags/kp.png
   trunk/root/static/images/icons/flags/kr.png
   trunk/root/static/images/icons/flags/kw.png
   trunk/root/static/images/icons/flags/ky.png
   trunk/root/static/images/icons/flags/kz.png
   trunk/root/static/images/icons/flags/la.png
   trunk/root/static/images/icons/flags/lb.png
   trunk/root/static/images/icons/flags/lc.png
   trunk/root/static/images/icons/flags/li.png
   trunk/root/static/images/icons/flags/lk.png
   trunk/root/static/images/icons/flags/lr.png
   trunk/root/static/images/icons/flags/ls.png
   trunk/root/static/images/icons/flags/lt.png
   trunk/root/static/images/icons/flags/lu.png
   trunk/root/static/images/icons/flags/lv.png
   trunk/root/static/images/icons/flags/ly.png
   trunk/root/static/images/icons/flags/ma.png
   trunk/root/static/images/icons/flags/mc.png
   trunk/root/static/images/icons/flags/md.png
   trunk/root/static/images/icons/flags/me.png
   trunk/root/static/images/icons/flags/mg.png
   trunk/root/static/images/icons/flags/mh.png
   trunk/root/static/images/icons/flags/mk.png
   trunk/root/static/images/icons/flags/ml.png
   trunk/root/static/images/icons/flags/mm.png
   trunk/root/static/images/icons/flags/mn.png
   trunk/root/static/images/icons/flags/mo.png
   trunk/root/static/images/icons/flags/mp.png
   trunk/root/static/images/icons/flags/mq.png
   trunk/root/static/images/icons/flags/mr.png
   trunk/root/static/images/icons/flags/ms.png
   trunk/root/static/images/icons/flags/mt.png
   trunk/root/static/images/icons/flags/mu.png
   trunk/root/static/images/icons/flags/mv.png
   trunk/root/static/images/icons/flags/mw.png
   trunk/root/static/images/icons/flags/mx.png
   trunk/root/static/images/icons/flags/my.png
   trunk/root/static/images/icons/flags/mz.png
   trunk/root/static/images/icons/flags/na.png
   trunk/root/static/images/icons/flags/nc.png
   trunk/root/static/images/icons/flags/ne.png
   trunk/root/static/images/icons/flags/nf.png
   trunk/root/static/images/icons/flags/ng.png
   trunk/root/static/images/icons/flags/ni.png
   trunk/root/static/images/icons/flags/nl.png
   trunk/root/static/images/icons/flags/no.png
   trunk/root/static/images/icons/flags/np.png
   trunk/root/static/images/icons/flags/nr.png
   trunk/root/static/images/icons/flags/nu.png
   trunk/root/static/images/icons/flags/nz.png
   trunk/root/static/images/icons/flags/om.png
   trunk/root/static/images/icons/flags/pa.png
   trunk/root/static/images/icons/flags/pe.png
   trunk/root/static/images/icons/flags/pf.png
   trunk/root/static/images/icons/flags/pg.png
   trunk/root/static/images/icons/flags/ph.png
   trunk/root/static/images/icons/flags/pk.png
   trunk/root/static/images/icons/flags/pl.png
   trunk/root/static/images/icons/flags/pm.png
   trunk/root/static/images/icons/flags/pn.png
   trunk/root/static/images/icons/flags/pr.png
   trunk/root/static/images/icons/flags/ps.png
   trunk/root/static/images/icons/flags/pt.png
   trunk/root/static/images/icons/flags/pw.png
   trunk/root/static/images/icons/flags/py.png
   trunk/root/static/images/icons/flags/qa.png
   trunk/root/static/images/icons/flags/re.png
   trunk/root/static/images/icons/flags/ro.png
   trunk/root/static/images/icons/flags/rs.png
   trunk/root/static/images/icons/flags/ru.png
   trunk/root/static/images/icons/flags/rw.png
   trunk/root/static/images/icons/flags/sa.png
   trunk/root/static/images/icons/flags/sb.png
   trunk/root/static/images/icons/flags/sc.png
   trunk/root/static/images/icons/flags/scotland.png
   trunk/root/static/images/icons/flags/sd.png
   trunk/root/static/images/icons/flags/se.png
   trunk/root/static/images/icons/flags/sg.png
   trunk/root/static/images/icons/flags/sh.png
   trunk/root/static/images/icons/flags/si.png
   trunk/root/static/images/icons/flags/sj.png
   trunk/root/static/images/icons/flags/sk.png
   trunk/root/static/images/icons/flags/sl.png
   trunk/root/static/images/icons/flags/sm.png
   trunk/root/static/images/icons/flags/sn.png
   trunk/root/static/images/icons/flags/so.png
   trunk/root/static/images/icons/flags/sr.png
   trunk/root/static/images/icons/flags/st.png
   trunk/root/static/images/icons/flags/sv.png
   trunk/root/static/images/icons/flags/sy.png
   trunk/root/static/images/icons/flags/sz.png
   trunk/root/static/images/icons/flags/tc.png
   trunk/root/static/images/icons/flags/td.png
   trunk/root/static/images/icons/flags/tf.png
   trunk/root/static/images/icons/flags/tg.png
   trunk/root/static/images/icons/flags/th.png
   trunk/root/static/images/icons/flags/tj.png
   trunk/root/static/images/icons/flags/tk.png
   trunk/root/static/images/icons/flags/tl.png
   trunk/root/static/images/icons/flags/tm.png
   trunk/root/static/images/icons/flags/tn.png
   trunk/root/static/images/icons/flags/to.png
   trunk/root/static/images/icons/flags/tr.png
   trunk/root/static/images/icons/flags/tt.png
   trunk/root/static/images/icons/flags/tv.png
   trunk/root/static/images/icons/flags/tw.png
   trunk/root/static/images/icons/flags/tz.png
   trunk/root/static/images/icons/flags/ua.png
   trunk/root/static/images/icons/flags/ug.png
   trunk/root/static/images/icons/flags/um.png
   trunk/root/static/images/icons/flags/us.png
   trunk/root/static/images/icons/flags/uy.png
   trunk/root/static/images/icons/flags/uz.png
   trunk/root/static/images/icons/flags/va.png
   trunk/root/static/images/icons/flags/vc.png
   trunk/root/static/images/icons/flags/ve.png
   trunk/root/static/images/icons/flags/vg.png
   trunk/root/static/images/icons/flags/vi.png
   trunk/root/static/images/icons/flags/vn.png
   trunk/root/static/images/icons/flags/vu.png
   trunk/root/static/images/icons/flags/wales.png
   trunk/root/static/images/icons/flags/wf.png
   trunk/root/static/images/icons/flags/ws.png
   trunk/root/static/images/icons/flags/ye.png
   trunk/root/static/images/icons/flags/yt.png
   trunk/root/static/images/icons/flags/za.png
   trunk/root/static/images/icons/flags/zm.png
   trunk/root/static/images/icons/flags/zw.png
Modified:
   /
Log:
 r4436 at wiggin:  chisel | 2008-01-01 22:34:15 +0000
 + I decided that it was worthwhile having ALL of the flag icons available



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4380
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4436
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: trunk/root/static/images/icons/flags/ad.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ad.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ae.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ae.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/af.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/af.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ag.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ag.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ai.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ai.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/al.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/al.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/am.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/am.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/an.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/an.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ao.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ao.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ar.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ar.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/as.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/as.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/at.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/at.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/au.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/au.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/aw.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/aw.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ax.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ax.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/az.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/az.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ba.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ba.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bb.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bb.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bd.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bd.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/be.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/be.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bf.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bf.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bg.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bg.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bh.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bh.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bi.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bi.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bj.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bj.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bm.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bm.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bn.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bn.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bo.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bo.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/br.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/br.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bs.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bs.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bt.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bt.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bv.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bv.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bw.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bw.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/by.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/by.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/bz.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/bz.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ca.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ca.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/catalonia.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/catalonia.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cc.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cc.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cd.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cd.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cf.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cf.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cg.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cg.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ch.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ch.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ci.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ci.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ck.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ck.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cl.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cl.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cm.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cm.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cn.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cn.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/co.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/co.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cr.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cr.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cs.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cs.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cu.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cu.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cv.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cv.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cx.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cx.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cy.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cy.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/cz.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/cz.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/dj.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/dj.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/dk.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/dk.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/dm.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/dm.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/do.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/do.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/dz.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/dz.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ec.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ec.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ee.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ee.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/eg.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/eg.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/eh.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/eh.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/england.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/england.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/er.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/er.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/es.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/es.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/et.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/et.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/europeanunion.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/europeanunion.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/fam.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/fam.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/fi.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/fi.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/fj.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/fj.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/fk.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/fk.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/fm.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/fm.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/fo.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/fo.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/fr.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/fr.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ga.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ga.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gd.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gd.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ge.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ge.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gf.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gf.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gh.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gh.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gi.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gi.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gl.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gl.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gm.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gm.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gn.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gn.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gp.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gp.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gq.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gq.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gr.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gr.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gs.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gs.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gt.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gt.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gu.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gu.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gw.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gw.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/gy.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/gy.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/hk.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/hk.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/hm.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/hm.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/hn.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/hn.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/hr.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/hr.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ht.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ht.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/hu.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/hu.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/id.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/id.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ie.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ie.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/il.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/il.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/in.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/in.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/io.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/io.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/iq.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/iq.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ir.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ir.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/is.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/is.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/jm.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/jm.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/jo.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/jo.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/jp.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/jp.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ke.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ke.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/kg.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/kg.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/kh.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/kh.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ki.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ki.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/km.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/km.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/kn.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/kn.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/kp.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/kp.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/kr.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/kr.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/kw.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/kw.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ky.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ky.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/kz.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/kz.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/la.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/la.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/lb.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/lb.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/lc.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/lc.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/li.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/li.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/lk.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/lk.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/lr.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/lr.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ls.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ls.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/lt.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/lt.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/lu.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/lu.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/lv.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/lv.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ly.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ly.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ma.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ma.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mc.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mc.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/md.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/md.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/me.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/me.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mg.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mg.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mh.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mh.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mk.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mk.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ml.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ml.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mm.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mm.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mn.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mn.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mo.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mo.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mp.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mp.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mq.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mq.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mr.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mr.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ms.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ms.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mt.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mt.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mu.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mu.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mv.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mv.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mw.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mw.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mx.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mx.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/my.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/my.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/mz.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/mz.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/na.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/na.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/nc.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/nc.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ne.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ne.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/nf.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/nf.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ng.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ng.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ni.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ni.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/nl.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/nl.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/no.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/no.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/np.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/np.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/nr.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/nr.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/nu.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/nu.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/nz.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/nz.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/om.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/om.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/pa.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/pa.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/pe.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/pe.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/pf.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/pf.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/pg.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/pg.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ph.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ph.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/pk.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/pk.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/pl.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/pl.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/pm.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/pm.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/pn.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/pn.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/pr.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/pr.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ps.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ps.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/pt.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/pt.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/pw.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/pw.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/py.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/py.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/qa.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/qa.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/re.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/re.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ro.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ro.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/rs.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/rs.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ru.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ru.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/rw.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/rw.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sa.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sa.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sb.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sb.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sc.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sc.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/scotland.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/scotland.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sd.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sd.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/se.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/se.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sg.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sg.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sh.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sh.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/si.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/si.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sj.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sj.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sk.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sk.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sl.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sl.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sm.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sm.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sn.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sn.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/so.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/so.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sr.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sr.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/st.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/st.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sv.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sv.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sy.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sy.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/sz.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/sz.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tc.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tc.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/td.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/td.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tf.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tf.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tg.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tg.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/th.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/th.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tj.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tj.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tk.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tk.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tl.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tl.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tm.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tm.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tn.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tn.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/to.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/to.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tr.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tr.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tt.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tt.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tv.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tv.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tw.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tw.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/tz.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/tz.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ua.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ua.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ug.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ug.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/um.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/um.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/us.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/us.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/uy.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/uy.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/uz.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/uz.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/va.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/va.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/vc.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/vc.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ve.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ve.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/vg.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/vg.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/vi.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/vi.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/vn.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/vn.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/vu.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/vu.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/wales.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/wales.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/wf.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/wf.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ws.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ws.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/ye.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/ye.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/yt.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/yt.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/za.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/za.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/zm.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/zm.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/root/static/images/icons/flags/zw.png
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/icons/flags/zw.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream



From chiselwright at mail.berlios.de  Thu Jan  3 23:04:57 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 3 Jan 2008 23:04:57 +0100
Subject: [Parley-svn] r719 - / trunk/lib trunk/root/base
Message-ID: <200801032204.m03M4v6H021315@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-03 23:04:56 +0100 (Thu, 03 Jan 2008)
New Revision: 719

Modified:
   /
   trunk/lib/Parley.pm
   trunk/root/base/footer
Log:
 r4440 at wiggin:  chisel | 2008-01-02 08:27:47 +0000
 version++
 year++



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4436
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4440
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley.pm
===================================================================
--- trunk/lib/Parley.pm	2008-01-01 22:34:29 UTC (rev 718)
+++ trunk/lib/Parley.pm	2008-01-03 22:04:56 UTC (rev 719)
@@ -3,7 +3,7 @@
 use strict;
 use warnings;
 
-our $VERSION = '0.58_11';
+our $VERSION = '0.58_12';
 
 use Catalyst::Runtime '5.70';
 use Catalyst qw/

Modified: trunk/root/base/footer
===================================================================
--- trunk/root/base/footer	2008-01-01 22:34:29 UTC (rev 718)
+++ trunk/root/base/footer	2008-01-03 22:04:56 UTC (rev 719)
@@ -5,7 +5,7 @@
                 <p>
                 <a href="http://developer.berlios.de/projects/parley">Parley</a>
                 (version [%c.config.version%])
-                &copy; Chisel Wright 2006-2007. [%l('All Rights Reserved')%].
+                &copy; Chisel Wright 2006-2008. [%l('All Rights Reserved')%].
                 </p>
             </div><!-- id="ft" -->
 



From chiselwright at mail.berlios.de  Thu Jan  3 23:05:15 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 3 Jan 2008 23:05:15 +0100
Subject: [Parley-svn] r720 - / trunk/root/base/user
Message-ID: <200801032205.m03M5FN0021528@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-03 23:05:15 +0100 (Thu, 03 Jan 2008)
New Revision: 720

Modified:
   /
   trunk/root/base/user/login
Log:
 r4449 at wiggin:  chisel | 2008-01-03 18:38:54 +0000
 / add c.uri_for() to template file
 / fix related test script



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4440
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4449
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/user/login
===================================================================
--- trunk/root/base/user/login	2008-01-03 22:04:56 UTC (rev 719)
+++ trunk/root/base/user/login	2008-01-03 22:05:15 UTC (rev 720)
@@ -1,4 +1,4 @@
-<form action="user/login" method="post" name="login_form">
+<form action="[%c.uri_for('/user/login')%]" method="post" name="login_form">
     <fieldset>
         <p>
             [% IF login_message %]
@@ -22,9 +22,9 @@
         <button type="submit" class="input_button" tabindex="3" />[%l('Login')%]</button>
 
             <p align="right">
-            <a href="user/password/forgotten">[%l('Forgotten Password')%]</a>
+            <a href="[%c.uri_for('user/password/forgotten')%]">[%l('Forgotten Password')%]</a>
             |
-            <a href="user/signup">[%l('Register')%]</a>
+            <a href="[%c.uri_for('user/signup')%]">[%l('Register')%]</a>
             </p>
     </fieldset>
 </form>



From chiselwright at mail.berlios.de  Thu Jan  3 23:05:34 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 3 Jan 2008 23:05:34 +0100
Subject: [Parley-svn] r721 - / trunk/root/base/forum trunk/t/mechanize
Message-ID: <200801032205.m03M5YQK021663@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-03 23:05:34 +0100 (Thu, 03 Jan 2008)
New Revision: 721

Modified:
   /
   trunk/root/base/forum/list
   trunk/t/mechanize/02.forum.t
Log:
 r4450 at wiggin:  chisel | 2008-01-03 18:55:42 +0000
 / added c.uri_for() and ammended test script



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4449
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4450
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/forum/list
===================================================================
--- trunk/root/base/forum/list	2008-01-03 22:05:15 UTC (rev 720)
+++ trunk/root/base/forum/list	2008-01-03 22:05:34 UTC (rev 721)
@@ -7,7 +7,7 @@
         <tr class="row [% row_styles.$toggler %]">
             <td width="50%">
                 <div class="forum_name">
-                    <a href="forum/view?forum=[% forum.id %]" class="forum_link">[% HTML.escape(forum.name) %]</a>
+                    <a href="[%c.uri_for('/forum/view',{'forum'=>forum.id})%]" class="forum_link">[% HTML.escape(forum.name) %]</a>
                 </div>
                 <div class="forum_description">
                     [% HTML.escape(forum.description) %]
@@ -17,7 +17,7 @@
                 <div class="forum_lastpost">
                 [% IF forum.last_post %]
                 <div class="forum_lastpost_subject">
-                    <a href="thread/view?thread=[% forum.last_post.thread_id %]" class="topic_link">[% HTML.escape(forum.last_post.thread.subject) |truncate(55) %]</a>
+                    <a href="[%c.uri_for('/thread/view',{thread=>forum.last_post.thread_id})%]" class="topic_link">[% HTML.escape(forum.last_post.thread.subject) |truncate(55) %]</a>
                 </div>
                 <div class="topic_creator">
                     [%l('posted by')%]

Modified: trunk/t/mechanize/02.forum.t
===================================================================
--- trunk/t/mechanize/02.forum.t	2008-01-03 22:05:15 UTC (rev 720)
+++ trunk/t/mechanize/02.forum.t	2008-01-03 22:05:34 UTC (rev 721)
@@ -3,7 +3,7 @@
 use strict;
 use warnings;
 
-use Test::More tests => 8;
+use Test::More tests => 7;
 
 use_ok( 'Test::WWW::Mechanize::Catalyst', 'Parley' );
 
@@ -15,17 +15,7 @@
 $mech->get_ok("http://localhost/forum/list", 'Got forum list page URL');
 $mech->content_contains('Forum List', 'Returned page is the forum list');
 
-TODO: {
-    local $TODO = q{::Mechanize::Test seems to give incorrect <base>};
-    $status = $mech->base_is('http://localhost/');
-}
-
-if (not $status) {
-    diag "<base> is wrong for tests, overriding";
-    $mech->{base} = 'http://localhost/';
-}
-
- at forum_links = $mech->find_all_links( url_regex => qr{\Aforum/view\?forum=} );
+ at forum_links = $mech->find_all_links( url_regex => qr{/forum/view\?forum=} );
 $mech->links_ok(
     \@forum_links,
     'Check all links for forum/view'



From chiselwright at mail.berlios.de  Thu Jan  3 23:05:54 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 3 Jan 2008 23:05:54 +0100
Subject: [Parley-svn] r722 - / trunk/t/mechanize
Message-ID: <200801032205.m03M5sVY021737@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-03 23:05:53 +0100 (Thu, 03 Jan 2008)
New Revision: 722

Added:
   trunk/t/mechanize/00.login.t
Modified:
   /
Log:
 r4451 at wiggin:  chisel | 2008-01-03 18:56:11 +0000
 / simple test for logging in



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4450
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4451
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: trunk/t/mechanize/00.login.t
===================================================================
--- trunk/t/mechanize/00.login.t	2008-01-03 22:05:34 UTC (rev 721)
+++ trunk/t/mechanize/00.login.t	2008-01-03 22:05:53 UTC (rev 722)
@@ -0,0 +1,40 @@
+#!/usr/bin/env perl
+# vim: ts=8 sts=4 et sw=4 sr sta
+use strict;
+use warnings;
+
+use Test::More tests => 5;
+
+use_ok( 'Test::WWW::Mechanize::Catalyst', 'Parley' );
+
+my ($mech, $status);
+
+$mech = Test::WWW::Mechanize::Catalyst->new;
+isa_ok(
+    $mech,
+    'Test::WWW::Mechanize::Catalyst'
+);
+
+
+$mech->get_ok(
+    'http://anywhere/user/login',
+    'Got index page'
+);
+
+$mech->content_contains(
+    'Please enter your username and password',
+    'Login message in returned page content'
+);
+
+
+$mech->submit_form(
+    fields => {
+        username => 'topdog',
+        password => 'k1tt3n',
+    }
+);
+
+$mech->content_contains(
+    'TopDog',
+    'page contains forumname'
+);



From chiselwright at mail.berlios.de  Thu Jan  3 23:06:03 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 3 Jan 2008 23:06:03 +0100
Subject: [Parley-svn] r723 - / trunk/root/base/shared
Message-ID: <200801032206.m03M63E4021809@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-03 23:06:03 +0100 (Thu, 03 Jan 2008)
New Revision: 723

Modified:
   /
   trunk/root/base/shared/postinfo_table_row
Log:
 r4452 at wiggin:  chisel | 2008-01-03 19:07:05 +0000
 / used c.uri_for() in <a> tags



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4451
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4452
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/shared/postinfo_table_row
===================================================================
--- trunk/root/base/shared/postinfo_table_row	2008-01-03 22:05:53 UTC (rev 722)
+++ trunk/root/base/shared/postinfo_table_row	2008-01-03 22:06:03 UTC (rev 723)
@@ -13,18 +13,18 @@
 
     <td>
         <div class="thread_subject">
-            <a href="thread/view?thread=[% thread.id %]" class="topic_link">[% ForumCode.escape(thread.subject) |truncate(55) %]</a>
+            <a href="[%c.uri_for('/thread/view',{'thread'=>thread.id})%]" class="topic_link">[% ForumCode.escape(thread.subject) |truncate(55) %]</a>
         </div>
         [%- IF show_forum_name %]
         <div class="thread_recent_forum">
-            <a href="forum/view?forum=[%thread.forum.id%]">[% thread.forum.name %]</a>
+            <a href="[%c.uri_for('/forum/view',{'forum'=>thread.forum.id})%]">[% thread.forum.name %]</a>
         </div>
         [% END %]
         <div class="forum_mini_pager">
             [%- IF authed_user || mini_pager %]
             [
                 [%- IF authed_user %]
-                <a href="thread/next_post?thread=[% thread.id %]">Continue</a>
+                <a href="[%c.uri_for('/thread/next_post',{'thread'=>thread.id})%]">Continue</a>
                 [%- END %]
             ]
             [%- END %]
@@ -39,7 +39,7 @@
         </div>
         <div class="forum_mini_pager">
             [
-            <a href="post/view?post=[%search_post.id%]">Go to post</a>
+            <a href="[%c.uri_for('/post/view',{'post'=>search_post.id})%]">Go to post</a>
             ]
         </div>
     </td>



From chiselwright at mail.berlios.de  Thu Jan  3 23:06:21 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 3 Jan 2008 23:06:21 +0100
Subject: [Parley-svn] r724 - / trunk/root/base/shared
Message-ID: <200801032206.m03M6LTC021879@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-03 23:06:21 +0100 (Thu, 03 Jan 2008)
New Revision: 724

Modified:
   /
   trunk/root/base/shared/pager_advanced
Log:
 r4453 at wiggin:  chisel | 2008-01-03 22:04:08 +0000
 / rewrite URLs to use c.uri_for()



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4452
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4453
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/shared/pager_advanced
===================================================================
--- trunk/root/base/shared/pager_advanced	2008-01-03 22:06:03 UTC (rev 723)
+++ trunk/root/base/shared/pager_advanced	2008-01-03 22:06:21 UTC (rev 724)
@@ -1,20 +1,28 @@
 [% IF page %]
 <div class="pager_advanced">
+    [% curr_path = '/' _ c.req.path %]
     [% IF current_thread %]
-    [% url_extra_args = '&amp;thread=' _ current_thread.id %]
+    [% extra_url_args = { 'thread' => current_thread.id } %]
     [% ELSIF current_forum %]
-    [% url_extra_args = '&amp;forum=' _ current_forum.id %]
+    [% extra_url_args = { 'forum' => current_forum.id } %]
+    [% ELSE %]
+    [% extra_url_args = { } %]
     [% END %]
 
     [%l('Page [_1] of [_2]', [page.current_page, page.last_page])%]
     [% IF page.last_page > 1 %]
     [
         [% UNLESS page.current_page == page.first_page %]
-        <a href="[% c.req.path %]?page=[% page.first_page %][% url_extra_args %]">[%l('First')%]</a> |
+        [% url_args = { 'page' => page.first_page } %]
+        [% url_args.import(extra_url_args) %]
+        <a href="[%c.uri_for(curr_path,url_args)%]">[%l('First')%]</a>
+        |
         [% END %]
 
         [% IF page.previous_page %]
-        <a href="[% c.req.path %]?page=[% page.previous_page %][% url_extra_args %]">[%l('Previous')%]</a>
+        [% url_args = { 'page' => page.previous_page } %]
+        [% url_args.import(extra_url_args) %]
+        <a href="[%c.uri_for(curr_path,url_args)%]">[%l('Previous')%]</a>
         |
         [% END %]
 
@@ -24,7 +32,9 @@
                 [% IF page.current_page == jiffy %]
                 <b>[% jiffy %]</b>
                 [% ELSE %]
-                <a href="[% c.req.path %]?page=[% jiffy %][% url_extra_args %]">[% jiffy %]</a>
+                [% url_args = { 'page' => jiffy } %]
+                [% url_args.import(extra_url_args) %]
+                <a href="[%c.uri_for(curr_path,url_args)%]">[%jiffy%]</a>
                 [% END %]
             [% ELSE %]
                 ...
@@ -33,12 +43,16 @@
 
         [% IF page.next_page %]
         |
-        <a href="[% c.req.path %]?page=[% page.next_page %][% url_extra_args %]">[%l('Next')%]</a>
+        [% url_args = { 'page' => page.next_page } %]
+        [% url_args.import(extra_url_args) %]
+        <a href="[%c.uri_for(curr_path,url_args)%]">[%l('Next')%]</a>
         [% END %]
 
         [% UNLESS page.current_page == page.last_page %]
         |
-        <a href="[% c.req.path %]?page=[% page.last_page %][% url_extra_args %]">[%l('Last')%]</a>
+        [% url_args = { 'page' => page.last_page } %]
+        [% url_args.import(extra_url_args) %]
+        <a href="[%c.uri_for(curr_path,url_args)%]">[%l('Last')%]</a>
         [% END %]
     ]
     [% END %]



From chiselwright at mail.berlios.de  Wed Jan  9 20:50:48 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Wed, 9 Jan 2008 20:50:48 +0100
Subject: [Parley-svn] r725 - / trunk/root trunk/root/static
Message-ID: <200801091950.m09Jom2R014647@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-09 20:50:47 +0100 (Wed, 09 Jan 2008)
New Revision: 725

Added:
   trunk/root/static/css/
Removed:
   trunk/root/css/
Modified:
   /
Log:
 r4460 at wiggin:  chisel | 2008-01-09 09:11:57 +0000
 / made the long overdue move of css/ into static/



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4453
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4460
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Copied: trunk/root/static/css (from rev 717, trunk/root/css)



From chiselwright at mail.berlios.de  Wed Jan  9 20:50:57 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Wed, 9 Jan 2008 20:50:57 +0100
Subject: [Parley-svn] r726 - / trunk/root/base
Message-ID: <200801091950.m09Jovpi014734@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-09 20:50:56 +0100 (Wed, 09 Jan 2008)
New Revision: 726

Modified:
   /
   trunk/root/base/header
Log:
 r4461 at wiggin:  chisel | 2008-01-09 09:16:30 +0000
 / updated Parley CSS <link>s



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4460
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4461
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/header
===================================================================
--- trunk/root/base/header	2008-01-09 19:50:47 UTC (rev 725)
+++ trunk/root/base/header	2008-01-09 19:50:56 UTC (rev 726)
@@ -53,16 +53,7 @@
 
 
         <!-- defined styles for parley -->
-        <!--<link type="text/css" rel="stylesheet" title="Default" href="[% c.request.base %]/css/common.css" />-->
-        <link type="text/css" rel="alternate stylesheet"           title="Default"    href="[% c.request.base %]/css/layout27.css" />
-        <link type="text/css" rel="alternate stylesheet" title="Layout 23"  href="[% c.request.base %]/css/layout23.css" />
-        <link type="text/css" rel="stylesheet" title="Experiment" href="[% c.request.base %]/css/experiment.css" />
-        <!--
-        <style type="text/css">
-            @import url("[%c.request.base%]/css/common.css");
-        </style>
-        -->
-
+        <link type="text/css" rel="stylesheet" title="Experiment"           href="[% c.request.base %]/static/css/experiment.css" />
     </head>
 
     <body class="yui-skin-sam">



From chiselwright at mail.berlios.de  Wed Jan  9 20:51:04 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Wed, 9 Jan 2008 20:51:04 +0100
Subject: [Parley-svn] r727 - / trunk trunk/lib/Parley/Controller
Message-ID: <200801091951.m09Jp4HF014807@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-09 20:51:04 +0100 (Wed, 09 Jan 2008)
New Revision: 727

Modified:
   /
   trunk/TODO
   trunk/lib/Parley/Controller/Thread.pm
Log:
 r4462 at wiggin:  chisel | 2008-01-09 19:20:40 +0000
 / fix error when trying to post new thread with no subject line



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4461
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4462
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-01-09 19:50:56 UTC (rev 726)
+++ trunk/TODO	2008-01-09 19:51:04 UTC (rev 727)
@@ -13,6 +13,7 @@
   - advanced search page
   - proper moderator support/management
   - IP/user reporting
+D - [bug] fix error when trying to post new thread with no subject line
 ? - see if we can work out why 'make catalyst_par' is failing
 D - i18n Login and Cancel buttons in login_dialog
 D - fix CSS for <fieldset>s

Modified: trunk/lib/Parley/Controller/Thread.pm
===================================================================
--- trunk/lib/Parley/Controller/Thread.pm	2008-01-09 19:50:56 UTC (rev 726)
+++ trunk/lib/Parley/Controller/Thread.pm	2008-01-09 19:51:04 UTC (rev 727)
@@ -441,16 +441,16 @@
             $c->log->error( $@ );
             return;
         }
+        # set the current thread
+        $c->_current_thread( $new_thread );
+
+        # view the "next post" in the new thread
+        $c->detach('next_post');
     }
 
     # getting here means we validated the form, and added required data for the
     # new thread
 
-    # set the current thread
-    $c->_current_thread( $new_thread );
-
-    # view the "next post" in the new thread
-    $c->detach('next_post');
 }
 
 sub _get_thread_reply_post {



From chiselwright at mail.berlios.de  Thu Jan 10 20:50:29 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 10 Jan 2008 20:50:29 +0100
Subject: [Parley-svn] r728 - / trunk/lib/Parley/ResultSet trunk/root/base
	trunk/root/base/thread trunk/root/static/css
Message-ID: <200801101950.m0AJoThd021791@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-10 20:50:29 +0100 (Thu, 10 Jan 2008)
New Revision: 728

Modified:
   /
   trunk/lib/Parley/ResultSet/Thread.pm
   trunk/root/base/header
   trunk/root/base/thread/add
   trunk/root/static/css/experiment.css
Log:
 r4466 at wiggin:  chisel | 2008-01-10 18:47:10 +0000
 / add a die() if we try to find the last post in an undefined thread
 / rename the style attached to experiment.css
 / tidy-up thread/add layout, including CSS additions and tweaks



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4462
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4466
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley/ResultSet/Thread.pm
===================================================================
--- trunk/lib/Parley/ResultSet/Thread.pm	2008-01-09 19:51:04 UTC (rev 727)
+++ trunk/lib/Parley/ResultSet/Thread.pm	2008-01-10 19:50:29 UTC (rev 728)
@@ -17,6 +17,10 @@
     my ($self, $person, $thread) = @_;
     my ($last_viewed, $last_post) = @_;
 
+    if (not defined $thread) {
+        die "no thread defined";
+    }
+
     my $schema = $self->result_source()->schema();
 
     # we need to be careful that we haven't deleted/hidden the post that

Modified: trunk/root/base/header
===================================================================
--- trunk/root/base/header	2008-01-09 19:51:04 UTC (rev 727)
+++ trunk/root/base/header	2008-01-10 19:50:29 UTC (rev 728)
@@ -53,7 +53,7 @@
 
 
         <!-- defined styles for parley -->
-        <link type="text/css" rel="stylesheet" title="Experiment"           href="[% c.request.base %]/static/css/experiment.css" />
+        <link type="text/css" rel="stylesheet" title="Simple" href="[%c.uri_for('/static/css/experiment.css')%]" />
     </head>
 
     <body class="yui-skin-sam">

Modified: trunk/root/base/thread/add
===================================================================
--- trunk/root/base/thread/add	2008-01-09 19:51:04 UTC (rev 727)
+++ trunk/root/base/thread/add	2008-01-10 19:50:29 UTC (rev 728)
@@ -1,4 +1,9 @@
-<h1>[%l('Start A New Topic')%]</h1>
+<div style="margin-top:10px;"></div>
+<div class="thread_header">
+    <a href="forum/view?forum=[% current_forum.id %]">[% current_forum.name %]</a>
+    &nbsp;:&nbsp;
+    [%l('Start A New Topic')%]
+</div>
 
 [% IF view.error.message %]
     [% view.error.message %]
@@ -9,41 +14,71 @@
     </ul>
 [% END %]
 
-
 <form action="thread/add?forum=[% current_forum.id %]" method="POST" name="new_thread">
+    <table class="thread_add" border="0">
+        <tr>
+            <td class="thread_add_topic"> [%l('Topic')%] </td>
+            <td>
+            <input type="text" name="thread_subject" size="60" class="input_text" />
+            </td>
+        </tr>
 
-<table>
+        <tr>
+            <td class="thread_add_message"> [%l('Message')%] </td>
+            <td>
+                <textarea name="thread_message" id="thread_message" cols="60" rows="20" class="input_text" /></textarea>
+            </td>
+        </tr>
 
-  <tr>
-    <td> [%l('Topic')%] </td>
-    <td>
-      <input type="text" name="thread_subject" size="60" class="input_text" />
-    </td>
-  </tr>
+        <tr>
+            <td colspan="2" style="text-align: center;">
+            <input type="button" value="[%l('Preview')%]" name="post_reply" class="" id="message_preview" />
+            <input type="submit" value="[%l('Post New Topic')%]" name="post_reply" class="" />
+            </td>
+        </tr>
 
-  <tr>
-    <td> [%l('Message')%] </td>
-    <td>
-        <textarea name="thread_message" id="thread_message" cols="60" rows="20" class="input_text" /></textarea>
-    </td>
-  </tr>
+        <tr>
+            <td colspan="2" align="right">
+                <input type="checkbox" name="watch_on_post" value="1" [% IF authed_user.preference.watch_on_post %]checked="checked" [% END %]/>
+                [%l('ADD THREAD WATCH')%] 
+            </td>
+        </tr>
+    </table>
+</form>
 
-  <tr>
-    <td colspan="2" style="text-align: center;">
-      <input type="button" value="[%l('Preview')%]"        name="post_reply" class="input_button" id="message_preview" />
-      <input type="submit" value="[%l('Post New Topic')%]" name="post_reply" class="input_button" />
-    </td>
-  </tr>
+[% IF 0 %]
+<form action="thread/add?forum=[% current_forum.id %]" method="POST" name="new_thread">
+    <table border="1">
+    <tr>
+        <td> [%l('Topic')%] </td>
+        <td>
+        <input type="text" name="thread_subject" size="60" class="input_text" />
+        </td>
+    </tr>
 
-  <tr>
-    <td colspan="2" align="right">
-        <input type="checkbox" name="watch_on_post" value="1" [% IF authed_user.preference.watch_on_post %]checked="checked" [% END %]/>
-        [%l('ADD THREAD WATCH')%] 
-    </td>
-  </tr>
-</table>
+    <tr>
+        <td> [%l('Message')%] </td>
+        <td>
+            <textarea name="thread_message" id="old_thread_message" cols="60" rows="20" class="input_text" /></textarea>
+        </td>
+    </tr>
 
+    <tr>
+        <td colspan="2" style="text-align: center;">
+        <input type="button" value="[%l('Preview')%]"        name="post_reply" class="input_button" id="message_preview" />
+        <input type="submit" value="[%l('Post New Topic')%]" name="post_reply" class="input_button" />
+        </td>
+    </tr>
+
+    <tr>
+        <td colspan="2" align="right">
+            <input type="checkbox" name="watch_on_post" value="1" [% IF authed_user.preference.watch_on_post %]checked="checked" [% END %]/>
+            [%l('ADD THREAD WATCH')%] 
+        </td>
+    </tr>
+    </table>
 </form>
+[% END %]
 
 <style type="text/css">
 	.yui-overlay { position:absolute;background:transparent;border:none;padding:none;margin:none; }

Modified: trunk/root/static/css/experiment.css
===================================================================
--- trunk/root/static/css/experiment.css	2008-01-09 19:51:04 UTC (rev 727)
+++ trunk/root/static/css/experiment.css	2008-01-10 19:50:29 UTC (rev 728)
@@ -336,6 +336,34 @@
     border:             1px solid #666;
 }
 
+.thread_add {
+    margin-left:        auto;
+    margin-right:       auto;
+    margin-top:         15px;
+    width:              100%;
+    font-size:          93%;
+}
+
+.thread_add td {
+    padding-top:        4px;
+    padding-bottom:     4px;
+}
+
+.thread_add .input_text {
+    width:              450px;
+    margin-left:        10px;
+}
+
+.thread_add_topic {
+    text-align:         right;
+    padding-right:      5px;
+}
+.thread_add_message {
+    text-align:         right;
+    vertical-align:     top;
+    padding-right:      5px;
+}
+
 .thread_header {
     font-weight:        bold;
     background:         #666;
@@ -456,14 +484,15 @@
 #preview_overlay {
     border:             1px dashed #ccc;
     text-align:         left;
-    padding:            3px;
+    padding:            0px;
 }
 #thread_message {
     font-family:        monospace;
     text-align:         left;
-    padding:            3px;
+    padding:            0px;
     background-color:   #eee;
     font-size:          93%;
+    width:              450px;
 }
 
 /* ForumCode styles */
@@ -514,14 +543,3 @@
 }
 
 
-
-
-
-
-
-
-
-
-
-
-



From chiselwright at mail.berlios.de  Thu Jan 10 20:50:43 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 10 Jan 2008 20:50:43 +0100
Subject: [Parley-svn] r729 - / trunk trunk/root/base/thread trunk/root/static
Message-ID: <200801101950.m0AJohxN021863@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-10 20:50:43 +0100 (Thu, 10 Jan 2008)
New Revision: 729

Added:
   trunk/root/static/MessagePreview.js
Modified:
   /
   trunk/Changes
   trunk/root/base/thread/add
   trunk/root/base/thread/reply
Log:
 r4467 at wiggin:  chisel | 2008-01-10 19:16:35 +0000
 / factored out MessagePreview javascript into single included file



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4466
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4467
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-01-10 19:50:29 UTC (rev 728)
+++ trunk/Changes	2008-01-10 19:50:43 UTC (rev 729)
@@ -10,6 +10,8 @@
     - limit thread subject length on user profile page
     - rename DB columns to be more sensible
     - upgraded to YUI 2.4.1
+    - factored out MessagePreview javascript into single included file
+    - [bug] fix error when trying to post new thread with no subject line
 
 0.57    Wed Oct 31 19:15:06 GMT 2007
     - added T&Cs to application

Modified: trunk/root/base/thread/add
===================================================================
--- trunk/root/base/thread/add	2008-01-10 19:50:29 UTC (rev 728)
+++ trunk/root/base/thread/add	2008-01-10 19:50:43 UTC (rev 729)
@@ -46,157 +46,19 @@
     </table>
 </form>
 
-[% IF 0 %]
-<form action="thread/add?forum=[% current_forum.id %]" method="POST" name="new_thread">
-    <table border="1">
-    <tr>
-        <td> [%l('Topic')%] </td>
-        <td>
-        <input type="text" name="thread_subject" size="60" class="input_text" />
-        </td>
-    </tr>
-
-    <tr>
-        <td> [%l('Message')%] </td>
-        <td>
-            <textarea name="thread_message" id="old_thread_message" cols="60" rows="20" class="input_text" /></textarea>
-        </td>
-    </tr>
-
-    <tr>
-        <td colspan="2" style="text-align: center;">
-        <input type="button" value="[%l('Preview')%]"        name="post_reply" class="input_button" id="message_preview" />
-        <input type="submit" value="[%l('Post New Topic')%]" name="post_reply" class="input_button" />
-        </td>
-    </tr>
-
-    <tr>
-        <td colspan="2" align="right">
-            <input type="checkbox" name="watch_on_post" value="1" [% IF authed_user.preference.watch_on_post %]checked="checked" [% END %]/>
-            [%l('ADD THREAD WATCH')%] 
-        </td>
-    </tr>
-    </table>
-</form>
-[% END %]
-
 <style type="text/css">
 	.yui-overlay { position:absolute;background:transparent;border:none;padding:none;margin:none; }
 </style>
 
 <!-- message preview majick -->
+<script type="text/javascript" src="[%c.uri_for('/static/MessagePreview.js')%]"></script>
 <script type="text/javascript">
-    (function () {
-        ParleyMessagePreview = function() {
-            var Dom         = YAHOO.util.Dom,
-                YU          = YAHOO.util;
+    var MessagePreview = new ParleyMessagePreview();
 
-            this.config = {
-                trigger     : 'message_preview',
-                user_input  : 'thread_message',
-                container   : 'message_container',
-                trigger_evt : 'click'
-            };
-            this.message_source  = false;
-            this.message_preview = false;
+    MessagePreview.config.label_preview = '[%l('Preview')%]';
+    MessagePreview.config.label_edit    = '[%l('Edit')%]';
+    MessagePreview.config.post_url      = "[%c.uri_for('/post/preview')%]";
 
-            this.handleSuccess = function(o) {
-                var data = eval('(' + o.responseText + ')');
-                var obj = o.argument.obj;
-
-                if (data.formatted) {
-                    obj.previewElId = YU.Dom.generateId();
-
-                    obj.user_input.style.visibility     = 'hidden';
-
-                    /* create a panel to show the preview in */
-                    var pWidth          = obj.user_input.clientWidth,
-                        pHeight         = obj.user_input.clientHeight,
-                        pLeft           = obj.user_input.offsetLeft,
-                        pTop            = obj.user_input.offsetTop;
-
-                    obj.preview_overlay = new YAHOO.widget.Overlay(
-                        "preview_overlay",
-                        {
-                            context:        [obj.config.user_input, 'tl', 'tl'],
-                            visible:        true,
-                            width:          obj.user_input.clientWidth  + 'px',
-                            height:         obj.user_input.clientHeight + 'px'
-                        }
-                    );
-
-                    obj.preview_overlay.setBody(data.formatted);
-                    obj.preview_overlay.render(document.body);
-                    Dom.get('preview_overlay').style.overflow = 'auto';
-
-
-                    // update the button
-                    obj.trigger.value = '[%l('Edit')%]';
-
-                    YU.Event.removeListener( obj.trigger, 'click' );
-                    YU.Event.addListener(
-                        obj.trigger,
-                        obj.config.trigger_evt,
-                        obj.edit,
-                        obj,
-                        true
-                    );
-
-                }
-            };
-            this.handleFailure = function(o) {
-                console.log('failure');
-            };
-
-            this.edit = function() {
-                // update the button
-                this.trigger.value = '[%l('Preview')%]';
-
-                this.user_input.style.visibility     = 'visible';
-                this.preview_overlay.destroy();
-
-                YU.Event.removeListener( this.trigger, 'click' );
-                YU.Event.addListener(
-                    this.trigger,
-                    this.config.trigger_evt,
-                    this.preview,
-                    this,
-                    true
-                );
-            };
-
-            this.preview = function() {
-                var request = YU.Connect.asyncRequest(
-                    'POST',
-                    '[%base%]post/preview',
-                    {
-                        success: this.handleSuccess,
-                        failure: this.handleFailure,
-                        argument: {
-                            obj: this
-                        }
-                    },
-                    'msg_source=' + escape(this.user_input.value)
-                );
-            };
-
-            this.init = function() {
-                this.container  = Dom.get( this.config.container );
-                this.user_input = Dom.get( this.config.user_input );
-                this.trigger    = Dom.get( this.config.trigger );
-
-                YU.Event.addListener(
-                    this.trigger,
-                    this.config.trigger_evt,
-                    this.preview,
-                    this,
-                    true
-                );
-            };
-        };
-    })();
-
-    var MessagePreview = new ParleyMessagePreview();
     MessagePreview.init();
 </script>
 <!-- (end) message preview majick -->

Modified: trunk/root/base/thread/reply
===================================================================
--- trunk/root/base/thread/reply	2008-01-10 19:50:29 UTC (rev 728)
+++ trunk/root/base/thread/reply	2008-01-10 19:50:43 UTC (rev 729)
@@ -117,121 +117,14 @@
 </style>
 
 <!-- message preview majick -->
+<script type="text/javascript" src="[%c.uri_for('/static/MessagePreview.js')%]"></script>
 <script type="text/javascript">
-    (function () {
-        ParleyMessagePreview = function() {
-            var Dom         = YAHOO.util.Dom,
-                YU          = YAHOO.util;
+    var MessagePreview = new ParleyMessagePreview();
 
-            this.config = {
-                trigger     : 'message_preview',
-                user_input  : 'thread_message',
-                container   : 'message_container',
-                trigger_evt : 'click'
-            };
-            this.message_source  = false;
-            this.message_preview = false;
+    MessagePreview.config.label_preview = '[%l('Preview')%]';
+    MessagePreview.config.label_edit    = '[%l('Edit')%]';
+    MessagePreview.config.post_url      = "[%c.uri_for('/post/preview')%]";
 
-            this.handleSuccess = function(o) {
-                var data = eval('(' + o.responseText + ')');
-                var obj = o.argument.obj;
-
-                YAHOO.parley.loading.wait.hide();
-
-                if (data.formatted) {
-                    obj.previewElId = YU.Dom.generateId();
-
-                    obj.user_input.style.visibility     = 'hidden';
-
-                    /* create a panel to show the preview in */
-                    var pWidth          = obj.user_input.clientWidth,
-                        pHeight         = obj.user_input.clientHeight,
-                        pLeft           = obj.user_input.offsetLeft,
-                        pTop            = obj.user_input.offsetTop;
-
-                    obj.preview_overlay = new YAHOO.widget.Overlay(
-                        "preview_overlay",
-                        {
-                            context:        [obj.config.user_input, 'tl', 'tl'],
-                            visible:        true,
-                            width:          obj.user_input.clientWidth  + 'px',
-                            height:         obj.user_input.clientHeight + 'px'
-                        }
-                    );
-
-                    obj.preview_overlay.setBody(data.formatted);
-                    obj.preview_overlay.render(document.body);
-                    Dom.get('preview_overlay').style.overflow = 'auto';
-
-
-                    // update the button
-                    obj.trigger.value = '[%l('Edit')%]';
-
-                    YU.Event.removeListener( obj.trigger, 'click' );
-                    YU.Event.addListener(
-                        obj.trigger,
-                        obj.config.trigger_evt,
-                        obj.edit,
-                        obj,
-                        true
-                    );
-
-                }
-            };
-            this.handleFailure = function(o) {
-                console.log('failure');
-            };
-
-            this.edit = function() {
-                // update the button
-                this.trigger.value = '[%l('Preview')%]';
-
-                this.user_input.style.visibility     = 'visible';
-                this.preview_overlay.destroy();
-
-                YU.Event.removeListener( this.trigger, 'click' );
-                YU.Event.addListener(
-                    this.trigger,
-                    this.config.trigger_evt,
-                    this.preview,
-                    this,
-                    true
-                );
-            };
-
-            this.preview = function() {
-                YAHOO.parley.loading.wait.show();
-                var request = YU.Connect.asyncRequest(
-                    'POST',
-                    '[%base%]post/preview',
-                    {
-                        success: this.handleSuccess,
-                        failure: this.handleFailure,
-                        argument: {
-                            obj: this
-                        }
-                    },
-                    'msg_source=' + escape(this.user_input.value)
-                );
-            };
-
-            this.init = function() {
-                this.container  = Dom.get( this.config.container );
-                this.user_input = Dom.get( this.config.user_input );
-                this.trigger    = Dom.get( this.config.trigger );
-
-                YU.Event.addListener(
-                    this.trigger,
-                    this.config.trigger_evt,
-                    this.preview,
-                    this,
-                    true
-                );
-            };
-        };
-    })();
-
-    var MessagePreview = new ParleyMessagePreview();
     MessagePreview.init();
 </script>
 <!-- (end) message preview majick -->

Added: trunk/root/static/MessagePreview.js
===================================================================
--- trunk/root/static/MessagePreview.js	2008-01-10 19:50:29 UTC (rev 728)
+++ trunk/root/static/MessagePreview.js	2008-01-10 19:50:43 UTC (rev 729)
@@ -0,0 +1,137 @@
+/*
+ * MessagePreview - show a preview of the message to be posted
+ * with all ForumCode being rendered (replacing the input area)
+ *
+ * - Chisel Wright <chisel at herlpacker.co.uk>
+ *
+ */
+
+/*
+    Usage Example:
+
+    <!-- message preview majick -->
+    <script type="text/javascript" src="[%c.uri_for('/static/MessagePreview.js')%]"></script>
+    <script type="text/javascript">
+        var MessagePreview = new ParleyMessagePreview();
+
+        MessagePreview.config.label_preview = '[%l('Preview')%]';
+        MessagePreview.config.label_edit    = '[%l('Edit')%]';
+        MessagePreview.config.post_url      = "[%c.uri_for('/post/preview')%]";
+
+        MessagePreview.init();
+    </script>
+    <!-- (end) message preview majick -->
+*/
+
+(function () {
+    ParleyMessagePreview = function() {
+        var Dom         = YAHOO.util.Dom,
+            YU          = YAHOO.util;
+
+        this.config = {
+            trigger       : 'message_preview',
+            user_input    : 'thread_message',
+            container     : 'message_container',
+            trigger_evt   : 'click',
+            post_url      : 'post/preview',
+            label_edit    : 'Edit',
+            label_preview : 'Preview'
+        };
+        this.message_source  = false;
+        this.message_preview = false;
+
+        this.handleSuccess = function(o) {
+            var data = eval('(' + o.responseText + ')');
+            var obj = o.argument.obj;
+
+            if (data.formatted) {
+                obj.previewElId = YU.Dom.generateId();
+
+                obj.user_input.style.visibility     = 'hidden';
+
+                /* create a panel to show the preview in */
+                var pWidth          = obj.user_input.clientWidth,
+                    pHeight         = obj.user_input.clientHeight,
+                    pLeft           = obj.user_input.offsetLeft,
+                    pTop            = obj.user_input.offsetTop;
+
+                obj.preview_overlay = new YAHOO.widget.Overlay(
+                    "preview_overlay",
+                    {
+                        context:        [obj.config.user_input, 'tl', 'tl'],
+                        visible:        true,
+                        width:          obj.user_input.clientWidth  + 'px',
+                        height:         obj.user_input.clientHeight + 'px'
+                    }
+                );
+
+                obj.preview_overlay.setBody(data.formatted);
+                obj.preview_overlay.render(document.body);
+                Dom.get('preview_overlay').style.overflow = 'auto';
+
+
+                // update the button
+                obj.trigger.value = obj.config.label_edit; //"'[%l('Edit')%]'";
+
+                YU.Event.removeListener( obj.trigger, 'click' );
+                YU.Event.addListener(
+                    obj.trigger,
+                    obj.config.trigger_evt,
+                    obj.edit,
+                    obj,
+                    true
+                );
+
+            }
+        };
+        this.handleFailure = function(o) {
+            console.log('failure');
+        };
+
+        this.edit = function() {
+            // update the button
+            this.trigger.value = this.config.label_preview; //"'[%l('Preview')%]'";
+
+            this.user_input.style.visibility     = 'visible';
+            this.preview_overlay.destroy();
+
+            YU.Event.removeListener( this.trigger, 'click' );
+            YU.Event.addListener(
+                this.trigger,
+                this.config.trigger_evt,
+                this.preview,
+                this,
+                true
+            );
+        };
+
+        this.preview = function() {
+            var request = YU.Connect.asyncRequest(
+                'POST',
+                this.config.post_url, //'post/preview',
+                {
+                    success: this.handleSuccess,
+                    failure: this.handleFailure,
+                    argument: {
+                        obj: this
+                    }
+                },
+                'msg_source=' + escape(this.user_input.value)
+            );
+        };
+
+        this.init = function() {
+            this.container  = Dom.get( this.config.container );
+            this.user_input = Dom.get( this.config.user_input );
+            this.trigger    = Dom.get( this.config.trigger );
+
+            YU.Event.addListener(
+                this.trigger,
+                this.config.trigger_evt,
+                this.preview,
+                this,
+                true
+            );
+        };
+    };
+})();



From chiselwright at mail.berlios.de  Thu Jan 10 20:50:53 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 10 Jan 2008 20:50:53 +0100
Subject: [Parley-svn] r730 - / trunk/root/base/post trunk/root/static
Message-ID: <200801101950.m0AJor2d021953@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-10 20:50:53 +0100 (Thu, 10 Jan 2008)
New Revision: 730

Modified:
   /
   trunk/root/base/post/edit
   trunk/root/static/MessagePreview.js
Log:
 r4468 at wiggin:  chisel | 2008-01-10 19:21:19 +0000
 / updated usage info in .js file
 / added Preview to editing posts



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4467
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4468
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/post/edit
===================================================================
--- trunk/root/base/post/edit	2008-01-10 19:50:43 UTC (rev 729)
+++ trunk/root/base/post/edit	2008-01-10 19:50:53 UTC (rev 730)
@@ -12,14 +12,28 @@
     <table>
         <tr>
             <td>
-                <textarea name="post_message" cols="60" rows="10" class="post_message" />[% current_post.message %]</textarea>
+                <textarea id="thread_message" name="post_message" cols="60" rows="10" class="post_message" />[% current_post.message %]</textarea>
             </td>
         </tr>
 
         <tr>
             <td colspan="2" style="text-align: center;">
+                <input type="button" value="[%l('Preview')%]" name="post_reply" class="" id="message_preview" />
                 <input type="submit" value="[%l('Update Reply')%]" name="post_update"    class="input_button" />
             </td>
         </tr>
     </table>
 </form>
+
+<!-- message preview majick -->
+<script type="text/javascript" src="[%c.uri_for('/static/MessagePreview.js')%]"></script>
+<script type="text/javascript">
+    var MessagePreview = new ParleyMessagePreview();
+
+    MessagePreview.config.label_preview = '[%l('Preview')%]';
+    MessagePreview.config.label_edit    = '[%l('Edit')%]';
+    MessagePreview.config.post_url      = "[%c.uri_for('/post/preview')%]";
+
+    MessagePreview.init();
+</script>
+<!-- (end) message preview majick -->

Modified: trunk/root/static/MessagePreview.js
===================================================================
--- trunk/root/static/MessagePreview.js	2008-01-10 19:50:43 UTC (rev 729)
+++ trunk/root/static/MessagePreview.js	2008-01-10 19:50:53 UTC (rev 730)
@@ -9,18 +9,26 @@
 /*
     Usage Example:
 
-    <!-- message preview majick -->
-    <script type="text/javascript" src="[%c.uri_for('/static/MessagePreview.js')%]"></script>
-    <script type="text/javascript">
-        var MessagePreview = new ParleyMessagePreview();
+        <!-- message preview majick -->
+        <script type="text/javascript" src="[%c.uri_for('/static/MessagePreview.js')%]"></script>
+        <script type="text/javascript">
+            var MessagePreview = new ParleyMessagePreview();
 
-        MessagePreview.config.label_preview = '[%l('Preview')%]';
-        MessagePreview.config.label_edit    = '[%l('Edit')%]';
-        MessagePreview.config.post_url      = "[%c.uri_for('/post/preview')%]";
+            MessagePreview.config.label_preview = '[%l('Preview')%]';
+            MessagePreview.config.label_edit    = '[%l('Edit')%]';
+            MessagePreview.config.post_url      = "[%c.uri_for('/post/preview')%]";
 
-        MessagePreview.init();
-    </script>
-    <!-- (end) message preview majick -->
+            MessagePreview.init();
+        </script>
+        <!-- (end) message preview majick -->
+
+    In your HTML have a field with id 'thread_message' and a button with id 'message_preview':
+
+        <textarea name="thread_message" id="thread_message" cols="60" rows="20" class="input_text" /></textarea>
+
+        ...
+
+        <input type="button" value="[%l('Preview')%]" name="post_reply" class="" id="message_preview" />
 */
 
 (function () {



From chiselwright at mail.berlios.de  Thu Jan 10 20:51:02 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 10 Jan 2008 20:51:02 +0100
Subject: [Parley-svn] r731 - / trunk
Message-ID: <200801101951.m0AJp2YN022065@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-10 20:51:02 +0100 (Thu, 10 Jan 2008)
New Revision: 731

Modified:
   /
   trunk/MANIFEST
Log:
 r4469 at wiggin:  chisel | 2008-01-10 19:23:00 +0000
 $ rm MANIFEST && make manifest



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4468
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4469
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/MANIFEST
===================================================================
--- trunk/MANIFEST	2008-01-10 19:50:53 UTC (rev 730)
+++ trunk/MANIFEST	2008-01-10 19:51:02 UTC (rev 731)
@@ -81,7 +81,6 @@
 MANIFEST.SKIP
 META.yml
 parley.yml
-prefetch_columns.pl
 README
 root/base/about/modules
 root/base/error/simple
@@ -139,15 +138,6 @@
 root/base/user/lostpassword/reset_success
 root/base/user/profile
 root/base/user/signup/signup
-root/css/common.css
-root/css/default.css
-root/css/experiment.css
-root/css/images/bg.gif
-root/css/images/client_logo.gif
-root/css/images/logo.png
-root/css/layout23.css
-root/css/layout27.css
-root/css/layout33.css
 root/email_templates/i_default/authentication_email.eml
 root/email_templates/i_default/password_reset.eml
 root/email_templates/i_default/thread_update_notify.eml
@@ -159,6 +149,15 @@
 root/email_templates/it/thread_update_notify.html
 root/email_templates/it/username_reminder.eml
 root/favicon.ico
+root/static/css/common.css
+root/static/css/default.css
+root/static/css/experiment.css
+root/static/css/images/bg.gif
+root/static/css/images/client_logo.gif
+root/static/css/images/logo.png
+root/static/css/layout23.css
+root/static/css/layout27.css
+root/static/css/layout33.css
 root/static/Editable.js
 root/static/images/btn_120x50_built.png
 root/static/images/btn_120x50_built_shadow.png
@@ -172,16 +171,261 @@
 root/static/images/filetypes/image.png
 root/static/images/filetypes/pdf.png
 root/static/images/icons/anchor.png
+root/static/images/icons/flags/ad.png
+root/static/images/icons/flags/ae.png
+root/static/images/icons/flags/af.png
+root/static/images/icons/flags/ag.png
+root/static/images/icons/flags/ai.png
+root/static/images/icons/flags/al.png
+root/static/images/icons/flags/am.png
+root/static/images/icons/flags/an.png
+root/static/images/icons/flags/ao.png
+root/static/images/icons/flags/ar.png
+root/static/images/icons/flags/as.png
+root/static/images/icons/flags/at.png
+root/static/images/icons/flags/au.png
+root/static/images/icons/flags/aw.png
+root/static/images/icons/flags/ax.png
+root/static/images/icons/flags/az.png
+root/static/images/icons/flags/ba.png
+root/static/images/icons/flags/bb.png
+root/static/images/icons/flags/bd.png
+root/static/images/icons/flags/be.png
+root/static/images/icons/flags/bf.png
+root/static/images/icons/flags/bg.png
+root/static/images/icons/flags/bh.png
+root/static/images/icons/flags/bi.png
+root/static/images/icons/flags/bj.png
+root/static/images/icons/flags/bm.png
+root/static/images/icons/flags/bn.png
+root/static/images/icons/flags/bo.png
+root/static/images/icons/flags/br.png
+root/static/images/icons/flags/bs.png
+root/static/images/icons/flags/bt.png
+root/static/images/icons/flags/bv.png
+root/static/images/icons/flags/bw.png
+root/static/images/icons/flags/by.png
+root/static/images/icons/flags/bz.png
+root/static/images/icons/flags/ca.png
+root/static/images/icons/flags/catalonia.png
+root/static/images/icons/flags/cc.png
+root/static/images/icons/flags/cd.png
+root/static/images/icons/flags/cf.png
+root/static/images/icons/flags/cg.png
+root/static/images/icons/flags/ch.png
+root/static/images/icons/flags/ci.png
+root/static/images/icons/flags/ck.png
+root/static/images/icons/flags/cl.png
+root/static/images/icons/flags/cm.png
+root/static/images/icons/flags/cn.png
+root/static/images/icons/flags/co.png
+root/static/images/icons/flags/cr.png
+root/static/images/icons/flags/cs.png
+root/static/images/icons/flags/cu.png
+root/static/images/icons/flags/cv.png
+root/static/images/icons/flags/cx.png
+root/static/images/icons/flags/cy.png
+root/static/images/icons/flags/cz.png
 root/static/images/icons/flags/de.png
+root/static/images/icons/flags/dj.png
+root/static/images/icons/flags/dk.png
+root/static/images/icons/flags/dm.png
+root/static/images/icons/flags/do.png
+root/static/images/icons/flags/dz.png
+root/static/images/icons/flags/ec.png
+root/static/images/icons/flags/ee.png
+root/static/images/icons/flags/eg.png
+root/static/images/icons/flags/eh.png
+root/static/images/icons/flags/england.png
+root/static/images/icons/flags/er.png
+root/static/images/icons/flags/es.png
+root/static/images/icons/flags/et.png
+root/static/images/icons/flags/europeanunion.png
+root/static/images/icons/flags/fam.png
+root/static/images/icons/flags/fi.png
+root/static/images/icons/flags/fj.png
+root/static/images/icons/flags/fk.png
+root/static/images/icons/flags/fm.png
+root/static/images/icons/flags/fo.png
+root/static/images/icons/flags/fr.png
+root/static/images/icons/flags/ga.png
 root/static/images/icons/flags/gb.png
+root/static/images/icons/flags/gd.png
+root/static/images/icons/flags/ge.png
+root/static/images/icons/flags/gf.png
+root/static/images/icons/flags/gh.png
+root/static/images/icons/flags/gi.png
+root/static/images/icons/flags/gl.png
+root/static/images/icons/flags/gm.png
+root/static/images/icons/flags/gn.png
+root/static/images/icons/flags/gp.png
+root/static/images/icons/flags/gq.png
+root/static/images/icons/flags/gr.png
+root/static/images/icons/flags/gs.png
+root/static/images/icons/flags/gt.png
+root/static/images/icons/flags/gu.png
+root/static/images/icons/flags/gw.png
+root/static/images/icons/flags/gy.png
+root/static/images/icons/flags/hk.png
+root/static/images/icons/flags/hm.png
+root/static/images/icons/flags/hn.png
+root/static/images/icons/flags/hr.png
+root/static/images/icons/flags/ht.png
+root/static/images/icons/flags/hu.png
 root/static/images/icons/flags/i_default.png
+root/static/images/icons/flags/id.png
+root/static/images/icons/flags/ie.png
+root/static/images/icons/flags/il.png
+root/static/images/icons/flags/in.png
+root/static/images/icons/flags/io.png
+root/static/images/icons/flags/iq.png
+root/static/images/icons/flags/ir.png
+root/static/images/icons/flags/is.png
 root/static/images/icons/flags/it.png
+root/static/images/icons/flags/jm.png
+root/static/images/icons/flags/jo.png
+root/static/images/icons/flags/jp.png
+root/static/images/icons/flags/ke.png
+root/static/images/icons/flags/kg.png
+root/static/images/icons/flags/kh.png
+root/static/images/icons/flags/ki.png
+root/static/images/icons/flags/km.png
+root/static/images/icons/flags/kn.png
+root/static/images/icons/flags/kp.png
+root/static/images/icons/flags/kr.png
+root/static/images/icons/flags/kw.png
+root/static/images/icons/flags/ky.png
+root/static/images/icons/flags/kz.png
+root/static/images/icons/flags/la.png
+root/static/images/icons/flags/lb.png
+root/static/images/icons/flags/lc.png
+root/static/images/icons/flags/li.png
+root/static/images/icons/flags/lk.png
+root/static/images/icons/flags/lr.png
+root/static/images/icons/flags/ls.png
+root/static/images/icons/flags/lt.png
+root/static/images/icons/flags/lu.png
+root/static/images/icons/flags/lv.png
+root/static/images/icons/flags/ly.png
+root/static/images/icons/flags/ma.png
+root/static/images/icons/flags/mc.png
+root/static/images/icons/flags/md.png
+root/static/images/icons/flags/me.png
+root/static/images/icons/flags/mg.png
+root/static/images/icons/flags/mh.png
+root/static/images/icons/flags/mk.png
+root/static/images/icons/flags/ml.png
+root/static/images/icons/flags/mm.png
+root/static/images/icons/flags/mn.png
+root/static/images/icons/flags/mo.png
+root/static/images/icons/flags/mp.png
+root/static/images/icons/flags/mq.png
+root/static/images/icons/flags/mr.png
+root/static/images/icons/flags/ms.png
+root/static/images/icons/flags/mt.png
+root/static/images/icons/flags/mu.png
+root/static/images/icons/flags/mv.png
+root/static/images/icons/flags/mw.png
+root/static/images/icons/flags/mx.png
+root/static/images/icons/flags/my.png
+root/static/images/icons/flags/mz.png
+root/static/images/icons/flags/na.png
+root/static/images/icons/flags/nc.png
+root/static/images/icons/flags/ne.png
+root/static/images/icons/flags/nf.png
+root/static/images/icons/flags/ng.png
+root/static/images/icons/flags/ni.png
+root/static/images/icons/flags/nl.png
+root/static/images/icons/flags/no.png
+root/static/images/icons/flags/np.png
+root/static/images/icons/flags/nr.png
+root/static/images/icons/flags/nu.png
+root/static/images/icons/flags/nz.png
+root/static/images/icons/flags/om.png
+root/static/images/icons/flags/pa.png
+root/static/images/icons/flags/pe.png
+root/static/images/icons/flags/pf.png
+root/static/images/icons/flags/pg.png
+root/static/images/icons/flags/ph.png
+root/static/images/icons/flags/pk.png
+root/static/images/icons/flags/pl.png
+root/static/images/icons/flags/pm.png
+root/static/images/icons/flags/pn.png
+root/static/images/icons/flags/pr.png
+root/static/images/icons/flags/ps.png
+root/static/images/icons/flags/pt.png
+root/static/images/icons/flags/pw.png
+root/static/images/icons/flags/py.png
+root/static/images/icons/flags/qa.png
+root/static/images/icons/flags/re.png
+root/static/images/icons/flags/ro.png
+root/static/images/icons/flags/rs.png
+root/static/images/icons/flags/ru.png
+root/static/images/icons/flags/rw.png
+root/static/images/icons/flags/sa.png
+root/static/images/icons/flags/sb.png
+root/static/images/icons/flags/sc.png
+root/static/images/icons/flags/scotland.png
+root/static/images/icons/flags/sd.png
+root/static/images/icons/flags/se.png
+root/static/images/icons/flags/sg.png
+root/static/images/icons/flags/sh.png
+root/static/images/icons/flags/si.png
+root/static/images/icons/flags/sj.png
+root/static/images/icons/flags/sk.png
+root/static/images/icons/flags/sl.png
+root/static/images/icons/flags/sm.png
+root/static/images/icons/flags/sn.png
+root/static/images/icons/flags/so.png
+root/static/images/icons/flags/sr.png
+root/static/images/icons/flags/st.png
+root/static/images/icons/flags/sv.png
+root/static/images/icons/flags/sy.png
+root/static/images/icons/flags/sz.png
+root/static/images/icons/flags/tc.png
+root/static/images/icons/flags/td.png
+root/static/images/icons/flags/tf.png
+root/static/images/icons/flags/tg.png
+root/static/images/icons/flags/th.png
+root/static/images/icons/flags/tj.png
+root/static/images/icons/flags/tk.png
+root/static/images/icons/flags/tl.png
+root/static/images/icons/flags/tm.png
+root/static/images/icons/flags/tn.png
+root/static/images/icons/flags/to.png
+root/static/images/icons/flags/tr.png
+root/static/images/icons/flags/tt.png
+root/static/images/icons/flags/tv.png
+root/static/images/icons/flags/tw.png
+root/static/images/icons/flags/tz.png
+root/static/images/icons/flags/ua.png
+root/static/images/icons/flags/ug.png
+root/static/images/icons/flags/um.png
+root/static/images/icons/flags/us.png
+root/static/images/icons/flags/uy.png
+root/static/images/icons/flags/uz.png
+root/static/images/icons/flags/va.png
+root/static/images/icons/flags/vc.png
+root/static/images/icons/flags/ve.png
+root/static/images/icons/flags/vg.png
+root/static/images/icons/flags/vi.png
+root/static/images/icons/flags/vn.png
+root/static/images/icons/flags/vu.png
+root/static/images/icons/flags/wales.png
+root/static/images/icons/flags/wf.png
+root/static/images/icons/flags/ws.png
+root/static/images/icons/flags/ye.png
+root/static/images/icons/flags/yt.png
+root/static/images/icons/flags/za.png
+root/static/images/icons/flags/zm.png
+root/static/images/icons/flags/zw.png
 root/static/images/icons/lock.png
 root/static/images/loader.gif
 root/static/images/locked.png
 root/static/images/rel_interstitial_loading.gif
 root/static/images/sticky.png
 root/static/images/unread_posts.gif
+root/static/MessagePreview.js
 root/static/script/prototype.js
 root/static/yui/animation/animation-debug.js
 root/static/yui/animation/animation-min.js
@@ -470,237 +714,6 @@
 root/static/yui/yuitest/yuitest-beta-debug.js
 root/static/yui/yuitest/yuitest-beta-min.js
 root/static/yui/yuitest/yuitest-beta.js
-root/static/yui_2.x/animation/animation-debug.js
-root/static/yui_2.x/animation/animation-min.js
-root/static/yui_2.x/animation/animation.js
-root/static/yui_2.x/animation/README
-root/static/yui_2.x/assets/skins/sam/autocomplete.css
-root/static/yui_2.x/assets/skins/sam/blankimage.png
-root/static/yui_2.x/assets/skins/sam/button.css
-root/static/yui_2.x/assets/skins/sam/calendar.css
-root/static/yui_2.x/assets/skins/sam/colorpicker.css
-root/static/yui_2.x/assets/skins/sam/container.css
-root/static/yui_2.x/assets/skins/sam/datatable.css
-root/static/yui_2.x/assets/skins/sam/dt-arrow-dn.png
-root/static/yui_2.x/assets/skins/sam/dt-arrow-up.png
-root/static/yui_2.x/assets/skins/sam/editor-knob.gif
-root/static/yui_2.x/assets/skins/sam/editor-sprite-active.gif
-root/static/yui_2.x/assets/skins/sam/editor-sprite.gif
-root/static/yui_2.x/assets/skins/sam/editor.css
-root/static/yui_2.x/assets/skins/sam/hue_bg.png
-root/static/yui_2.x/assets/skins/sam/logger.css
-root/static/yui_2.x/assets/skins/sam/menu-button-arrow-disabled.png
-root/static/yui_2.x/assets/skins/sam/menu-button-arrow.png
-root/static/yui_2.x/assets/skins/sam/menu.css
-root/static/yui_2.x/assets/skins/sam/picker_mask.png
-root/static/yui_2.x/assets/skins/sam/skin.css
-root/static/yui_2.x/assets/skins/sam/split-button-arrow-active.png
-root/static/yui_2.x/assets/skins/sam/split-button-arrow-disabled.png
-root/static/yui_2.x/assets/skins/sam/split-button-arrow-focus.png
-root/static/yui_2.x/assets/skins/sam/split-button-arrow-hover.png
-root/static/yui_2.x/assets/skins/sam/split-button-arrow.png
-root/static/yui_2.x/assets/skins/sam/sprite.png
-root/static/yui_2.x/assets/skins/sam/tabview.css
-root/static/yui_2.x/assets/skins/sam/treeview-loading.gif
-root/static/yui_2.x/assets/skins/sam/treeview-sprite.gif
-root/static/yui_2.x/assets/skins/sam/treeview.css
-root/static/yui_2.x/assets/skins/sam/yuitest.css
-root/static/yui_2.x/autocomplete/assets/autocomplete-core.css
-root/static/yui_2.x/autocomplete/assets/skins/sam/autocomplete-skin.css
-root/static/yui_2.x/autocomplete/assets/skins/sam/autocomplete.css
-root/static/yui_2.x/autocomplete/autocomplete-debug.js
-root/static/yui_2.x/autocomplete/autocomplete-min.js
-root/static/yui_2.x/autocomplete/autocomplete.js
-root/static/yui_2.x/autocomplete/README
-root/static/yui_2.x/base/base-min.css
-root/static/yui_2.x/base/base.css
-root/static/yui_2.x/base/README
-root/static/yui_2.x/button/assets/button-core.css
-root/static/yui_2.x/button/assets/skins/sam/button-skin.css
-root/static/yui_2.x/button/assets/skins/sam/button.css
-root/static/yui_2.x/button/assets/skins/sam/menu-button-arrow-disabled.png
-root/static/yui_2.x/button/assets/skins/sam/menu-button-arrow.png
-root/static/yui_2.x/button/assets/skins/sam/split-button-arrow-active.png
-root/static/yui_2.x/button/assets/skins/sam/split-button-arrow-disabled.png
-root/static/yui_2.x/button/assets/skins/sam/split-button-arrow-focus.png
-root/static/yui_2.x/button/assets/skins/sam/split-button-arrow-hover.png
-root/static/yui_2.x/button/assets/skins/sam/split-button-arrow.png
-root/static/yui_2.x/button/button-beta-debug.js
-root/static/yui_2.x/button/button-beta-min.js
-root/static/yui_2.x/button/button-beta.js
-root/static/yui_2.x/button/README
-root/static/yui_2.x/calendar/assets/calendar-core.css
-root/static/yui_2.x/calendar/assets/calendar.css
-root/static/yui_2.x/calendar/assets/callt.gif
-root/static/yui_2.x/calendar/assets/calrt.gif
-root/static/yui_2.x/calendar/assets/calx.gif
-root/static/yui_2.x/calendar/assets/skins/sam/calendar-skin.css
-root/static/yui_2.x/calendar/assets/skins/sam/calendar.css
-root/static/yui_2.x/calendar/calendar-debug.js
-root/static/yui_2.x/calendar/calendar-min.js
-root/static/yui_2.x/calendar/calendar.js
-root/static/yui_2.x/calendar/README
-root/static/yui_2.x/colorpicker/assets/colorpicker_core.css
-root/static/yui_2.x/colorpicker/assets/hue_thumb.png
-root/static/yui_2.x/colorpicker/assets/picker_mask.png
-root/static/yui_2.x/colorpicker/assets/picker_thumb.png
-root/static/yui_2.x/colorpicker/assets/skins/sam/colorpicker-skin.css
-root/static/yui_2.x/colorpicker/assets/skins/sam/colorpicker.css
-root/static/yui_2.x/colorpicker/assets/skins/sam/hue_bg.png
-root/static/yui_2.x/colorpicker/assets/skins/sam/picker_mask.png
-root/static/yui_2.x/colorpicker/colorpicker-beta-debug.js
-root/static/yui_2.x/colorpicker/colorpicker-beta-min.js
-root/static/yui_2.x/colorpicker/colorpicker-beta.js
-root/static/yui_2.x/colorpicker/README
-root/static/yui_2.x/connection/connection-debug.js
-root/static/yui_2.x/connection/connection-min.js
-root/static/yui_2.x/connection/connection.js
-root/static/yui_2.x/connection/README
-root/static/yui_2.x/container/assets/alrt16_1.gif
-root/static/yui_2.x/container/assets/blck16_1.gif
-root/static/yui_2.x/container/assets/close12_1.gif
-root/static/yui_2.x/container/assets/container-core.css
-root/static/yui_2.x/container/assets/container.css
-root/static/yui_2.x/container/assets/hlp16_1.gif
-root/static/yui_2.x/container/assets/info16_1.gif
-root/static/yui_2.x/container/assets/skins/sam/container-skin.css
-root/static/yui_2.x/container/assets/skins/sam/container.css
-root/static/yui_2.x/container/assets/tip16_1.gif
-root/static/yui_2.x/container/assets/warn16_1.gif
-root/static/yui_2.x/container/container-debug.js
-root/static/yui_2.x/container/container-min.js
-root/static/yui_2.x/container/container.js
-root/static/yui_2.x/container/container_core-debug.js
-root/static/yui_2.x/container/container_core-min.js
-root/static/yui_2.x/container/container_core.js
-root/static/yui_2.x/container/README
-root/static/yui_2.x/datasource/datasource-beta-debug.js
-root/static/yui_2.x/datasource/datasource-beta-min.js
-root/static/yui_2.x/datasource/datasource-beta.js
-root/static/yui_2.x/datasource/README
-root/static/yui_2.x/datatable/assets/datatable-core.css
-root/static/yui_2.x/datatable/assets/datatable.css
-root/static/yui_2.x/datatable/assets/skins/sam/datatable-skin.css
-root/static/yui_2.x/datatable/assets/skins/sam/datatable.css
-root/static/yui_2.x/datatable/assets/skins/sam/dt-arrow-dn.png
-root/static/yui_2.x/datatable/assets/skins/sam/dt-arrow-up.png
-root/static/yui_2.x/datatable/datatable-beta-debug.js
-root/static/yui_2.x/datatable/datatable-beta-min.js
-root/static/yui_2.x/datatable/datatable-beta.js
-root/static/yui_2.x/datatable/README
-root/static/yui_2.x/dom/dom-debug.js
-root/static/yui_2.x/dom/dom-min.js
-root/static/yui_2.x/dom/dom.js
-root/static/yui_2.x/dom/README
-root/static/yui_2.x/dragdrop/dragdrop-debug.js
-root/static/yui_2.x/dragdrop/dragdrop-min.js
-root/static/yui_2.x/dragdrop/dragdrop.js
-root/static/yui_2.x/dragdrop/README
-root/static/yui_2.x/editor/assets/editor-core.css
-root/static/yui_2.x/editor/assets/skins/sam/blankimage.png
-root/static/yui_2.x/editor/assets/skins/sam/editor-knob.gif
-root/static/yui_2.x/editor/assets/skins/sam/editor-skin.css
-root/static/yui_2.x/editor/assets/skins/sam/editor-sprite-active.gif
-root/static/yui_2.x/editor/assets/skins/sam/editor-sprite.gif
-root/static/yui_2.x/editor/assets/skins/sam/editor.css
-root/static/yui_2.x/editor/editor-beta-debug.js
-root/static/yui_2.x/editor/editor-beta-min.js
-root/static/yui_2.x/editor/editor-beta.js
-root/static/yui_2.x/editor/README
-root/static/yui_2.x/element/element-beta-debug.js
-root/static/yui_2.x/element/element-beta-min.js
-root/static/yui_2.x/element/element-beta.js
-root/static/yui_2.x/element/README
-root/static/yui_2.x/event/event-debug.js
-root/static/yui_2.x/event/event-min.js
-root/static/yui_2.x/event/event.js
-root/static/yui_2.x/event/README
-root/static/yui_2.x/fonts/fonts-min.css
-root/static/yui_2.x/fonts/fonts.css
-root/static/yui_2.x/fonts/README
-root/static/yui_2.x/grids/grids-min.css
-root/static/yui_2.x/grids/grids.css
-root/static/yui_2.x/grids/README
-root/static/yui_2.x/history/assets/blank.html
-root/static/yui_2.x/history/history-beta-debug.js
-root/static/yui_2.x/history/history-beta-min.js
-root/static/yui_2.x/history/history-beta.js
-root/static/yui_2.x/history/README
-root/static/yui_2.x/imageloader/imageloader-experimental-debug.js
-root/static/yui_2.x/imageloader/imageloader-experimental-min.js
-root/static/yui_2.x/imageloader/imageloader-experimental.js
-root/static/yui_2.x/imageloader/README
-root/static/yui_2.x/logger/assets/logger-core.css
-root/static/yui_2.x/logger/assets/logger.css
-root/static/yui_2.x/logger/assets/skins/sam/logger-skin.css
-root/static/yui_2.x/logger/assets/skins/sam/logger.css
-root/static/yui_2.x/logger/logger-debug.js
-root/static/yui_2.x/logger/logger-min.js
-root/static/yui_2.x/logger/logger.js
-root/static/yui_2.x/logger/README
-root/static/yui_2.x/menu/assets/map.gif
-root/static/yui_2.x/menu/assets/menu-core.css
-root/static/yui_2.x/menu/assets/menu.css
-root/static/yui_2.x/menu/assets/skins/sam/menu-skin.css
-root/static/yui_2.x/menu/assets/skins/sam/menu.css
-root/static/yui_2.x/menu/menu-debug.js
-root/static/yui_2.x/menu/menu-min.js
-root/static/yui_2.x/menu/menu.js
-root/static/yui_2.x/menu/README
-root/static/yui_2.x/reset-fonts-grids/README
-root/static/yui_2.x/reset-fonts-grids/reset-fonts-grids.css
-root/static/yui_2.x/reset/README
-root/static/yui_2.x/reset/reset-min.css
-root/static/yui_2.x/reset/reset.css
-root/static/yui_2.x/slider/README
-root/static/yui_2.x/slider/slider-debug.js
-root/static/yui_2.x/slider/slider-min.js
-root/static/yui_2.x/slider/slider.js
-root/static/yui_2.x/tabview/assets/border_tabs.css
-root/static/yui_2.x/tabview/assets/loading.gif
-root/static/yui_2.x/tabview/assets/skin-sam.css
-root/static/yui_2.x/tabview/assets/skins/sam/tabview-skin.css
-root/static/yui_2.x/tabview/assets/skins/sam/tabview.css
-root/static/yui_2.x/tabview/assets/tabview-core.css
-root/static/yui_2.x/tabview/assets/tabview.css
-root/static/yui_2.x/tabview/README
-root/static/yui_2.x/tabview/tabview-debug.js
-root/static/yui_2.x/tabview/tabview-min.js
-root/static/yui_2.x/tabview/tabview.js
-root/static/yui_2.x/treeview/assets/skins/sam/treeview-loading.gif
-root/static/yui_2.x/treeview/assets/skins/sam/treeview-skin.css
-root/static/yui_2.x/treeview/assets/skins/sam/treeview-sprite.gif
-root/static/yui_2.x/treeview/assets/skins/sam/treeview.css
-root/static/yui_2.x/treeview/assets/sprite-menu.gif
-root/static/yui_2.x/treeview/assets/sprite-orig.gif
-root/static/yui_2.x/treeview/assets/treeview-core.css
-root/static/yui_2.x/treeview/assets/treeview-loading.gif
-root/static/yui_2.x/treeview/assets/treeview-menu.css
-root/static/yui_2.x/treeview/assets/treeview.css
-root/static/yui_2.x/treeview/README
-root/static/yui_2.x/treeview/treeview-debug.js
-root/static/yui_2.x/treeview/treeview-min.js
-root/static/yui_2.x/treeview/treeview.js
-root/static/yui_2.x/utilities/README
-root/static/yui_2.x/utilities/utilities.js
-root/static/yui_2.x/yahoo-dom-event/README
-root/static/yui_2.x/yahoo-dom-event/yahoo-dom-event.js
-root/static/yui_2.x/yahoo/README
-root/static/yui_2.x/yahoo/yahoo-debug.js
-root/static/yui_2.x/yahoo/yahoo-min.js
-root/static/yui_2.x/yahoo/yahoo.js
-root/static/yui_2.x/yuiloader/README
-root/static/yui_2.x/yuiloader/yuiloader-beta-debug.js
-root/static/yui_2.x/yuiloader/yuiloader-beta-min.js
-root/static/yui_2.x/yuiloader/yuiloader-beta.js
-root/static/yui_2.x/yuitest/assets/skins/sam/yuitest-skin.css
-root/static/yui_2.x/yuitest/assets/skins/sam/yuitest.css
-root/static/yui_2.x/yuitest/assets/testlogger.css
-root/static/yui_2.x/yuitest/assets/yuitest-core.css
-root/static/yui_2.x/yuitest/README
-root/static/yui_2.x/yuitest/yuitest-beta-debug.js
-root/static/yui_2.x/yuitest/yuitest-beta-min.js
-root/static/yui_2.x/yuitest/yuitest-beta.js
 script/parley_cgi.pl
 script/parley_create.pl
 script/parley_email_engine.pl



From chiselwright at mail.berlios.de  Thu Jan 10 20:51:10 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 10 Jan 2008 20:51:10 +0100
Subject: [Parley-svn] r732 - / trunk/lib
Message-ID: <200801101951.m0AJpAUW022155@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-10 20:51:09 +0100 (Thu, 10 Jan 2008)
New Revision: 732

Modified:
   /
   trunk/lib/Parley.pm
Log:
 r4470 at wiggin:  chisel | 2008-01-10 19:24:00 +0000
 / minor version bump to _13



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4469
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4470
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley.pm
===================================================================
--- trunk/lib/Parley.pm	2008-01-10 19:51:02 UTC (rev 731)
+++ trunk/lib/Parley.pm	2008-01-10 19:51:09 UTC (rev 732)
@@ -3,7 +3,7 @@
 use strict;
 use warnings;
 
-our $VERSION = '0.58_12';
+our $VERSION = '0.58_13';
 
 use Catalyst::Runtime '5.70';
 use Catalyst qw/



From chiselwright at mail.berlios.de  Fri Jan 11 13:25:35 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 11 Jan 2008 13:25:35 +0100
Subject: [Parley-svn] r733 - / trunk/script
Message-ID: <200801111225.m0BCPZGC001305@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-11 13:25:34 +0100 (Fri, 11 Jan 2008)
New Revision: 733

Added:
   trunk/script/deploy.sh
Modified:
   /
Log:
 r4476 at wiggin:  chisel | 2008-01-11 08:36:29 +0000
 + added the script I use to deploy new versions on my test server



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4470
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4476
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: trunk/script/deploy.sh
===================================================================
--- trunk/script/deploy.sh	2008-01-10 19:51:09 UTC (rev 732)
+++ trunk/script/deploy.sh	2008-01-11 12:25:34 UTC (rev 733)
@@ -0,0 +1,71 @@
+#!/usr/bin/env sh
+
+############################################################################
+#
+# Usage: deploy.sh <version>
+#   e.g. deploy 0.58_12
+#
+# This is the script I use on my home server to (easily)
+# deploy new versions of Parley
+#
+# I run under FastCGI using config/parley and Ubuntu's "site_available"
+# with apache2
+#
+# I drop all my tarballs in /home/parley and run the script from there
+#
+# I don't know how the script will behave if there isn't an existing
+# deployment - I had one before writing the script.
+#
+############################################################################
+
+############################################################################
+#            THERE IS NOTHING CONFIGURABLE IN THIS SCRIPT!!                #
+############################################################################
+
+VERSION=$1;
+MAJOR_VERSION=${VERSION%_*}
+MINOR_VERSION=${VERSION#*_}
+
+TARBALL="Parley-${VERSION}.tar.gz"
+DIR="Parley-${VERSION}"
+
+if [ -z "$VERSION" ]; then
+	echo "usage: $0 <version>";
+	exit;
+fi
+
+
+if [ ! -f $TARBALL ]; then
+	echo "tarball missing: $TARBALL";
+	exit;
+fi
+
+tar zxf $TARBALL
+
+PATCH_MATCH_COUNT=`ls ${DIR}/db/*${MAJOR_VERSION}*sql | grep -c -`
+
+if [ $PATCH_MATCH_COUNT -gt 0 ]; then
+	echo "There are ${PATCH_MATCH_COUNT} patch(es) that match the requested version to deploy:"
+	ls ${DIR}/db/*${MAJOR_VERSION}*sql
+	echo ""
+	read -p "Use ctrl-z to return to the shell and apply any patches. fg then ENTER to continue." FOOBAR
+fi
+
+if [ ! -d $DIR ]; then
+	echo "directory missing: $DIR";
+	exit;
+fi
+
+cp -a ./parley/root/static/user_file ./$DIR/root/static/ 2>/dev/null
+ls ./$DIR/root/static/user_file/
+
+(cd $DIR && perl Makefile.PL)
+
+./parley/script/parley_email_engine.pl stop
+
+rm parley
+ln -s $DIR parley
+
+./parley/script/parley_email_engine.pl start
+
+sudo /etc/init.d/apache2 reload


Property changes on: trunk/script/deploy.sh
___________________________________________________________________
Name: svn:executable
   + *



From chiselwright at mail.berlios.de  Fri Jan 11 13:25:45 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 11 Jan 2008 13:25:45 +0100
Subject: [Parley-svn] r734 - / trunk/config
Message-ID: <200801111225.m0BCPjRi001609@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-11 13:25:45 +0100 (Fri, 11 Jan 2008)
New Revision: 734

Added:
   trunk/config/parley.fastcgi
Removed:
   trunk/config/parley
Modified:
   /
Log:
 r4477 at wiggin:  chisel | 2008-01-11 08:37:40 +0000
 / renamed the file so it's more obvious what it's for



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4476
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4477
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Deleted: trunk/config/parley
===================================================================
--- trunk/config/parley	2008-01-11 12:25:34 UTC (rev 733)
+++ trunk/config/parley	2008-01-11 12:25:45 UTC (rev 734)
@@ -1,11 +0,0 @@
-# Serve static content directly
-#DocumentRoot  /var/www/MyApp/root
-#Alias /static /var/www/MyApp/root/static
-DocumentRoot  /home/parley/parley/root
-Alias /static /home/parley/parley/root/static
-
-FastCgiServer /home/parley/parley/script/parley_fastcgi.pl -processes 3
-Alias /parley/ /home/parley/parley/script/parley_fastcgi.pl/
-
-# Or, run at the root
-#Alias / /var/www/MyApp/script/parley_fastcgi.pl/

Copied: trunk/config/parley.fastcgi (from rev 666, trunk/config/parley)



From chiselwright at mail.berlios.de  Fri Jan 11 13:25:56 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 11 Jan 2008 13:25:56 +0100
Subject: [Parley-svn] r735 - / trunk
Message-ID: <200801111225.m0BCPu2e002092@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-11 13:25:56 +0100 (Fri, 11 Jan 2008)
New Revision: 735

Modified:
   /
   trunk/MANIFEST
Log:
 r4478 at wiggin:  chisel | 2008-01-11 08:46:05 +0000
 / updated MANIFEST



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4477
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4478
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/MANIFEST
===================================================================
--- trunk/MANIFEST	2008-01-11 12:25:45 UTC (rev 734)
+++ trunk/MANIFEST	2008-01-11 12:25:56 UTC (rev 735)
@@ -1,6 +1,7 @@
 Changes
 Changes.i18n
 config/parley
+config/parley.fastcgi
 contrib/patch/0.57_02_KAARE.patch
 db/parley.psql
 db/patch.skel
@@ -714,6 +715,7 @@
 root/static/yui/yuitest/yuitest-beta-debug.js
 root/static/yui/yuitest/yuitest-beta-min.js
 root/static/yui/yuitest/yuitest-beta.js
+script/deploy.sh
 script/parley_cgi.pl
 script/parley_create.pl
 script/parley_email_engine.pl



From chiselwright at mail.berlios.de  Mon Jan 14 22:11:19 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 14 Jan 2008 22:11:19 +0100
Subject: [Parley-svn] r736 - / trunk/lib/Parley/Schema
Message-ID: <200801142111.m0ELBJW5007644@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-14 22:11:18 +0100 (Mon, 14 Jan 2008)
New Revision: 736

Modified:
   /
   trunk/lib/Parley/Schema/Authentication.pm
   trunk/lib/Parley/Schema/EmailQueue.pm
   trunk/lib/Parley/Schema/Forum.pm
   trunk/lib/Parley/Schema/Person.pm
   trunk/lib/Parley/Schema/Post.pm
   trunk/lib/Parley/Schema/Preference.pm
   trunk/lib/Parley/Schema/PreferenceTimeString.pm
   trunk/lib/Parley/Schema/Thread.pm
   trunk/lib/Parley/Schema/ThreadView.pm
Log:
 r4486 at wiggin:  chisel | 2008-01-14 19:12:55 +0000
 / comment out 'default_value' for id columns defs (so we can create_ddl_dir() to create am SQLite file)
 / modify 'default_value' for timezone field (so it's not Pg specific)



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4478
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4486
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley/Schema/Authentication.pm
===================================================================
--- trunk/lib/Parley/Schema/Authentication.pm	2008-01-11 12:25:56 UTC (rev 735)
+++ trunk/lib/Parley/Schema/Authentication.pm	2008-01-14 21:11:18 UTC (rev 736)
@@ -12,7 +12,7 @@
 __PACKAGE__->add_columns(
   "id" => {
     data_type => "integer",
-    default_value => "nextval('authentication_authentication_id_seq'::regclass)",
+    #default_value => "nextval('authentication_authentication_id_seq'::regclass)",
     is_nullable => 0,
     size => 4,
   },

Modified: trunk/lib/Parley/Schema/EmailQueue.pm
===================================================================
--- trunk/lib/Parley/Schema/EmailQueue.pm	2008-01-11 12:25:56 UTC (rev 735)
+++ trunk/lib/Parley/Schema/EmailQueue.pm	2008-01-14 21:11:18 UTC (rev 736)
@@ -12,7 +12,7 @@
 __PACKAGE__->add_columns(
   "id" => {
     data_type => "integer",
-    default_value => "nextval('email_queue_email_queue_id_seq'::regclass)",
+    #default_value => "nextval('email_queue_email_queue_id_seq'::regclass)",
     is_nullable => 0,
     size => 4,
   },

Modified: trunk/lib/Parley/Schema/Forum.pm
===================================================================
--- trunk/lib/Parley/Schema/Forum.pm	2008-01-11 12:25:56 UTC (rev 735)
+++ trunk/lib/Parley/Schema/Forum.pm	2008-01-14 21:11:18 UTC (rev 736)
@@ -12,7 +12,7 @@
 __PACKAGE__->add_columns(
   "id" => {
     data_type => "integer",
-    default_value => "nextval('forum_forum_id_seq'::regclass)",
+    #default_value => "nextval('forum_forum_id_seq'::regclass)",
     is_nullable => 0,
     size => 4,
   },

Modified: trunk/lib/Parley/Schema/Person.pm
===================================================================
--- trunk/lib/Parley/Schema/Person.pm	2008-01-11 12:25:56 UTC (rev 735)
+++ trunk/lib/Parley/Schema/Person.pm	2008-01-14 21:11:18 UTC (rev 736)
@@ -12,7 +12,7 @@
 __PACKAGE__->add_columns(
   "id" => {
     data_type => "integer",
-    default_value => "nextval('person_person_id_seq'::regclass)",
+    #default_value => "nextval('person_person_id_seq'::regclass)",
     is_nullable => 0,
     size => 4,
   },

Modified: trunk/lib/Parley/Schema/Post.pm
===================================================================
--- trunk/lib/Parley/Schema/Post.pm	2008-01-11 12:25:56 UTC (rev 735)
+++ trunk/lib/Parley/Schema/Post.pm	2008-01-14 21:11:18 UTC (rev 736)
@@ -20,7 +20,7 @@
 __PACKAGE__->add_columns(
   "id" => {
     data_type => "integer",
-    default_value => "nextval('post_post_id_seq'::regclass)",
+    #default_value => "nextval('post_post_id_seq'::regclass)",
     is_nullable => 0,
     size => 4,
   },

Modified: trunk/lib/Parley/Schema/Preference.pm
===================================================================
--- trunk/lib/Parley/Schema/Preference.pm	2008-01-11 12:25:56 UTC (rev 735)
+++ trunk/lib/Parley/Schema/Preference.pm	2008-01-14 21:11:18 UTC (rev 736)
@@ -12,14 +12,14 @@
 __PACKAGE__->add_columns(
   "id" => {
     data_type => "integer",
-    default_value => "nextval('preference_preference_id_seq'::regclass)",
+    #default_value => "nextval('preference_preference_id_seq'::regclass)",
     is_nullable => 0,
     size => 4,
   },
 
   "timezone" => {
     data_type => "text",
-    default_value => "'UTC'::text",
+    default_value => "UTC",
     is_nullable => 0,
     size => undef,
   },

Modified: trunk/lib/Parley/Schema/PreferenceTimeString.pm
===================================================================
--- trunk/lib/Parley/Schema/PreferenceTimeString.pm	2008-01-11 12:25:56 UTC (rev 735)
+++ trunk/lib/Parley/Schema/PreferenceTimeString.pm	2008-01-14 21:11:18 UTC (rev 736)
@@ -8,7 +8,7 @@
 __PACKAGE__->add_columns(
     id => {
         data_type => "integer",
-        default_value => "nextval('preference_time_string_preference_time_string_id_seq'::regclass)",
+        #default_value => "nextval('preference_time_string_preference_time_string_id_seq'::regclass)",
         is_nullable => 0,
         size => 4,
     },

Modified: trunk/lib/Parley/Schema/Thread.pm
===================================================================
--- trunk/lib/Parley/Schema/Thread.pm	2008-01-11 12:25:56 UTC (rev 735)
+++ trunk/lib/Parley/Schema/Thread.pm	2008-01-14 21:11:18 UTC (rev 736)
@@ -12,7 +12,7 @@
 __PACKAGE__->add_columns(
   "id" => {
     data_type => "integer",
-    default_value => "nextval('thread_thread_id_seq'::regclass)",
+    #default_value => "nextval('thread_thread_id_seq'::regclass)",
     is_nullable => 0,
     size => 4,
   },

Modified: trunk/lib/Parley/Schema/ThreadView.pm
===================================================================
--- trunk/lib/Parley/Schema/ThreadView.pm	2008-01-11 12:25:56 UTC (rev 735)
+++ trunk/lib/Parley/Schema/ThreadView.pm	2008-01-14 21:11:18 UTC (rev 736)
@@ -15,7 +15,7 @@
 __PACKAGE__->add_columns(
   "id" => {
     data_type => "integer",
-    default_value => "nextval('thread_view_thread_view_id_seq'::regclass)",
+    #default_value => "nextval('thread_view_thread_view_id_seq'::regclass)",
     is_nullable => 0,
     size => 4,
   },



From chiselwright at mail.berlios.de  Mon Jan 14 22:11:27 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 14 Jan 2008 22:11:27 +0100
Subject: [Parley-svn] r737 - / trunk/script
Message-ID: <200801142111.m0ELBRQt007718@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-14 22:11:27 +0100 (Mon, 14 Jan 2008)
New Revision: 737

Added:
   trunk/script/parley_schema_export_all.pl
Modified:
   /
Log:
 r4487 at wiggin:  chisel | 2008-01-14 19:16:23 +0000
 + added a script that should generate schemas for Pg, MySQL and SQLite
   [this doesn't that there is nothing Pg-specific in the code though]



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4486
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4487
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: trunk/script/parley_schema_export_all.pl
===================================================================
--- trunk/script/parley_schema_export_all.pl	2008-01-14 21:11:18 UTC (rev 736)
+++ trunk/script/parley_schema_export_all.pl	2008-01-14 21:11:27 UTC (rev 737)
@@ -0,0 +1,27 @@
+#!/usr/bin/env perl
+# vim: ts=8 sts=4 et sw=4 sr sta
+use strict;
+use warnings;
+
+use FindBin qw($Bin);
+use lib "$Bin/../lib";
+
+use Parley::Schema;
+use Parley;
+
+use Getopt::Long;
+my %cli=();
+GetOptions(\%cli, 'to=s');
+
+if (not defined $cli{to}) {
+    $cli{to} = Parley->VERSION();
+}
+
+my $schema = Parley::Schema->connect;
+
+$schema->create_ddl_dir(
+    ['PostgreSQL', 'MySQL', 'SQLite'],
+    $cli{to},
+    'db_script',
+);
+


Property changes on: trunk/script/parley_schema_export_all.pl
___________________________________________________________________
Name: svn:executable
   + *



From chiselwright at mail.berlios.de  Mon Jan 14 22:11:35 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 14 Jan 2008 22:11:35 +0100
Subject: [Parley-svn] r738 - / trunk trunk/lib/Parley/I18N
Message-ID: <200801142111.m0ELBZlT007788@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-14 22:11:35 +0100 (Mon, 14 Jan 2008)
New Revision: 738

Modified:
   /
   trunk/Changes.i18n
   trunk/TODO
   trunk/lib/Parley/I18N/i_default.po
   trunk/lib/Parley/I18N/it.po
Log:
 r4488 at wiggin:  chisel | 2008-01-14 19:17:37 +0000
 + added "%quant(%1,Forum)" to i18n
 + updated Changes.i18n and TODO file



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4487
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4488
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes.i18n
===================================================================
--- trunk/Changes.i18n	2008-01-14 21:11:27 UTC (rev 737)
+++ trunk/Changes.i18n	2008-01-14 21:11:35 UTC (rev 738)
@@ -15,12 +15,14 @@
             - 'Cancel'
             - 'in'
             - 'Please choose a language' (babelfish)
+            - "%quant(%1,Forum)"
 
     i_default.po:
         - added:
             - "%1 wrote:"
             - "%quant(%1,reply)"
             - "%quant(%1,view)"
+            - "%quant(%1,Forum)"
             - "created by (%1)"
             - "last post by (%1)"
             - "Posted from %1"

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-01-14 21:11:27 UTC (rev 737)
+++ trunk/TODO	2008-01-14 21:11:35 UTC (rev 738)
@@ -1,7 +1,7 @@
 TODO LIST
 
   - investigate in-application language preference/choice
-  - post/edit: preview (message) code
+  - styling: user/login
   - styling: post/edit
   - styling: thread/reply
   - styling: user prefs
@@ -13,6 +13,9 @@
   - advanced search page
   - proper moderator support/management
   - IP/user reporting
+  - voting?
+D - styling: thread/add
+D - post/edit: preview (message) code
 D - [bug] fix error when trying to post new thread with no subject line
 ? - see if we can work out why 'make catalyst_par' is failing
 D - i18n Login and Cancel buttons in login_dialog

Modified: trunk/lib/Parley/I18N/i_default.po
===================================================================
--- trunk/lib/Parley/I18N/i_default.po	2008-01-14 21:11:27 UTC (rev 737)
+++ trunk/lib/Parley/I18N/i_default.po	2008-01-14 21:11:35 UTC (rev 738)
@@ -4,6 +4,9 @@
 msgid "%quant(%1,post)"
 msgstr "%quant(%1,post,posts)"
 
+msgid "%quant(%1,Forum)"
+msgstr "%quant(%1,Forum,Forums)"
+
 msgid "%quant(%1,Reply)"
 msgstr "%quant(%1,Reply,Replies)"
 

Modified: trunk/lib/Parley/I18N/it.po
===================================================================
--- trunk/lib/Parley/I18N/it.po	2008-01-14 21:11:27 UTC (rev 737)
+++ trunk/lib/Parley/I18N/it.po	2008-01-14 21:11:35 UTC (rev 738)
@@ -4,6 +4,9 @@
 msgid "%quant(%1,post)"
 msgstr "%quant(%1,messaggio,messaggi)"
 
+msgid "%quant(%1,Forum)"
+msgstr "%quant(%1,Forum,Forum)"
+
 msgid "%quant(%1,Reply)"
 msgstr "%quant(%1,Risposta,Risposte)"
 



From chiselwright at mail.berlios.de  Mon Jan 14 22:11:46 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 14 Jan 2008 22:11:46 +0100
Subject: [Parley-svn] r739 - / trunk
Message-ID: <200801142111.m0ELBkia007860@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-14 22:11:46 +0100 (Mon, 14 Jan 2008)
New Revision: 739

Modified:
   /
   trunk/MANIFEST
   trunk/MANIFEST.SKIP
Log:
 r4489 at wiggin:  chisel | 2008-01-14 19:18:55 +0000
 / ignore *.sqlite3 files
 / update MANIFEST



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4488
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4489
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/MANIFEST
===================================================================
--- trunk/MANIFEST	2008-01-14 21:11:35 UTC (rev 738)
+++ trunk/MANIFEST	2008-01-14 21:11:46 UTC (rev 739)
@@ -15,6 +15,9 @@
 db/patch_0.57_to_0.58.psql
 db_script/Parley-Schema-0.57_08-PostgreSQL.sql
 db_script/Parley-Schema-0.58-PostgreSQL.sql
+db_script/Parley-Schema-0.58_13-MySQL.sql
+db_script/Parley-Schema-0.58_13-PostgreSQL.sql
+db_script/Parley-Schema-0.58_13-SQLite.sql
 doc/parley-qs.html
 inc/Module/AutoInstall.pm
 inc/Module/Install.pm
@@ -721,6 +724,7 @@
 script/parley_email_engine.pl
 script/parley_fastcgi.pl
 script/parley_schema_export.pl
+script/parley_schema_export_all.pl
 script/parley_server.pl
 script/parley_test.pl
 script/time_string_sample.pl

Modified: trunk/MANIFEST.SKIP
===================================================================
--- trunk/MANIFEST.SKIP	2008-01-14 21:11:35 UTC (rev 738)
+++ trunk/MANIFEST.SKIP	2008-01-14 21:11:46 UTC (rev 739)
@@ -19,3 +19,4 @@
 t/99.prefetch_experiments.t
 .*YUI.*
 root/base/yui
+.*\.sqlite3



From chiselwright at mail.berlios.de  Wed Jan 16 21:45:34 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Wed, 16 Jan 2008 21:45:34 +0100
Subject: [Parley-svn] r740 - / trunk/root/static/css trunk/root/static/images
Message-ID: <200801162045.m0GKjYYu021939@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-16 21:45:34 +0100 (Wed, 16 Jan 2008)
New Revision: 740

Added:
   trunk/root/static/images/parley_logo.jpg
Modified:
   /
   trunk/root/static/css/experiment.css
Log:
 r4510 at wiggin:  chisel | 2008-01-16 19:06:11 +0000
 / first serious attempt at an application logo



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4489
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4510
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/static/css/experiment.css
===================================================================
--- trunk/root/static/css/experiment.css	2008-01-14 21:11:46 UTC (rev 739)
+++ trunk/root/static/css/experiment.css	2008-01-16 20:45:34 UTC (rev 740)
@@ -5,7 +5,7 @@
     line-height:    80px;
     margin:         0px;
     padding-left:   10px;
-    background:     #EEE;
+    background:     #EEE url('/static/images/parley_logo.jpg') no-repeat left;
     color:          #79B30B
 }
 

Added: trunk/root/static/images/parley_logo.jpg
===================================================================
(Binary files differ)


Property changes on: trunk/root/static/images/parley_logo.jpg
___________________________________________________________________
Name: svn:executable
   + *
Name: svn:mime-type
   + application/octet-stream



From chiselwright at mail.berlios.de  Wed Jan 16 21:45:42 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Wed, 16 Jan 2008 21:45:42 +0100
Subject: [Parley-svn] r741 - / trunk/root/base
Message-ID: <200801162045.m0GKjg9K022015@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-16 21:45:41 +0100 (Wed, 16 Jan 2008)
New Revision: 741

Modified:
   /
   trunk/root/base/header
Log:
 r4511 at wiggin:  chisel | 2008-01-16 19:07:35 +0000
 / removed <h1> from header area (replaced by logo)



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4510
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4511
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/header
===================================================================
--- trunk/root/base/header	2008-01-16 20:45:34 UTC (rev 740)
+++ trunk/root/base/header	2008-01-16 20:45:41 UTC (rev 741)
@@ -59,7 +59,10 @@
     <body class="yui-skin-sam">
         <div id="doc3">
             <div id="hd">
+                <!--
+                <img src="[%c.uri_for('/static/images/parley_logo.jpg')%]" />
                 <h1>Parley</h1>
+                -->
 
                 <div id="user_information">
                     [%l('Current User')%]:



From chiselwright at mail.berlios.de  Wed Jan 16 21:45:54 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Wed, 16 Jan 2008 21:45:54 +0100
Subject: [Parley-svn] r742 - / trunk
Message-ID: <200801162045.m0GKjsuY022092@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-16 21:45:51 +0100 (Wed, 16 Jan 2008)
New Revision: 742

Modified:
   /
   trunk/TODO
Log:
 r4512 at wiggin:  chisel | 2008-01-16 19:07:48 +0000
 / TODO updates



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4511
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4512
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-01-16 20:45:41 UTC (rev 741)
+++ trunk/TODO	2008-01-16 20:45:51 UTC (rev 742)
@@ -12,6 +12,9 @@
   - application logo
   - advanced search page
   - proper moderator support/management
+     - forum creation
+     - abuse handling
+     - post editing (other users)
   - IP/user reporting
   - voting?
 D - styling: thread/add



From chiselwright at mail.berlios.de  Thu Jan 17 22:54:51 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 17 Jan 2008 22:54:51 +0100
Subject: [Parley-svn] r743 - / trunk trunk/root/base/user
	trunk/root/static/css
Message-ID: <200801172154.m0HLspJG024013@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-17 22:54:50 +0100 (Thu, 17 Jan 2008)
New Revision: 743

Modified:
   /
   trunk/TODO
   trunk/root/base/user/login
   trunk/root/static/css/experiment.css
Log:
 r4516 at wiggin:  chisel | 2008-01-17 19:00:13 +0000
 / styled user/login template



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4512
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4516
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-01-16 20:45:51 UTC (rev 742)
+++ trunk/TODO	2008-01-17 21:54:50 UTC (rev 743)
@@ -1,7 +1,6 @@
 TODO LIST
 
   - investigate in-application language preference/choice
-  - styling: user/login
   - styling: post/edit
   - styling: thread/reply
   - styling: user prefs
@@ -17,6 +16,7 @@
      - post editing (other users)
   - IP/user reporting
   - voting?
+D - styling: user/login
 D - styling: thread/add
 D - post/edit: preview (message) code
 D - [bug] fix error when trying to post new thread with no subject line

Modified: trunk/root/base/user/login
===================================================================
--- trunk/root/base/user/login	2008-01-16 20:45:51 UTC (rev 742)
+++ trunk/root/base/user/login	2008-01-17 21:54:50 UTC (rev 743)
@@ -1,33 +1,35 @@
-<form action="[%c.uri_for('/user/login')%]" method="post" name="login_form">
-    <fieldset>
-        <p>
-            [% IF login_message %]
-            [% login_message %]<br />
-            [% ELSE %]
-            [% message %]<br />
-            [% END %]
-        </p>
-        <label for="username" accesskey="u"><b>[%l('Username')%]:</b></label>
-        <br />
-        <input type="text" id="login_username" name="username" size="40" class="input_text" tabindex="1" />
-        <br />
-        <br />
+<div class="user_login">
+    <form action="[%c.uri_for('/user/login')%]" method="post" name="login_form">
+        <fieldset>
+            <p>
+                [% IF login_message %]
+                [% login_message %]<br />
+                [% ELSE %]
+                [% message %]<br />
+                [% END %]
+            </p>
+            <label for="username" accesskey="u"><b>[%l('Username')%]:</b></label>
+            <br />
+            <input type="text" id="login_username" name="username" size="40" class="input_text" tabindex="1" />
+            <br />
+            <br />
 
-        <label for="login_password" accesskey="p"><b>[%l('Password')%]:</b></label>
-        <br />
-        <input type="password" id="login_password" name="password" size="40" class="input_text" tabindex="2" />
-        <br />
+            <label for="login_password" accesskey="p"><b>[%l('Password')%]:</b></label>
+            <br />
+            <input type="password" id="login_password" name="password" size="40" class="input_text" tabindex="2" />
+            <br />
 
-        <br />
-        <button type="submit" class="input_button" tabindex="3" />[%l('Login')%]</button>
+            <br />
+            <button type="submit" class="input_button" tabindex="3" />[%l('Login')%]</button>
 
-            <p align="right">
-            <a href="[%c.uri_for('user/password/forgotten')%]">[%l('Forgotten Password')%]</a>
-            |
-            <a href="[%c.uri_for('user/signup')%]">[%l('Register')%]</a>
-            </p>
-    </fieldset>
-</form>
+                <p align="right">
+                <a href="[%c.uri_for('user/password/forgotten')%]">[%l('Forgotten Password')%]</a>
+                |
+                <a href="[%c.uri_for('user/signup')%]">[%l('Register')%]</a>
+                </p>
+        </fieldset>
+    </form>
+</div>
 
 <!-- put focus into the username field on the form above -->
 <script language="JavaScript">

Modified: trunk/root/static/css/experiment.css
===================================================================
--- trunk/root/static/css/experiment.css	2008-01-16 20:45:51 UTC (rev 742)
+++ trunk/root/static/css/experiment.css	2008-01-17 21:54:50 UTC (rev 743)
@@ -449,6 +449,18 @@
     text-align:         right;
 }
 
+.user_login form {
+    width:              350px;
+    margin-left:        auto;
+    margin-right:       auto;
+    margin-top:         20px;
+}
+
+.user_login p {
+    margin-top:         5px;
+    margin-bottom:      5px;
+}
+
 .user_post_info {
     background:         #ccc;
     background:         transparent;



From chiselwright at mail.berlios.de  Thu Jan 17 22:55:00 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 17 Jan 2008 22:55:00 +0100
Subject: [Parley-svn] r744 - / trunk/root/base/post
Message-ID: <200801172155.m0HLt0OP024086@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-17 22:55:00 +0100 (Thu, 17 Jan 2008)
New Revision: 744

Modified:
   /
   trunk/root/base/post/edit
Log:
 r4517 at wiggin:  chisel | 2008-01-17 19:12:17 +0000
 / improved post/edit template



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4516
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4517
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/post/edit
===================================================================
--- trunk/root/base/post/edit	2008-01-17 21:54:50 UTC (rev 743)
+++ trunk/root/base/post/edit	2008-01-17 21:55:00 UTC (rev 744)
@@ -1,3 +1,13 @@
+<div style="margin-top:10px;"></div>
+<div class="thread_header">
+    <a href="forum/view?forum=[% current_forum.id %]">[% current_forum.name %]</a>
+    &nbsp;:&nbsp;
+    [%l('Edit')%]
+    &nbsp;:&nbsp;
+    [% ForumCode.escape(current_post.thread.subject) %]
+</div>
+<div style="margin-top:10px;"></div>
+
 [% IF messages %]
 <p>
     <ul>
@@ -10,18 +20,22 @@
 
 <form action="post/edit?post=[% current_post.id %]" method="POST" name="new_thread">
     <table>
-        <tr>
-            <td>
-                <textarea id="thread_message" name="post_message" cols="60" rows="10" class="post_message" />[% current_post.message %]</textarea>
-            </td>
-        </tr>
+        <tbody>
+            <tr>
+                <td class="thread_add_message"> [%l('Message')%] </td>
+                <td>
+                    <textarea id="thread_message" name="post_message" cols="60" rows="10" class="post_message" />[% current_post.message %]</textarea>
+                </td>
+            </tr>
 
-        <tr>
-            <td colspan="2" style="text-align: center;">
-                <input type="button" value="[%l('Preview')%]" name="post_reply" class="" id="message_preview" />
-                <input type="submit" value="[%l('Update Reply')%]" name="post_update"    class="input_button" />
-            </td>
-        </tr>
+            <tr>
+                <td>&nbsp;</td>
+                <td style="text-align: center;">
+                    <input type="button" value="[%l('Preview')%]" name="post_reply" class="" id="message_preview" />
+                    <input type="submit" value="[%l('Update Reply')%]" name="post_update"    class="input_button" />
+                </td>
+            </tr>
+        </tbody>
     </table>
 </form>
 



From chiselwright at mail.berlios.de  Thu Jan 17 22:55:10 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 17 Jan 2008 22:55:10 +0100
Subject: [Parley-svn] r745 - / trunk
Message-ID: <200801172155.m0HLtAv0024179@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-17 22:55:09 +0100 (Thu, 17 Jan 2008)
New Revision: 745

Modified:
   /
   trunk/TODO
Log:
 r4518 at wiggin:  chisel | 2008-01-17 19:24:05 +0000
 / updated todo list



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4517
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4518
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-01-17 21:55:00 UTC (rev 744)
+++ trunk/TODO	2008-01-17 21:55:09 UTC (rev 745)
@@ -1,7 +1,6 @@
 TODO LIST
 
   - investigate in-application language preference/choice
-  - styling: post/edit
   - styling: thread/reply
   - styling: user prefs
   - styling: user profile
@@ -16,6 +15,7 @@
      - post editing (other users)
   - IP/user reporting
   - voting?
+D - styling: post/edit
 D - styling: user/login
 D - styling: thread/add
 D - post/edit: preview (message) code



From chiselwright at mail.berlios.de  Mon Jan 21 11:33:53 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 21 Jan 2008 11:33:53 +0100
Subject: [Parley-svn] r746 - / trunk/root/static/images
Message-ID: <200801211033.m0LAXruo004933@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-21 11:33:53 +0100 (Mon, 21 Jan 2008)
New Revision: 746

Modified:
   /
   trunk/root/static/images/parley_logo.jpg
Log:
 r4522 at wiggin:  chisel | 2008-01-21 08:19:49 +0000
 / logo tweak (to improve RHS colour fade)



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4518
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4522
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/static/images/parley_logo.jpg
===================================================================
(Binary files differ)



From chiselwright at mail.berlios.de  Tue Jan 22 20:50:04 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 22 Jan 2008 20:50:04 +0100
Subject: [Parley-svn] r747 - / trunk/lib
Message-ID: <200801221950.m0MJo43b003921@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-22 20:50:03 +0100 (Tue, 22 Jan 2008)
New Revision: 747

Modified:
   /
   trunk/lib/Parley.pm
Log:
 r4524 at wiggin:  chisel | 2008-01-22 19:03:22 +0000
 / minor version bump



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4522
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4524
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley.pm
===================================================================
--- trunk/lib/Parley.pm	2008-01-21 10:33:53 UTC (rev 746)
+++ trunk/lib/Parley.pm	2008-01-22 19:50:03 UTC (rev 747)
@@ -3,7 +3,7 @@
 use strict;
 use warnings;
 
-our $VERSION = '0.58_13';
+our $VERSION = '0.58_14';
 
 use Catalyst::Runtime '5.70';
 use Catalyst qw/



From chiselwright at mail.berlios.de  Tue Jan 22 20:50:19 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 22 Jan 2008 20:50:19 +0100
Subject: [Parley-svn] r748 - / trunk
Message-ID: <200801221950.m0MJoJTG004049@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-22 20:50:19 +0100 (Tue, 22 Jan 2008)
New Revision: 748

Modified:
   /
   trunk/MANIFEST
Log:
 r4525 at wiggin:  chisel | 2008-01-22 19:04:01 +0000
 / updated MANIFEST



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4524
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4525
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/MANIFEST
===================================================================
--- trunk/MANIFEST	2008-01-22 19:50:03 UTC (rev 747)
+++ trunk/MANIFEST	2008-01-22 19:50:19 UTC (rev 748)
@@ -1,6 +1,5 @@
 Changes
 Changes.i18n
-config/parley
 config/parley.fastcgi
 contrib/patch/0.57_02_KAARE.patch
 db/parley.psql
@@ -426,6 +425,7 @@
 root/static/images/icons/lock.png
 root/static/images/loader.gif
 root/static/images/locked.png
+root/static/images/parley_logo.jpg
 root/static/images/rel_interstitial_loading.gif
 root/static/images/sticky.png
 root/static/images/unread_posts.gif



From chiselwright at mail.berlios.de  Tue Jan 22 20:50:34 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 22 Jan 2008 20:50:34 +0100
Subject: [Parley-svn] r749 - / trunk trunk/root/base/thread
	trunk/root/static/css
Message-ID: <200801221950.m0MJoYUc004173@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-22 20:50:34 +0100 (Tue, 22 Jan 2008)
New Revision: 749

Modified:
   /
   trunk/TODO
   trunk/root/base/thread/reply
   trunk/root/static/css/experiment.css
Log:
 r4526 at wiggin:  chisel | 2008-01-22 19:04:46 +0000
 / updated UI/layout/styling for thread/reply



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4525
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4526
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-01-22 19:50:19 UTC (rev 748)
+++ trunk/TODO	2008-01-22 19:50:34 UTC (rev 749)
@@ -1,7 +1,6 @@
 TODO LIST
 
   - investigate in-application language preference/choice
-  - styling: thread/reply
   - styling: user prefs
   - styling: user profile
   - [bug] fix email notification for thread notification emails
@@ -15,6 +14,7 @@
      - post editing (other users)
   - IP/user reporting
   - voting?
+D - styling: thread/reply
 D - styling: post/edit
 D - styling: user/login
 D - styling: thread/add

Modified: trunk/root/base/thread/reply
===================================================================
--- trunk/root/base/thread/reply	2008-01-22 19:50:19 UTC (rev 748)
+++ trunk/root/base/thread/reply	2008-01-22 19:50:34 UTC (rev 749)
@@ -1,11 +1,9 @@
-<div id="logger"></div>
-
-[% PROCESS shared/loading_please_wait %]
-
 <div style="margin-top:10px;"></div>
 <div class="thread_header">
     <a href="forum/view?forum=[% current_forum.id %]">[% ForumCode.escape(current_forum.name) %]</a>
     &nbsp;:&nbsp;
+    [%l('Replying To')%]
+    &nbsp;:&nbsp;
     [% ForumCode.escape(current_thread.subject) %]
 </div>
 
@@ -17,28 +15,23 @@
 [% END %]
 
 <!-- The post we're replying to -->
-<table style="margin-top:10px;">
-  <tr>
-    <td class="post_subject">
-      [% responding_to_post.subject %]
-    </td>
-    <td class="post_creator">
-      [% responding_to_post.creator.forum_name %]
-    </td>
-    <td class="post_created">
-      [% nicedate(responding_to_post.created) %]
-    </td>
-  </tr>
-  
-  <tr>
-    <td colspan="3" class="reply_post_message">
-          [%l('Replying To')%]:
-      <div class="innerpost">
-      [% FILTER html_line_break %][% HTML.escape(responding_to_post.message) %][% END %]
-      </div>
-    </td>
-  </tr>
-</table>
+<div class="yui-gf" style="margin-top:10px;margin-bottom:10px;">
+	<div class="yui-u first">
+        <div style="text-align:right; vertical-align: top;">
+            <p class="post_creator">
+            [% responding_to_post.creator.forum_name %]
+            </p>
+            <p class="post_created">
+            [% nicedate(responding_to_post.created) %]
+            </p>
+        </div>
+	</div>
+	<div class="yui-u">
+        <div class="reply_post_message innerpost">
+            [% FILTER html_line_break %][% ForumCode.forumcode(responding_to_post.message) %][% END %]
+        </div>
+	</div>
+</div>
 
 [% IF messages %]
 <p>
@@ -50,67 +43,96 @@
 </p>
 [% END %]
 
-    
 <p style="padding:10px;">[%l('ENTER REPLY')%]:</p>
 
+<!-- replies may have their own subject line -->
+[% IF c.config.replies_have_own_subject %]
+<div class="yui-gf" style="margin-top:10px;margin-bottom:10px;">
+	<div class="yui-u first">
+        <div style="text-align:right; vertical-align: top;">
+            [%l('Topic')%]:
+        </div>
+	</div>
+	<div class="yui-u">
+        <input type="text" name="thread_subject" size="60" class="input_text" value="[% current_thread.subject %]" />
+	</div>
+</div>
+[% END %]
 
-<table class="thread_reply">
-  [% IF c.config.replies_have_own_subject %]
-  <tr>
-    <td> [%l('Topic')%] </td>
-    <td>
-      <input type="text" name="thread_subject" size="60" class="input_text" value="[% current_thread.subject %]" />
-    </td>
-  </tr>
-  [% END %]
-
-  [% IF quote_post %]
+<!-- possibly quoting an existing post -->
+[% IF quote_post %]
   <input type="hidden" name="have_quoted_post" value="1" />
   <input type="hidden" name="__post" value="[% quote_post.id %]" />
-  <tr>
-  <td>&nbsp;</td>
-  <td>
-    <span class="post_creator">
-      [% quote_post.creator.forum_name %] [%l('said')%]:
-    </span>
-    <br />
-    <textarea name="quote_message" cols="60" rows="10" class="quoted_reply_textarea" />[% quote_post.message %]</textarea>
-  </td>
-  </tr>
-  [% END %]
+<div class="yui-gf" style="margin-top:10px;margin-bottom:10px;">
+	<div class="yui-u first">
+        &nbsp;
+	</div>
+	<div class="yui-u">
+        <span class="post_creator">
+            [% quote_post.creator.forum_name %] [%l('said')%]:
+        </span>
+        <br />
+        <textarea name="quote_message" cols="60" rows="10" class="quoted_reply_textarea" />[% quote_post.message %]</textarea>
+	</div>
+</div>
+[% END %]
 
-  <tr>
-    <td> [%l('Message')%] </td>
-    <td>
+<!-- the reply area -->
+<div class="yui-gf" style="margin-top:10px;margin-bottom:10px;">
+	<div class="yui-u first">
+        <div style="text-align:right; vertical-align: top;">
+            [%l('Message')%]:
+        </div>
+	</div>
+	<div class="yui-u">
         <textarea name="thread_message" id="thread_message" cols="60" rows="20" class="input_text" /></textarea>
-    </td>
-  </tr>
+	</div>
+</div>
 
-  <tr>
-    <td>&nbsp</td>
-    <td colspan="1" style="text-align: center;">
-      <input type="button" value="[%l('Preview')%]"   accesskey="Z" name="post_reply" class="input_button" id="message_preview" />
-      <input type="submit" value="[%l('Add Reply')%]" accesskey="X" name="post_reply" class="input_button" />
-    </td>
-  </tr>
+<!-- button row -->
+<div class="yui-g">
+	<div class="yui-g first">
+		<div class="yui-u first">
+			&nbsp;
+		</div>
+		<div class="yui-u" style="text-align:center;">
+            <input type="button" value="[%l('Preview')%]"   accesskey="P" name="post_reply" class="input_button" id="message_preview" />
+		</div>
+	</div>
+	<div class="yui-g">
+		<div class="yui-u first" style="text-align:center;">
+            <input type="submit" value="[%l('Add Reply')%]" accesskey="S" name="post_reply" class="input_button" />
+		</div>
+		<div class="yui-u">
+			&nbsp;
+		</div>
+	</div>
+</div>
 
-  [% IF moderator %]
-  <tr>
-    <td>&nbsp</td>
-    <td colspan="1" align="left">
-        <input type="checkbox" name="lock_thread" value="1" /> [%l('LOCK AFTER POSTING')%] 
-    </td>
-  </tr>
-  [% END %]
-  <tr>
-    <td>&nbsp</td>
-    <td colspan="1" align="left">
-        <input type="checkbox" name="watch_on_post" value="1" [% IF authed_user.preference.watch_on_post %]checked="checked" [% END %]/>
-        [%l('ADD THREAD WATCH')%] 
-    </td>
-  </tr>
-</table>
-</form>
+<!-- extra actions -->
+<div class="yui-g" style="margin-top:20px;">
+	<div class="yui-g first">
+		<div class="yui-u first">
+			&nbsp;
+		</div>
+		<div class="yui-u" style="text-align:center;">
+            [% IF moderator %]
+            <input type="checkbox" name="lock_thread" value="1" /> [%l('LOCK AFTER POSTING')%] 
+            [% ELSE %]
+            &nbsp;
+            [% END %]
+		</div>
+	</div>
+	<div class="yui-g">
+		<div class="yui-u first" style="text-align:center;">
+            <input type="checkbox" name="watch_on_post" value="1" [% IF authed_user.preference.watch_on_post %]checked="checked" [% END %]/>
+            [%l('ADD THREAD WATCH')%] 
+		</div>
+		<div class="yui-u">
+			&nbsp;
+		</div>
+	</div>
+</div>
 
 <style type="text/css">
 	.yui-overlay { position:absolute;background:transparent;border:none;padding:none;margin:none; }
@@ -128,3 +150,5 @@
     MessagePreview.init();
 </script>
 <!-- (end) message preview majick -->
+
+[% PROCESS shared/loading_please_wait %]

Modified: trunk/root/static/css/experiment.css
===================================================================
--- trunk/root/static/css/experiment.css	2008-01-22 19:50:19 UTC (rev 748)
+++ trunk/root/static/css/experiment.css	2008-01-22 19:50:34 UTC (rev 749)
@@ -300,9 +300,7 @@
 }
 
 .reply_post_message {
-    width: 100%;
-    background-color: #ddd;
-    border: 2px inset #fff;
+    border:             1px dashed #666;
 }
 
 .search_match_context {



From chiselwright at mail.berlios.de  Tue Jan 22 20:50:54 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 22 Jan 2008 20:50:54 +0100
Subject: [Parley-svn] r750 - / trunk/root/base trunk/root/static/css
Message-ID: <200801221950.m0MJosal004274@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-22 20:50:54 +0100 (Tue, 22 Jan 2008)
New Revision: 750

Added:
   trunk/root/static/css/parley.css
Removed:
   trunk/root/static/css/experiment.css
Modified:
   /
   trunk/root/base/header
Log:
 r4527 at wiggin:  chisel | 2008-01-22 19:06:16 +0000
 I'm sure that the CSS is no longer experimental ...



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4526
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4527
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/header
===================================================================
--- trunk/root/base/header	2008-01-22 19:50:34 UTC (rev 749)
+++ trunk/root/base/header	2008-01-22 19:50:54 UTC (rev 750)
@@ -53,7 +53,7 @@
 
 
         <!-- defined styles for parley -->
-        <link type="text/css" rel="stylesheet" title="Simple" href="[%c.uri_for('/static/css/experiment.css')%]" />
+        <link type="text/css" rel="stylesheet" title="Simple" href="[%c.uri_for('/static/css/parley.css')%]" />
     </head>
 
     <body class="yui-skin-sam">

Deleted: trunk/root/static/css/experiment.css
===================================================================
--- trunk/root/static/css/experiment.css	2008-01-22 19:50:34 UTC (rev 749)
+++ trunk/root/static/css/experiment.css	2008-01-22 19:50:54 UTC (rev 750)
@@ -1,555 +0,0 @@
-/* core layout styling */
-
-#hd {
-    height:         80px;
-    line-height:    80px;
-    margin:         0px;
-    padding-left:   10px;
-    background:     #EEE url('/static/images/parley_logo.jpg') no-repeat left;
-    color:          #79B30B
-}
-
-#hd h1 {
-    font-size:  200%;
-    text-align: left;
-}
-
-div#ft   {background: #666;color: #FFF; font-size: 77%; margin-top: 20px;}
-div#ft p {border:none;margin-top:30px;padding:5px 10px 5px 10px; text-align:right;display:block;}
-div#ft a {color: #ccc;}
-
-div#user_information {
-    line-height:        1em;
-    font-size:          85%;
-    color:              #000;
-    background-color:   transparent;
-    position:           absolute;
-    top:                0px;
-    right:              10px;
-    height:             70px;
-    width:              200px;
-    padding-top:        3px;
-}
-
-/* CSS bug fixes */
-
-.caretfix {
-    overflow:auto;
-}
-
-/* content styling */
-
-/* headers */
-#bd h1 {
-    font-weight:        bold;
-    background:         #666;
-    padding:            4px;
-    text-align:         left;
-    margin-top:         5px;
-    margin-bottom:      5px;
-}
-#bd h2 {
-    font-weight:        bold;
-    background:         #999;
-    padding:            4px;
-    text-align:         left;
-    margin-top:         5px;
-    margin-bottom:      5px;
-}
-#bd h3 {
-    font-weight:        bold;
-    background:         #eee;
-    padding:            4px;
-    text-align:         left;
-    margin-top:         5px;
-    margin-bottom:      5px;
-    color:              #79B30B
-}
-
-/* links */
-a.nav:hover {
-    background:         #000;
-    color:              #fff;
-}
-
-a, a:link, a:visited, a:active {
-    background:         transparent;
-    color:              blue;
-    text-decoration:    none;
-}
-
-/* tables */
-th {
-    font-size:          100%;
-    text-align:         left;
-    font-weight:        bold;
-}
-
-/* login dialog styling */
-#login_dialog form {
-    margin:             0;
-    padding:            0;
-    min-width:          400px;
-    max-width:          600px;
-}
-#login_dialog form fieldset {
-    / * clear: both; note that this clear causes inputs to break to left in ie5.x mac, commented out */
-    padding:            10px;
-    margin:             0;
-    border:             none;
-}
-#login_dialog form label { 
-    display:            block;  /* block float the labels to left column, set a width */
-    float:              left; 
-    width:              150px; 
-    padding:            0; 
-    margin:             5px 0 0; /* set top margin same as form input - textarea etc. elements */
-    text-align:         right; 
-    font-weight:        bold;
-    margin-bottom:      0;
-}
-#login_dialog form input, form textarea {
-    width:              auto;         /* set width of form elements to auto-size, otherwise watch for wrap on resize */
-    margin:             5px 0 0 10px; /* set margin on left of form elements rather than right of
-                                         label aligns textarea better in IE */
-}
-#login_dialog form p {
-    font-size:          85%;
-}
-
-/* generic row styling */
-.row {
-    border-top:         1px dotted #666;
-    border-bottom:      1px dotted #666;
-}
-/* alternating row styles */
-.row_odd {
-    background:         #eee;
-}
-.row_even {
-    background:         #ddd;
-}
-
-/* style classes */
-.forum_description {
-    font-size:          93%;
-}
-.forum_lastpost {
-    font-size:          85%;
-    text-align:         right;
-}
-.forum_lastpost_subject a {
-    color:              #333;
-    color:              #79B30B
-}
-.forum_link {
-    font-size:          100%;
-    font-weight:        bold;
-}
-.forum_list  {
-    margin-left:        auto;
-    margin-right:       auto;
-    margin-top:         15px;
-    width:              100%;
-    font-size:          93%;
-}
-.forum_list td {
-    vertical-align:     top;
-    border:             1px dashed #ddd;
-    border:             none;
-    line-height:        120%;
-    padding-left:       10px;
-    padding-right:      10px;
-}
-.forum_mini_pager {
-    font-size:          85%;
-}
-.forum_mini_pager a {
-    color:              #666;
-}
-.forum_name {
-    font-size:          100%;
-    text-align:         left;
-    font-weight:        bold;
-    margin-top:         5px;
-}
-.forum_name a {
-    color:              #333;
-    color:              #79B30B
-}
-.forum_postcount {
-    font-size:          85%;
-    text-align:         right;
-    margin-top:         5px;
-}
-.forum_view  {
-    margin-left:        auto;
-    margin-right:       auto;
-    margin-top:         15px;
-    width:              100%;
-    font-size:          93%;
-}
-.forum_view td {
-    vertical-align:     top;
-    border:             1px dashed #ddd;
-    border:             none;
-    line-height:        120%;
-    padding-left:       10px;
-    padding-right:      10px;
-}
-
-.help li {
-    margin-top:         25px;
-    margin-right:       25px;
-    list-style-type:    none;
-    border-left:        2px solid #666;
-    padding-top:        5px;
-    padding-bottom:     5px;
-    padding-left:       10px;
-    background-color:   #ddd;
-}
-.help li ul li, .help li ol li{
-    margin-top:         5px;
-    margin-left:        10px;
-    list-style-type:    disc;
-    border-left:        none;
-    padding-left:       none;
-    padding-top:        none;
-    padding-bottom:     none;
-    background-color:   transparent;
-}
-
-.innerpost {
-    margin-left:        10px;
-    padding:            5px;
-    overflow:           auto;
-    font-size:          93%;
-}
-
-.moderator_list {
-    font-size:          77%;
-    margin-bottom:      5px;
-    margin-top:         5px;
-    text-align:         right;
-}
-
-.pager_advanced {
-    font-size:          77%;
-    margin-bottom:      5px;
-    margin-top:         5px;
-}
-
-.post {
-    padding-top:        5px;
-    vertical-align:     top;
-    border-left:        1px solid #ddd;
-}
-
-.post_created {
-    text-align:         right;
-    font-size:          85%;
-}
-
-.post_creator {
-    font-weight:        bold;
-    font-style:         italic;
-    font-size:          85%;
-}
-
-.post_edited_alert {
-    font-weight:        bold;
-    font-style:         italic;
-}
-
-.post_info {
-    font-size:          77%;
-    line-height:        1.1em;
-    margin-top:         10px;
-    margin-bottom:      2px;
-    text-align:         right;
-}
-
-.post_subject {
-    font-weight:    bold;
-}
-
-.quote {
-    background-color:   #F9FBFF;
-    border:             1px solid #333;
-    font-size:          85%;
-    margin:             0 0 2px 4px;
-    padding:            6px;
-    width:              85%;
-    overflow:           hidden;
-}
-
-.recently_updated  {
-    margin-left:        auto;
-    margin-right:       auto;
-    margin-top:         15px;
-    width:              100%;
-    font-size:          93%;
-}
-.recently_updated td {
-    vertical-align:     top;
-    border:             1px dashed #ddd;
-    border:             none;
-    line-height:        120%;
-    padding-left:       10px;
-    padding-right:      10px;
-}
-
-.reply_post_message {
-    border:             1px dashed #666;
-}
-
-.search_match_context {
-    font-size:          85%;
-}
-
-.search_results {
-    margin-left:        auto;
-    margin-right:       auto;
-    margin-top:         15px;
-    width:              100%;
-    font-size:          93%;
-}
-.search_results td {
-    vertical-align:     top;
-    border:             1px dashed #ddd;
-    border:             none;
-    line-height:        120%;
-    padding-left:       10px;
-    padding-right:      10px;
-    padding-top:        5px;
-    padding-bottom:     5px;
-}
-
-.site_terms {
-    width:              80%;
-    margin-left:        auto;
-    margin-right:       auto;
-    margin-bottom:      10px;
-    padding:            5px;
-    border:             1px solid #666;
-}
-
-.thread_add {
-    margin-left:        auto;
-    margin-right:       auto;
-    margin-top:         15px;
-    width:              100%;
-    font-size:          93%;
-}
-
-.thread_add td {
-    padding-top:        4px;
-    padding-bottom:     4px;
-}
-
-.thread_add .input_text {
-    width:              450px;
-    margin-left:        10px;
-}
-
-.thread_add_topic {
-    text-align:         right;
-    padding-right:      5px;
-}
-.thread_add_message {
-    text-align:         right;
-    vertical-align:     top;
-    padding-right:      5px;
-}
-
-.thread_header {
-    font-weight:        bold;
-    background:         #666;
-    padding:            4px;
-    text-align:         left;
-}
-.thread_header a {
-    color:              #ccc;
-}
-
-.thread_info {
-    margin:             0px;
-    width:              100%;
-    border:             none;
-    padding:            0px;
-    margin-bottom:      10px;
-}
-.thread_info td {
-    border:             none;
-    padding:            0px;
-}
-
-.thread_lastpost {
-    font-size:          85%;
-    text-align:         right;
-}
-
-.thread_post_row {
-    border-top:         1px solid #ddd;
-    border-bottom:      1px solid #ddd;
-}
-.thread_post_row td {
-    margin-top: 10px;
-    margin-bottom: 10px;
-}
-
-.thread_posts {
-    margin-left:        auto;
-    margin-right:       auto;
-    margin-top:         15px;
-    width:              100%;
-    font-size:          93%;
-}
-
-.thread_recent_forum {
-    float:              right;
-    font-size:          85%;
-}
-.thread_recent_forum a {
-    color:              #333;
-}
-
-.thread_reply {
-    font-size:          93%;
-}
-.thread_reply tr {
-    vertical-align:     top;
-}
-.thread_reply td {
-    padding-top:        10px;
-    padding-left:       10px;
-}
-.thread_reply textarea {
-    background-color:   transparent;
-    border:             2px inset black;
-}
-
-.thread_subject a {
-    font-size:          93%;
-    color:              #333;
-    color:              #79B30B
-}
-
-.thread_watch {
-    margin-top:         5px;
-    font-size:          77%;
-    text-align:         left;
-}
-
-.topic_creator {
-    display:            block;
-    font-size:          85%;
-    text-align:         right;
-}
-
-.user_login form {
-    width:              350px;
-    margin-left:        auto;
-    margin-right:       auto;
-    margin-top:         20px;
-}
-
-.user_login p {
-    margin-top:         5px;
-    margin-bottom:      5px;
-}
-
-.user_post_info {
-    background:         #ccc;
-    background:         transparent;
-    font-size:          77%;
-    margin-left:        auto;
-    margin-right:       auto;
-    text-align:         center;
-    vertical-align:     top;
-    width:              110px;
-}
-
-/* add icons to some links with CSS styling */
-
-a[href $='.jpg']{
-    padding-left: 20px;
-    background:   transparent url(/static/images/filetypes/image.png) no-repeat center left;
-}
-
-a[href $='.pdf']{
-    padding-left: 20px;
-    background:   transparent url(/static/images/filetypes/pdf.png) no-repeat center left;
-}
-
-/* YUI element styling */
-#loader_wait.yui-overlay {
-    position:           fixed;
-    float:              right;
-    top:                10px;
-    right:              10px;
-    border:             none;
-    text-align:         right;
-}
-#preview_overlay {
-    border:             1px dashed #ccc;
-    text-align:         left;
-    padding:            0px;
-}
-#thread_message {
-    font-family:        monospace;
-    text-align:         left;
-    padding:            0px;
-    background-color:   #eee;
-    font-size:          93%;
-    width:              450px;
-}
-
-/* ForumCode styles */
-.forumcode_code {
-    font-family:        monospace;
-    border:             1px solid #333;
-    font-size:          85%;
-    margin:             15px 20px 15px 20px;
-    padding:            6px;
-    width:              85%;
-    overflow:           auto;
-
-    color:              #ff0;
-    background-color:   #333;
-    border:             1px solid #666;
-
-    white-space:        pre;
-}
-
-.forumcode_pre {
-    background-color:   transparent;
-    font-family:        monospace;
-    border:             1px dashed #333;
-    font-size:          85%;
-    margin:             15px 20px 15px 20px;
-    padding:            6px;
-    width:              85%;
-    overflow:           auto;
-
-    white-space:        pre;
-}
-
-.forumcode_quote {
-    background-color:   #eee;
-    font-family:        monospace;
-    font-style:         italic;
-    border:             1px dotted #333;
-    font-size:          85%;
-    margin:             15px 20px 15px 20px;
-    padding:            6px;
-    width:              85%;
-    overflow:           auto;
-}
-
-.forumcode_quoting {
-    font-weight:        bold;
-    margin-bottom:      3px;
-}
-
-

Copied: trunk/root/static/css/parley.css (from rev 749, trunk/root/static/css/experiment.css)



From chiselwright at mail.berlios.de  Tue Jan 22 20:51:02 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 22 Jan 2008 20:51:02 +0100
Subject: [Parley-svn] r751 - / trunk
Message-ID: <200801221951.m0MJp2u9004365@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-22 20:51:02 +0100 (Tue, 22 Jan 2008)
New Revision: 751

Modified:
   /
   trunk/Changes
Log:
 r4528 at wiggin:  chisel | 2008-01-22 19:10:23 +0000
 / updated Changes



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4527
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4528
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-01-22 19:50:54 UTC (rev 750)
+++ trunk/Changes	2008-01-22 19:51:02 UTC (rev 751)
@@ -1,8 +1,9 @@
 This file documents the revision history for Parley.
 
 0.58 (UNDER DEVELOPMENT)
+    - add browser and user driven language selection
     - added first part of .it i18n (Thanks Darius!)
-    - (begin to) re-work the UI design to be cleaner
+    - re-work the UI design to be cleaner
     - make the display of the time zone independant of the time_format string
     - fix issues with email notifications
     - [bug] fix user's last post information (profile page)
@@ -12,6 +13,8 @@
     - upgraded to YUI 2.4.1
     - factored out MessagePreview javascript into single included file
     - [bug] fix error when trying to post new thread with no subject line
+    - modify ::Schema so that we can export mysql and sqlite schemas
+    - more efficient database querying (a la DBIC's prefetch)
 
 0.57    Wed Oct 31 19:15:06 GMT 2007
     - added T&Cs to application



From chiselwright at mail.berlios.de  Tue Jan 22 20:51:10 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 22 Jan 2008 20:51:10 +0100
Subject: [Parley-svn] r752 - / trunk
Message-ID: <200801221951.m0MJpANw004444@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-22 20:51:09 +0100 (Tue, 22 Jan 2008)
New Revision: 752

Modified:
   /
   trunk/Changes
Log:
 r4529 at wiggin:  chisel | 2008-01-22 19:11:04 +0000
 / another Changes update



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4528
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4529
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-01-22 19:51:02 UTC (rev 751)
+++ trunk/Changes	2008-01-22 19:51:09 UTC (rev 752)
@@ -1,6 +1,7 @@
 This file documents the revision history for Parley.
 
 0.58 (UNDER DEVELOPMENT)
+    - added an application logo
     - add browser and user driven language selection
     - added first part of .it i18n (Thanks Darius!)
     - re-work the UI design to be cleaner



From chiselwright at mail.berlios.de  Tue Jan 22 20:51:17 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 22 Jan 2008 20:51:17 +0100
Subject: [Parley-svn] r753 - / trunk
Message-ID: <200801221951.m0MJpHVR004531@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-22 20:51:16 +0100 (Tue, 22 Jan 2008)
New Revision: 753

Modified:
   /
   trunk/MANIFEST
Log:
 r4530 at wiggin:  chisel | 2008-01-22 19:20:09 +0000
 MANIFEST update



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4529
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4530
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/MANIFEST
===================================================================
--- trunk/MANIFEST	2008-01-22 19:51:09 UTC (rev 752)
+++ trunk/MANIFEST	2008-01-22 19:51:16 UTC (rev 753)
@@ -154,13 +154,13 @@
 root/favicon.ico
 root/static/css/common.css
 root/static/css/default.css
-root/static/css/experiment.css
 root/static/css/images/bg.gif
 root/static/css/images/client_logo.gif
 root/static/css/images/logo.png
 root/static/css/layout23.css
 root/static/css/layout27.css
 root/static/css/layout33.css
+root/static/css/parley.css
 root/static/Editable.js
 root/static/images/btn_120x50_built.png
 root/static/images/btn_120x50_built_shadow.png



From chiselwright at mail.berlios.de  Tue Jan 22 20:51:24 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 22 Jan 2008 20:51:24 +0100
Subject: [Parley-svn] r754 - / trunk/lib
Message-ID: <200801221951.m0MJpOpu004608@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-22 20:51:24 +0100 (Tue, 22 Jan 2008)
New Revision: 754

Modified:
   /
   trunk/lib/Parley.pm
Log:
 r4531 at wiggin:  chisel | 2008-01-22 19:20:45 +0000
 / minor version bump



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4530
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4531
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley.pm
===================================================================
--- trunk/lib/Parley.pm	2008-01-22 19:51:16 UTC (rev 753)
+++ trunk/lib/Parley.pm	2008-01-22 19:51:24 UTC (rev 754)
@@ -3,7 +3,7 @@
 use strict;
 use warnings;
 
-our $VERSION = '0.58_14';
+our $VERSION = '0.58_15';
 
 use Catalyst::Runtime '5.70';
 use Catalyst qw/



From chiselwright at mail.berlios.de  Thu Jan 24 08:05:38 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 24 Jan 2008 08:05:38 +0100
Subject: [Parley-svn] r755 - / trunk trunk/lib/Parley/Controller/User
	trunk/root/base/user
Message-ID: <200801240705.m0O75cev029187@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-24 08:05:37 +0100 (Thu, 24 Jan 2008)
New Revision: 755

Modified:
   /
   trunk/Changes
   trunk/lib/Parley/Controller/User/LostPassword.pm
   trunk/root/base/user/login
Log:
 r4544 at wiggin:  chisel | 2008-01-23 10:37:50 +0000
 / fix uri_for() error on user/login 
 / fix DBIC field error during lostpassword process



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4531
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4544
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-01-22 19:51:24 UTC (rev 754)
+++ trunk/Changes	2008-01-24 07:05:37 UTC (rev 755)
@@ -16,6 +16,8 @@
     - [bug] fix error when trying to post new thread with no subject line
     - modify ::Schema so that we can export mysql and sqlite schemas
     - more efficient database querying (a la DBIC's prefetch)
+    - fix uri_for() error on user/login 
+    - fix DBIC field error during lostpassword process
 
 0.57    Wed Oct 31 19:15:06 GMT 2007
     - added T&Cs to application

Modified: trunk/lib/Parley/Controller/User/LostPassword.pm
===================================================================
--- trunk/lib/Parley/Controller/User/LostPassword.pm	2008-01-22 19:51:24 UTC (rev 754)
+++ trunk/lib/Parley/Controller/User/LostPassword.pm	2008-01-24 07:05:37 UTC (rev 755)
@@ -399,7 +399,7 @@
     $pwd_reset = $c->model('ParleyDB')->resultset('PasswordReset')->create(
         {
             'password_reset_id' => $random,
-            'recipient'		=> $person->person_id,
+            'recipient'		=> $person->id,
             'expires'		=> Time::Piece->new(time + $LIFETIME)->datetime,
         }
     );

Modified: trunk/root/base/user/login
===================================================================
--- trunk/root/base/user/login	2008-01-22 19:51:24 UTC (rev 754)
+++ trunk/root/base/user/login	2008-01-24 07:05:37 UTC (rev 755)
@@ -23,9 +23,9 @@
             <button type="submit" class="input_button" tabindex="3" />[%l('Login')%]</button>
 
                 <p align="right">
-                <a href="[%c.uri_for('user/password/forgotten')%]">[%l('Forgotten Password')%]</a>
+                <a href="[%c.uri_for('/user/password/forgotten')%]">[%l('Forgotten Password')%]</a>
                 |
-                <a href="[%c.uri_for('user/signup')%]">[%l('Register')%]</a>
+                <a href="[%c.uri_for('/user/signup')%]">[%l('Register')%]</a>
                 </p>
         </fieldset>
     </form>



From chiselwright at mail.berlios.de  Thu Jan 24 08:05:46 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 24 Jan 2008 08:05:46 +0100
Subject: [Parley-svn] r756 - / trunk/lib trunk/lib/Parley/Controller/User
	trunk/root/base/error
Message-ID: <200801240705.m0O75kdM029260@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-24 08:05:45 +0100 (Thu, 24 Jan 2008)
New Revision: 756

Modified:
   /
   trunk/lib/Parley.pm
   trunk/lib/Parley/Controller/User/LostPassword.pm
   trunk/root/base/error/simple
Log:
 r4545 at wiggin:  chisel | 2008-01-23 18:56:56 +0000
 / more (and hopefully final) fixes to Lost Password screens



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4544
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4545
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley/Controller/User/LostPassword.pm
===================================================================
--- trunk/lib/Parley/Controller/User/LostPassword.pm	2008-01-24 07:05:37 UTC (rev 755)
+++ trunk/lib/Parley/Controller/User/LostPassword.pm	2008-01-24 07:05:45 UTC (rev 756)
@@ -128,7 +128,7 @@
     # fetch the info from the database
     my $pwd_reset = $c->model('ParleyDB')->resultset('PasswordReset')->find(
         {
-            password_reset_id => $reset_uid,
+            id => $reset_uid,
         }
     );
 
@@ -372,7 +372,7 @@
         # do the actual password reset
         $email_send_status = $self->_user_password_reset($c, $person);
         if (not $email_send_status) {
-            parley_warn($c, $c->localize(q{PASWORD EMAIL SEND FAILED}));
+            parley_warn($c, $c->localize(q{PASSWORD EMAIL SEND FAILED}));
         }
     }
 
@@ -398,9 +398,9 @@
     # create an invitation
     $pwd_reset = $c->model('ParleyDB')->resultset('PasswordReset')->create(
         {
-            'password_reset_id' => $random,
-            'recipient'		=> $person->id,
-            'expires'		=> Time::Piece->new(time + $LIFETIME)->datetime,
+            'id'                => $random,
+            'recipient_id'      => $person->id,
+            'expires'           => Time::Piece->new(time + $LIFETIME)->datetime,
         }
     );
 
@@ -437,7 +437,7 @@
     # delete all outstanding reset URLs for the user
     $c->model('ParleyDB')->resultset('PasswordReset')->search(
         {
-            recipient => $pwd_reset->recipient()->id()
+            recipient_id => $pwd_reset->recipient()->id()
         }
     ) ->delete;
 }

Modified: trunk/lib/Parley.pm
===================================================================
--- trunk/lib/Parley.pm	2008-01-24 07:05:37 UTC (rev 755)
+++ trunk/lib/Parley.pm	2008-01-24 07:05:45 UTC (rev 756)
@@ -3,7 +3,7 @@
 use strict;
 use warnings;
 
-our $VERSION = '0.58_15';
+our $VERSION = '0.58_16';
 
 use Catalyst::Runtime '5.70';
 use Catalyst qw/

Modified: trunk/root/base/error/simple
===================================================================
--- trunk/root/base/error/simple	2008-01-24 07:05:37 UTC (rev 755)
+++ trunk/root/base/error/simple	2008-01-24 07:05:45 UTC (rev 756)
@@ -4,7 +4,7 @@
 <p>
 [%l('The following error message was returned by the application')%]:
 
-<blockquote>[% error.message %]</blockquote>
+<blockquote style="white-space:pre;">[% error.message %]</blockquote>
 </p>
 [% END %]
 



From chiselwright at mail.berlios.de  Thu Jan 24 08:05:53 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 24 Jan 2008 08:05:53 +0100
Subject: [Parley-svn] r757 - / trunk trunk/lib/Parley/Controller/User
Message-ID: <200801240705.m0O75r6w029332@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-24 08:05:53 +0100 (Thu, 24 Jan 2008)
New Revision: 757

Modified:
   /
   trunk/Changes
   trunk/TODO
   trunk/lib/Parley/Controller/User/SignUp.pm
Log:
 r4546 at wiggin:  chisel | 2008-01-23 19:10:54 +0000
 / fix signup issues



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4545
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4546
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-01-24 07:05:45 UTC (rev 756)
+++ trunk/Changes	2008-01-24 07:05:53 UTC (rev 757)
@@ -18,6 +18,7 @@
     - more efficient database querying (a la DBIC's prefetch)
     - fix uri_for() error on user/login 
     - fix DBIC field error during lostpassword process
+    - fix DBIC field errors during signup
 
 0.57    Wed Oct 31 19:15:06 GMT 2007
     - added T&Cs to application

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-01-24 07:05:45 UTC (rev 756)
+++ trunk/TODO	2008-01-24 07:05:53 UTC (rev 757)
@@ -1,5 +1,6 @@
 TODO LIST
 
+  - TESTS, TESTS, TESTS!
   - investigate in-application language preference/choice
   - styling: user prefs
   - styling: user profile

Modified: trunk/lib/Parley/Controller/User/SignUp.pm
===================================================================
--- trunk/lib/Parley/Controller/User/SignUp.pm	2008-01-24 07:05:45 UTC (rev 756)
+++ trunk/lib/Parley/Controller/User/SignUp.pm	2008-01-24 07:05:53 UTC (rev 757)
@@ -80,7 +80,7 @@
     # fetch the info from the database
     my $regauth = $c->model('ParleyDB')->resultset('RegistrationAuthentication')->find(
         {
-            registration_authentication_id => $auth_id,
+            id => $auth_id,
         }
     );
 
@@ -100,7 +100,7 @@
     # get the person matching the ID
     $c->stash->{signup_user} = $c->model('ParleyDB')->resultset('Person')->find(
         {
-            person_id => $regauth->recipient->person_id(),
+            id => $regauth->recipient_id,
         }
     );
 
@@ -204,9 +204,9 @@
     # create an invitation
     $invitation = $c->model('ParleyDB')->resultset('RegistrationAuthentication')->create(
         {
-            'registration_authentication_id'	=> $random,
-            'recipient'				=> $person->person_id,
-            'expires'				=> Time::Piece->new(time + $LIFETIME)->datetime,
+            'id'	    => $random,
+            'recipient_id'  => $person->id,
+            'expires'       => Time::Piece->new(time + $LIFETIME)->datetime,
         }
     );
 
@@ -334,11 +334,11 @@
     # add new person
     $new_person = $c->model('ParleyDB')->resultset('Person')->create(
         {
-            first_name      => $valid_results->{first_name},
-            last_name       => $valid_results->{last_name},
-            forum_name      => $valid_results->{forum_name},
-            email           => $valid_results->{email},
-            authentication  => $new_auth->id(),
+            first_name          => $valid_results->{first_name},
+            last_name           => $valid_results->{last_name},
+            forum_name          => $valid_results->{forum_name},
+            email               => $valid_results->{email},
+            authentication_id   => $new_auth->id(),
         }
     );
 
@@ -350,7 +350,7 @@
         }
     );
     # and link to the new person
-    $new_person->preference( $new_preference->id() );
+    $new_person->preference_id( $new_preference->id() );
     $new_person->update;
 
     # send an authentication email



From chiselwright at mail.berlios.de  Thu Jan 24 08:06:00 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 24 Jan 2008 08:06:00 +0100
Subject: [Parley-svn] r758 - / trunk/lib
Message-ID: <200801240706.m0O760pQ029403@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-24 08:06:00 +0100 (Thu, 24 Jan 2008)
New Revision: 758

Modified:
   /
   trunk/lib/Parley.pm
Log:
 r4547 at wiggin:  chisel | 2008-01-23 19:11:06 +0000
 / minor version bump



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4546
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4547
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley.pm
===================================================================
--- trunk/lib/Parley.pm	2008-01-24 07:05:53 UTC (rev 757)
+++ trunk/lib/Parley.pm	2008-01-24 07:06:00 UTC (rev 758)
@@ -3,7 +3,7 @@
 use strict;
 use warnings;
 
-our $VERSION = '0.58_16';
+our $VERSION = '0.58_18';
 
 use Catalyst::Runtime '5.70';
 use Catalyst qw/



From chiselwright at mail.berlios.de  Tue Jan 29 00:32:49 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 29 Jan 2008 00:32:49 +0100
Subject: [Parley-svn] r759 - / trunk/root/base/user/lostpassword
	trunk/root/static/css
Message-ID: <200801282332.m0SNWnai000432@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-29 00:32:48 +0100 (Tue, 29 Jan 2008)
New Revision: 759

Modified:
   /
   trunk/root/base/user/lostpassword/lost_password
   trunk/root/static/css/parley.css
Log:
 r4552 at wiggin:  chisel | 2008-01-24 19:19:30 +0000
 / tidied up layout for first lost password screen



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4547
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4552
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/user/lostpassword/lost_password
===================================================================
--- trunk/root/base/user/lostpassword/lost_password	2008-01-24 07:06:00 UTC (rev 758)
+++ trunk/root/base/user/lostpassword/lost_password	2008-01-28 23:32:48 UTC (rev 759)
@@ -1,16 +1,33 @@
 <h1>Password Reset</h1>
-<p>
-[% name %] [%l('PASSWORD STORES')%]
-[%l('PASSWORD IMPOSSIBLE')%]
-</p>
 
-<p>
-[%l('PASSWORD GAIN')%]
-[%l('PASSWORD PROCEED')%]
-</p>
+<div class="yui-gb top_padded">
+    <div class="yui-u first align_right">
+        &nbsp;
+    </div>
+    <div class="yui-u" style="text-align:justify;">
+        [% name %] [%l('PASSWORD STORES')%]
+        &nbsp;
+        [%l('PASSWORD IMPOSSIBLE')%]
+    </div>
+    <div class="yui-u">
+        &nbsp;
+    </div>
+</div>
 
-<form method="post" action="user/password/forgotten" name="password_reset_form">
-    <fieldset>
+<div class="yui-gb top_padded">
+    <div class="yui-u first align_right">
+        &nbsp;
+    </div>
+    <div class="yui-u" style="text-align:justify;">
+        [%l('PASSWORD GAIN')%]
+        &nbsp;
+        [%l('PASSWORD PROCEED')%]
+    </div>
+    <div class="yui-u">
+        &nbsp;
+    </div>
+</div>
+
         [%- IF view.error.messages %]
         <p>
             <ul>
@@ -21,12 +38,40 @@
         </p>
         [% END %]
 
-        <label for="pwd_reset_username">[%l('Username')%]:</a></label>
-        <input type="text" id="pwd_reset_username" name="username" class="input_text" tabindex="1" size="40" />
-
-        <label for="pwd_reset_email">[%l('Email Address')%]:</a></label>
-        <input type="text" id="pwd_reset_email" name="email" class="input_text" tabindex="2" size="40" />
-
-        <button name="pwd_reset_submit" class="input_button" tabindex="3" />[%l('Reset My Password')%]</button>
+<form method="post" action="user/password/forgotten" name="password_reset_form">
+    <fieldset>
+        <div class="yui-gb top_padded">
+            <div class="yui-u first align_right">
+                <label for="pwd_reset_username">[%l('Username')%]:</a></label>
+            </div>
+            <div class="yui-u">
+                <input type="text" id="pwd_reset_username" name="username" class="input_text" tabindex="1" size="40" />
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
+        <div class="yui-gb top_padded">
+            <div class="yui-u first align_right">
+                <label for="pwd_reset_email">[%l('Email Address')%]:</a></label>
+            </div>
+            <div class="yui-u">
+                <input type="text" id="pwd_reset_email" name="email" class="input_text" tabindex="2" size="40" />
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
+        <div class="yui-gb top_padded">
+            <div class="yui-u first">
+                &nbsp;
+            </div>
+            <div class="yui-u">
+                <button name="pwd_reset_submit" class="input_button" tabindex="3" />[%l('Reset My Password')%]</button>
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
     </fieldset>
 </form>

Modified: trunk/root/static/css/parley.css
===================================================================
--- trunk/root/static/css/parley.css	2008-01-24 07:06:00 UTC (rev 758)
+++ trunk/root/static/css/parley.css	2008-01-28 23:32:48 UTC (rev 759)
@@ -131,6 +131,10 @@
 }
 
 /* style classes */
+.align_right {
+    text-align:         right;
+}
+
 .forum_description {
     font-size:          93%;
 }
@@ -441,6 +445,10 @@
     text-align:         left;
 }
 
+.top_padded {
+    margin-top:         10px;
+}
+
 .topic_creator {
     display:            block;
     font-size:          85%;



From chiselwright at mail.berlios.de  Tue Jan 29 00:33:08 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 29 Jan 2008 00:33:08 +0100
Subject: [Parley-svn] r760 - / trunk/root/base/user/lostpassword
Message-ID: <200801282333.m0SNX8DL001093@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-29 00:33:05 +0100 (Tue, 29 Jan 2008)
New Revision: 760

Modified:
   /
   trunk/root/base/user/lostpassword/lost_password_details_sent
Log:
 r4553 at wiggin:  chisel | 2008-01-24 19:21:58 +0000
 / tidied up UI for "details sent" in lost password process



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4552
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4553
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/user/lostpassword/lost_password_details_sent
===================================================================
--- trunk/root/base/user/lostpassword/lost_password_details_sent	2008-01-28 23:32:48 UTC (rev 759)
+++ trunk/root/base/user/lostpassword/lost_password_details_sent	2008-01-28 23:33:05 UTC (rev 760)
@@ -1 +1,11 @@
-<p>[%l('PASSWORD DETAILS SENT')%]</p>
+<div class="yui-gb top_padded">
+    <div class="yui-u first align_right">
+        &nbsp;
+    </div>
+    <div class="yui-u" style="text-align:justify;">
+        [%l('PASSWORD DETAILS SENT')%]
+    </div>
+    <div class="yui-u">
+        &nbsp;
+    </div>
+</div>



From chiselwright at mail.berlios.de  Tue Jan 29 00:33:19 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 29 Jan 2008 00:33:19 +0100
Subject: [Parley-svn] r761 - / trunk/root/base/user/lostpassword
Message-ID: <200801282333.m0SNXJ5C001809@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-29 00:33:17 +0100 (Tue, 29 Jan 2008)
New Revision: 761

Modified:
   /
   trunk/root/base/user/lostpassword/reset
Log:
 r4554 at wiggin:  chisel | 2008-01-24 19:29:47 +0000
 / more UI improvements for the lost password process



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4553
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4554
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/user/lostpassword/reset
===================================================================
--- trunk/root/base/user/lostpassword/reset	2008-01-28 23:33:05 UTC (rev 760)
+++ trunk/root/base/user/lostpassword/reset	2008-01-28 23:33:17 UTC (rev 761)
@@ -1,8 +1,17 @@
 <form action="user/password/reset/[% reset_uid %]" method="post" name="password_reset_form">
 
-[%l('PASSWORD RESET')%]
+<div class="yui-gb top_padded">
+    <div class="yui-u first align_right">
+        &nbsp;
+    </div>
+    <div class="yui-u" style="text-align:justify;">
+        [%l('PASSWORD RESET')%]
+    </div>
+    <div class="yui-u">
+        &nbsp;
+    </div>
+</div>
 
-    <fieldset>
         [%- IF view.error.messages %]
         <p>
             <ul>
@@ -13,26 +22,71 @@
         </p>
         [% END %]
 
-        <label>[%l('Name')%]:</label>
-        <input type="text" value="[% reset_user.first_name %] [% reset_user.last_name %]" tabindex="1" readonly="readonly" disabled="disabled" size="40" />
+    <fieldset>
+        <div class="yui-gb top_padded">
+            <div class="yui-u first align_right">
+                <label>[%l('Name')%]:</label>
+            </div>
+            <div class="yui-u">
+                <input type="text" value="[% reset_user.first_name %] [% reset_user.last_name %]" tabindex="1" readonly="readonly" disabled="disabled" size="40" />
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
 
-        <label for="reset_username">[%l('Username')%]:</label>
-        <input type="text" name="reset_username" id="reset_username" size="40" tabindex="2" />
+        <div class="yui-gb top_padded">
+            <div class="yui-u first align_right">
+                <label for="reset_username">[%l('Username')%]:</label>
+            </div>
+            <div class="yui-u">
+                <input type="text" name="reset_username" id="reset_username" size="40" tabindex="2" />
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
 
-        <label for="new_password">[%l('New Password')%]:</label>
-        <input type="password" name="new_password" id="new_password" size="40" tabindex="3" />
+        <div class="yui-gb top_padded">
+            <div class="yui-u first align_right">
+                <label for="new_password">[%l('New Password')%]:</label>
+            </div>
+            <div class="yui-u">
+                <input type="password" name="new_password" id="new_password" size="40" tabindex="3" />
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
 
-        <label for="confirm_password">[%l('Confirm Password')%]:</label>
-        <input type="password" name="confirm_password" id="confirm_password" size="40" tabindex="4" />
+        <div class="yui-gb top_padded">
+            <div class="yui-u first align_right">
+                <label for="confirm_password">[%l('Confirm Password')%]:</label>
+            </div>
+            <div class="yui-u">
+                <input type="password" name="confirm_password" id="confirm_password" size="40" tabindex="4" />
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
 
-        <br />
-        <button type="submit" class="input_button" tabindex="5" name="reset_password" />[%l('Reset My Password')%]</button>
-
+        <div class="yui-gb top_padded">
+            <div class="yui-u first">
+                &nbsp;
+            </div>
+            <div class="yui-u">
+                <button type="submit" class="input_button" tabindex="5" name="reset_password" />[%l('Reset My Password')%]</button>
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
     </fieldset>
 </form>
 
 <!-- put focus into the username field on the form above -->
-<script language="JavaScript">
+<script language="text/javascript">
     <!-- Begin
     document.forms['password_reset_form'].elements['reset_username'].focus();
     // End -->



From chiselwright at mail.berlios.de  Tue Jan 29 00:33:34 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 29 Jan 2008 00:33:34 +0100
Subject: [Parley-svn] r762 - / trunk/root/base/user/signup
Message-ID: <200801282333.m0SNXYBw002566@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-29 00:33:33 +0100 (Tue, 29 Jan 2008)
New Revision: 762

Modified:
   /
   trunk/root/base/user/signup/signup
Log:
 r4555 at wiggin:  chisel | 2008-01-24 21:16:52 +0000
 / improved layout for signup page



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4554
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4555
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/user/signup/signup
===================================================================
--- trunk/root/base/user/signup/signup	2008-01-28 23:33:17 UTC (rev 761)
+++ trunk/root/base/user/signup/signup	2008-01-28 23:33:33 UTC (rev 762)
@@ -9,127 +9,146 @@
     </ul>
 [% END %]
 
-<form action="user/signup" method="post" name="signup_form">
-    <table class="signup">
-		<tr>
-			<td colspan="2">
-                [%l('SIGNUP COMPLETE FORM')%] 
-			</td>
-		</tr>
+<form action="[%c.uri_for('user/signup')%]" method="post" name="signup_form">
+    <div>
+        [%l('SIGNUP COMPLETE FORM')%] 
+    </div>
 
-		[% IF messages %]
-		<tr>
-			<td colspan="2">
-				[%l('SIGNUP ERRORS')%]:<br />
-				<ul>
-                    <ul>
-                        [% FOREACH message IN messages %]
-                            <li>[% message %]</li>
-                        [% END %]
-                    </ul>
-				</ul>
-			</td>
-		</tr>
-		[% END %]
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="username">[%l('SIGNUP USERNAME')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="text" id="new_username" name="new_username" class="input_text" />
+            [% form_error.field_error_new_username %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
 
-		<tr>
-			<td width="20%">
-				<label for="username">[%l('SIGNUP USERNAME')%]:</label>
-			</td>
-			<td>
-				<input type="text" id="new_username" name="new_username" class="input_text" />
-				[% form_error.field_error_new_username %]
-			</td>
-		</tr>
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="password">[%l('SIGNUP PASSWORD')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="password" id="new_password" name="new_password" class="input_text" />
+            [% form_error.field_error_new_password %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
 
-		<tr>
-			<td>
-				<label for="password">[%l('SIGNUP PASSWORD')%]:</label>
-			</td>
-			<td>
-				<input type="password" id="new_password" name="new_password" class="input_text" />
-				[% form_error.field_error_new_password %]
-			</td>
-		</tr>
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="confirm_password">[%l('SIGNUP PASSWORD CONFIRM')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="password" id="confirm_password" name="confirm_password" class="input_text" />
+            [% form_error.field_error_confirm_password %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
 
-		<tr>
-			<td>
-				<label for="confirm_password">[%l('SIGNUP PASSWORD CONFIRM')%]:</label>
-			</td>
-			<td>
-				<input type="password" id="confirm_password" name="confirm_password" class="input_text" />
-				[% form_error.field_error_confirm_password %]
-			</td>
-		</tr>
+    <div class="yui-gd top_padded">
+        <div class="yui-u first">
+            &nbsp;
+        </div>
+        <div class="yui-u" style="text-align:justify;">
+            [%l('SIGNUP EMAIL USAGE')%] 
+        </div>
+    </div>
 
-		<tr>
-			<td colspan="2">
-                [%l('SIGNUP EMAIL USAGE')%] 
-			</td>
-		</tr>
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="email">[%l('SIGNUP EMAIL')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="text" id="email" name="email" size="40" class="input_text" />
+            [% form_error.field_error_email %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
 
-		<tr>
-			<td>
-				<label for="email">[%l('SIGNUP EMAIL')%]:</label>
-			</td>
-			<td>
-				<input type="text" id="email" name="email" size="40" class="input_text" />
-				[% form_error.field_error_email %]
-			</td>
-		</tr>
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="confirm_email">[%l('SIGNUP EMAIL CONFIRM')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="text" id="confirm_email" name="confirm_email" size="40" class="input_text" />
+            [% form_error.field_error_confirm_email %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
 
-		<tr>
-			<td>
-				<label for="confirm_email">[%l('SIGNUP EMAIL CONFIRM')%]:</label>
-			</td>
-			<td>
-				<input type="text" id="confirm_email" name="confirm_email" size="40" class="input_text" />
-				[% form_error.field_error_confirm_email %]
-			</td>
-		</tr>
+    <div style="background-color:#ccc;margin-top:5px;margin-bottom:5px;">
+        &nbsp;
+    </div>
 
-		<tr><td colspan="2"><hr /></td></tr>
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="first_name">[%l('First Name')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="text" id="first_name" name="first_name" size="40" class="input_text" />
+            [% form_error.field_error_first_name %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
 
-		<tr>
-			<td>
-				<label for="first_name">[%l('First Name')%]:</label>
-			</td>
-			<td>
-				<input type="text" id="first_name" name="first_name" size="40" class="input_text" />
-				[% form_error.field_error_first_name %]
-			</td>
-		</tr>
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="last_name">[%l('Last Name')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="text" id="last_name" name="last_name" size="40" class="input_text" />
+            [% form_error.field_error_last_name %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
 
-		<tr>
-			<td>
-				<label for="last_name">[%l('Last Name')%]:</label>
-			</td>
-			<td>
-				<input type="text" id="last_name" name="last_name" size="40" class="input_text" />
-				[% form_error.field_error_last_name %]
-			</td>
-		</tr>
-
-		<tr>
-			<td>
-				<label for="first_name">[%l('SIGNUP FORUMNAME')%]:</label>
-			</td>
-			<td>
-				<input type="text" id="forum_name" name="forum_name" size="40" class="input_text" />
-				[% form_error.field_error_forum_name %]
-			</td>
-		</tr>
-		<tr>
-            <td>&nbsp;</td>
-			<td style="text-align:justify;">
+    <div class="yui-gd top_padded">
+        <div class="yui-u first">
+            &nbsp;
+        </div>
+        <div class="yui-u" style="text-align:justify;">
             [%l('SIGNUP FORUMNAME DESCRIPTION')%] 
-			</td>
-		</tr>
+        </div>
+    </div>
 
-		<tr>
-			<td colspan="2" style="text-align:center;">
-				<input type="submit" name="form_submit" value="[%l('Register')%]" class="input_button" />
-			</td>
-		</tr>
-    </table>
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="forum_name">[%l('SIGNUP FORUMNAME')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="text" id="forum_name" name="forum_name" size="40" class="input_text" />
+            [% form_error.field_error_forum_name %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            &nbsp;
+        </div>
+        <div class="yui-u" style="text-align:center;">
+            <input type="submit" name="form_submit" value="[%l('Register')%]" class="input_button" />
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
 </form>



From chiselwright at mail.berlios.de  Wed Jan 30 13:12:37 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Wed, 30 Jan 2008 13:12:37 +0100
Subject: [Parley-svn] r763 - / trunk/lib trunk/lib/Parley/Controller
	trunk/lib/Template/Plugin trunk/t
Message-ID: <200801301212.m0UCCbAW015857@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-30 13:12:36 +0100 (Wed, 30 Jan 2008)
New Revision: 763

Modified:
   /
   trunk/lib/Parley.pm
   trunk/lib/Parley/Controller/Post.pm
   trunk/lib/Parley/Controller/User.pm
   trunk/lib/Template/Plugin/ForumCode.pm
   trunk/t/controller_Admin.t
   trunk/t/controller_Forum.t
   trunk/t/controller_Help.t
   trunk/t/controller_My.t
   trunk/t/controller_Post.t
   trunk/t/controller_Search.t
   trunk/t/controller_Site.t
   trunk/t/controller_Terms.t
   trunk/t/controller_User.t
Log:
 r4574 at wiggin:  chisel | 2008-01-30 08:55:25 +0000
 /



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4555
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4574
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley/Controller/Post.pm
===================================================================
--- trunk/lib/Parley/Controller/Post.pm	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/lib/Parley/Controller/Post.pm	2008-01-30 12:12:36 UTC (rev 763)
@@ -127,16 +127,16 @@
 sub preview : Local {
     my ($self, $c) = @_;
     my $tt_forum = Template::Plugin::ForumCode->new();
+    my $msg_source = $c->request->param('msg_source');
 
     my $json = objToJson(
         {
             'formatted' =>
                 $tt_forum->forumcode(
-                    $c->request->param('msg_source')
+                    $msg_source
                 )
         }
     );
-    #$c->log->debug( $json );
 
     $c->response->body( $json );
     return;

Modified: trunk/lib/Parley/Controller/User.pm
===================================================================
--- trunk/lib/Parley/Controller/User.pm	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/lib/Parley/Controller/User.pm	2008-01-30 12:12:36 UTC (rev 763)
@@ -71,6 +71,12 @@
 sub logout : Path('/user/logout') {
     my ($self, $c) = @_;
 
+    # if no-one logged in, send them to the main page as a punishment
+    if (not exists $c->session->{authed_user}) {
+        $c->response->redirect( $c->uri_for($c->config()->{default_uri}) );
+        return;
+    }
+
     # session logout, and remove information we've stashed
     $c->logout;
     delete $c->session->{'authed_user'};

Modified: trunk/lib/Parley.pm
===================================================================
--- trunk/lib/Parley.pm	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/lib/Parley.pm	2008-01-30 12:12:36 UTC (rev 763)
@@ -3,7 +3,7 @@
 use strict;
 use warnings;
 
-our $VERSION = '0.58_18';
+our $VERSION = '0.58_19';
 
 use Catalyst::Runtime '5.70';
 use Catalyst qw/

Modified: trunk/lib/Template/Plugin/ForumCode.pm
===================================================================
--- trunk/lib/Template/Plugin/ForumCode.pm	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/lib/Template/Plugin/ForumCode.pm	2008-01-30 12:12:36 UTC (rev 763)
@@ -30,6 +30,11 @@
 sub forumcode {
     my ($self, $text) = @_;
 
+    # if we don't have any text, we don't have to do any work
+    if (not defined $text) {
+        return q{};
+    }
+
     # first of all ESCAPE EVERYTHING!
     $text = Template::Plugin::HTML->escape($text);
 

Modified: trunk/t/controller_Admin.t
===================================================================
--- trunk/t/controller_Admin.t	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/t/controller_Admin.t	2008-01-30 12:12:36 UTC (rev 763)
@@ -6,5 +6,3 @@
 BEGIN { use_ok 'Parley::Controller::Admin' }
 
 #ok( request('/admin/')->is_success, 'Request should succeed' );
-
-

Modified: trunk/t/controller_Forum.t
===================================================================
--- trunk/t/controller_Forum.t	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/t/controller_Forum.t	2008-01-30 12:12:36 UTC (rev 763)
@@ -7,4 +7,3 @@
 
 ok( request('/forum/list')->is_success, 'forum/list exists' );
 ok( request('/forum/view')->is_success, 'forum/view exists' );
-

Modified: trunk/t/controller_Help.t
===================================================================
--- trunk/t/controller_Help.t	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/t/controller_Help.t	2008-01-30 12:12:36 UTC (rev 763)
@@ -10,4 +10,3 @@
 
 # this should show the help contents
 ok( request('/help/faq')->is_success, 'FAQ page found' );
-

Modified: trunk/t/controller_My.t
===================================================================
--- trunk/t/controller_My.t	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/t/controller_My.t	2008-01-30 12:12:36 UTC (rev 763)
@@ -6,5 +6,3 @@
 BEGIN { use_ok 'Parley::Controller::My' }
 
 ok( request('/my')->is_success, 'Request should succeed' );
-
-

Modified: trunk/t/controller_Post.t
===================================================================
--- trunk/t/controller_Post.t	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/t/controller_Post.t	2008-01-30 12:12:36 UTC (rev 763)
@@ -1,10 +1,10 @@
 use strict;
 use warnings;
-use Test::More tests => 3;
+use Test::More tests => 5;
 
 BEGIN { use_ok 'Catalyst::Test', 'Parley' }
 BEGIN { use_ok 'Parley::Controller::Post' }
 
 ok( request('/post/edit')->is_success, 'post/edit exists' );
-
-
+ok( request('/post/view')->is_success, 'post/view exists' );
+ok( request('/post/preview')->is_success, 'post/preview exists' );

Modified: trunk/t/controller_Search.t
===================================================================
--- trunk/t/controller_Search.t	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/t/controller_Search.t	2008-01-30 12:12:36 UTC (rev 763)
@@ -1,10 +1,9 @@
 use strict;
 use warnings;
-use Test::More tests => 3;
+use Test::More tests => 4;
 
 BEGIN { use_ok 'Catalyst::Test', 'Parley' }
 BEGIN { use_ok 'Parley::Controller::Search' }
 
-ok( request('/search')->is_success, 'Request should succeed' );
-
-
+ok( request('/search')->is_success, '/search exists' );
+ok( request('/search/forum')->is_success, '/search/forum exists' );

Modified: trunk/t/controller_Site.t
===================================================================
--- trunk/t/controller_Site.t	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/t/controller_Site.t	2008-01-30 12:12:36 UTC (rev 763)
@@ -6,5 +6,3 @@
 BEGIN { use_ok 'Parley::Controller::Site' }
 
 #ok( request('/site')->is_success, 'Request should succeed' );
-
-

Modified: trunk/t/controller_Terms.t
===================================================================
--- trunk/t/controller_Terms.t	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/t/controller_Terms.t	2008-01-30 12:12:36 UTC (rev 763)
@@ -1,9 +1,10 @@
 use strict;
 use warnings;
-use Test::More tests => 3;
+use Test::More tests => 5;
 
 BEGIN { use_ok 'Catalyst::Test', 'Parley' }
 BEGIN { use_ok 'Parley::Controller::Terms' }
 
 ok( request('/terms')->is_success, 'Terms are viewable' );
-
+ok( request('/terms/accept')->is_success, 'terms/accept exists' );
+ok( request('/terms/add')->is_success, 'terms/add exists' );

Modified: trunk/t/controller_User.t
===================================================================
--- trunk/t/controller_User.t	2008-01-28 23:33:33 UTC (rev 762)
+++ trunk/t/controller_User.t	2008-01-30 12:12:36 UTC (rev 763)
@@ -1,10 +1,10 @@
 use strict;
 use warnings;
-use Test::More tests => 2;
+use Test::More tests => 4;
 
 BEGIN { use_ok 'Catalyst::Test', 'Parley' }
 BEGIN { use_ok 'Parley::Controller::User' }
 
-#ok( request('/user')->is_success, 'Request should succeed' );
-
-
+ok( request('/user/login')      ->is_success,   'user/login exists'     );
+#ok( request('/user/logout')     ->is_success,   'user/logout exists'    );
+ok( request('/user/profile')    ->is_success,   'user/profile exists'   );



From chiselwright at mail.berlios.de  Thu Jan 31 10:55:52 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 31 Jan 2008 10:55:52 +0100
Subject: [Parley-svn] r764 - / trunk/lib/Parley/ResultSet trunk/t
	trunk/t/schema
Message-ID: <200801310955.m0V9tqHv020605@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-31 10:55:52 +0100 (Thu, 31 Jan 2008)
New Revision: 764

Added:
   trunk/t/model_Post.t
Modified:
   /
   trunk/lib/Parley/ResultSet/Post.pm
   trunk/t/schema/post.t
Log:
 r4578 at wiggin:  chisel | 2008-01-31 08:23:09 +0000
 + added people_posting_from_ip() method



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4574
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4578
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley/ResultSet/Post.pm
===================================================================
--- trunk/lib/Parley/ResultSet/Post.pm	2008-01-30 12:12:36 UTC (rev 763)
+++ trunk/lib/Parley/ResultSet/Post.pm	2008-01-31 09:55:52 UTC (rev 764)
@@ -5,6 +5,29 @@
 
 use base 'DBIx::Class::ResultSet';
 
+sub people_posting_from_ip {
+    my ($resultsource, $ip_addr) = @_;
+    my ($rs);
+
+    $rs = $resultsource->search(
+        {
+            ip_addr     => $ip_addr,
+        },
+        {
+            select => [
+                { distinct => 'creator_id' },
+            ],
+            as => [ 'foobar' ],
+
+            prefetch => [
+                'creator',
+            ],
+        }
+    );
+
+    return $rs;
+}
+
 # we used to use ->slice() but it sopped working on page #2 (!!)
 # this may be slower [not benchmarked] but it works
 sub last_post_in_list {

Added: trunk/t/model_Post.t
===================================================================
--- trunk/t/model_Post.t	2008-01-30 12:12:36 UTC (rev 763)
+++ trunk/t/model_Post.t	2008-01-31 09:55:52 UTC (rev 764)
@@ -0,0 +1,28 @@
+use strict;
+use warnings;
+use Test::More tests => 4;
+
+BEGIN { use_ok 'Parley::Schema' }
+
+my ($schema, $resultset, $rs);
+
+# get a schema to query
+$schema = Parley::Schema->connect(
+    'dbi:Pg:dbname=parley'
+);
+isa_ok($schema, 'Parley::Schema');
+
+# grab the Post resultset
+$resultset = $schema->resultset('Post');
+isa_ok($resultset, 'Parley::ResultSet::Post');
+
+# test the "who posted from XXX ip" resultset method
+$rs = $resultset->people_posting_from_ip('127.0.0.1');
+isa_ok($rs, 'Parley::ResultSet::Post');
+
+my %creator_id;
+while (my $record = $rs->next) {
+    diag $record->creator->forum_name;
+}
+
+diag $rs->count;

Modified: trunk/t/schema/post.t
===================================================================
--- trunk/t/schema/post.t	2008-01-30 12:12:36 UTC (rev 763)
+++ trunk/t/schema/post.t	2008-01-31 09:55:52 UTC (rev 764)
@@ -56,6 +56,7 @@
 
         resultsets => [
             qw[
+                people_posting_from_ip
                 last_post_in_list
                 next_post
                 page_containing_post



From chiselwright at mail.berlios.de  Thu Jan 31 10:56:00 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 31 Jan 2008 10:56:00 +0100
Subject: [Parley-svn] r765 - / trunk
Message-ID: <200801310956.m0V9u07q020703@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-31 10:55:59 +0100 (Thu, 31 Jan 2008)
New Revision: 765

Added:
   trunk/ROADMAP
Modified:
   /
   trunk/MANIFEST
   trunk/TODO
Log:
 r4579 at wiggin:  chisel | 2008-01-31 08:50:27 +0000
 + added ROADMAP
 / updated TODO
 / updated MANIFEST



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4578
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4579
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/MANIFEST
===================================================================
--- trunk/MANIFEST	2008-01-31 09:55:52 UTC (rev 764)
+++ trunk/MANIFEST	2008-01-31 09:55:59 UTC (rev 765)
@@ -85,6 +85,7 @@
 META.yml
 parley.yml
 README
+ROADMAP
 root/base/about/modules
 root/base/error/simple
 root/base/footer
@@ -747,6 +748,7 @@
 t/mechanize/01.main_page.t
 t/mechanize/02.forum.t
 t/model_ParleyDB.t
+t/model_Post.t
 t/schema/authentication.t
 t/schema/email_queue.t
 t/schema/forum.t

Added: trunk/ROADMAP
===================================================================
--- trunk/ROADMAP	2008-01-31 09:55:52 UTC (rev 764)
+++ trunk/ROADMAP	2008-01-31 09:55:59 UTC (rev 765)
@@ -0,0 +1,35 @@
+This is a rough map of the direction things will be taking for Parley over the
+next few releases. A more detailed, but less organised, list of features in
+the pipeline can be found in the TODO file.
+
+This isn't set in stone - the roadmap can be swayed by valid, sensible
+reasoning from interested parties.
+
+
+0.59 (Feb 2008):
+
+    - UI improvements and cleanup
+    - DBIC ResultSetManager deprecation
+    - DBIC prefetch (DB optimisation)
+
+0.60:
+
+    - admin/moderator support (deal with bad people)
+        - edit posts (and flag accordingly)
+        - abuse handling (suspend accounts, ban-by-ip, ...)
+        - IP reporting
+
+0.61:
+
+    - advanced search
+
+0.62:
+
+    - admin: add/edit/order forums
+
+0.63:
+
+    - user prefs:
+        - language preference
+        - password management
+        - resend auth mail(s)

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-01-31 09:55:52 UTC (rev 764)
+++ trunk/TODO	2008-01-31 09:55:59 UTC (rev 765)
@@ -4,17 +4,18 @@
   - investigate in-application language preference/choice
   - styling: user prefs
   - styling: user profile
-  - [bug] fix email notification for thread notification emails
   - write some sensible T&Cs
   - update avatar update response to force a No-Cache?
-  - application logo
   - advanced search page
   - proper moderator support/management
      - forum creation
      - abuse handling
      - post editing (other users)
-  - IP/user reporting
+     - IP/user reporting
   - voting?
+  - 'smileys'?
+D - [bug] fix email notification for thread notification emails
+D - application logo
 D - styling: thread/reply
 D - styling: post/edit
 D - styling: user/login



From chiselwright at mail.berlios.de  Thu Jan 31 21:17:47 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 31 Jan 2008 21:17:47 +0100
Subject: [Parley-svn] r766 - / trunk/root/static/css
Message-ID: <200801312017.m0VKHlhY001694@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-31 21:17:47 +0100 (Thu, 31 Jan 2008)
New Revision: 766

Modified:
   /
   trunk/root/static/css/parley.css
Log:
 r4582 at wiggin:  chisel | 2008-01-31 19:27:32 +0000
 / add CSS styles to sking the "Mr Prefs" tabview; no more blue!



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4579
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4582
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/static/css/parley.css
===================================================================
--- trunk/root/static/css/parley.css	2008-01-31 09:55:59 UTC (rev 765)
+++ trunk/root/static/css/parley.css	2008-01-31 20:17:47 UTC (rev 766)
@@ -561,3 +561,43 @@
 }
 
 
+/* YUI CSS overrides */
+
+/* tabview (user prefs) */
+
+/* .yui-navset defaults to .yui-navset-top */ 
+.yui-skin-sam .yui-navset .yui-nav, 
+.yui-skin-sam .yui-navset .yui-navset-top .yui-nav { /* protect nested tabviews from other orientations */ 
+    border:solid #000; /* color between tab list and content */ 
+    border-width:0 0 5px; 
+    Xposition:relative; 
+    zoom:1; 
+}
+
+.yui-skin-sam .yui-navset .yui-content { 
+    background:transparent; /* content background color */ 
+}
+
+.yui-skin-sam .yui-navset .yui-nav a, 
+.yui-skin-sam .yui-navset .yui-navset-top .yui-nav a { 
+    background-color:   #333;
+    border:             solid #a3a3a3; 
+    border-width:       0 1px; 
+    color:              #ccc;
+    text-decoration:    none; 
+}
+
+
+.yui-skin-sam .yui-navset .yui-nav .selected a, 
+.yui-skin-sam .yui-navset .yui-nav .selected a:focus, /* no focus effect for selected */ 
+.yui-skin-sam .yui-navset .yui-nav .selected a:hover { /* no hover effect for selected */ 
+    background:#000;
+    color:#fff;
+}
+
+.yui-skin-sam .yui-navset .yui-nav a:hover, 
+.yui-skin-sam .yui-navset .yui-nav a:focus { 
+    background: #666;
+    color: black;
+    outline:0; 
+}



From chiselwright at mail.berlios.de  Thu Jan 31 21:17:55 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 31 Jan 2008 21:17:55 +0100
Subject: [Parley-svn] r767 - / trunk/root/base/my
Message-ID: <200801312017.m0VKHtwe001772@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-31 21:17:54 +0100 (Thu, 31 Jan 2008)
New Revision: 767

Modified:
   /
   trunk/root/base/my/tab_you
Log:
 r4583 at wiggin:  chisel | 2008-01-31 19:28:15 +0000
 / reworked layout for "you" tab; replace table with yui-grid



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4582
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4583
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/my/tab_you
===================================================================
--- trunk/root/base/my/tab_you	2008-01-31 20:17:47 UTC (rev 766)
+++ trunk/root/base/my/tab_you	2008-01-31 20:17:54 UTC (rev 767)
@@ -1,48 +1,49 @@
 <!-- preferences : tab_you -->
+<div class="yui-gd top_padded">
+    <div class="yui-u first align_right">
+        &nbsp;
+    </div>
+    <div id="result" class="yui-u">
+        &nbsp;
+    </div>
+</div>
 
-<div id="result">&nbsp;</div>
+<div class="yui-gd top_padded">
+    <div class="yui-u first align_right">
+        [%l('First Name')%]:
+    </div>
+    <div class="yui-u">
+        <span id="FirstName" name="First name" class="editable">[%authed_user.first_name%]</span>
+    </div>
+</div>
 
-<table class="user_profile">
-    <tbody>
-        <tr>
-            <td width="25%">
-                [%l('First Name')%]:
-            </td>
+<div class="yui-gd top_padded">
+    <div class="yui-u first align_right">
+        [%l('Last Name')%]:
+    </div>
+    <div class="yui-u">
+        <span id="LastName" class="editable">[% authed_user.last_name %]</span>
+    </div>
+</div>
 
-            <td id="FirstName" name="First name" class="editable">[%authed_user.first_name%]</td>
-        </tr>
+<div class="yui-gd top_padded">
+    <div class="yui-u first align_right">
+        [%l('Forum Name')%]:
+    </div>
+    <div class="yui-u">
+        <span id="ForumName" class="editable">[% authed_user.forum_name %]</span>
+    </div>
+</div>
 
-        <tr>
-            <td width="25%">
-                [%l('Last Name')%]:
-            </td>
+<div class="yui-gd top_padded">
+    <div class="yui-u first align_right">
+        [%l('Email Address')%]:
+    </div>
+    <div class="yui-u">
+        <span id="EmailAddress" name="EmailAddress">[% authed_user.email %]</span>
+    </div>
+</div>
 
-            <td id="LastName" class="editable">[% authed_user.last_name %]</td>
-        </tr>
-
-        <tr>
-            <td width="25%">
-                [%l('Forum Name')%]:
-            </td>
-
-            <td id="ForumName" class="editable">[% authed_user.forum_name %]</td>
-        </tr>
-
-        <tr>
-            <td width="25%">
-                [%l('Email Address')%]:
-            </td>
-
-            <td>
-                <div id="EmailAddress" name="EmailAddress">
-                [% authed_user.email %]
-                </div>
-            </td>
-        </tr>
-    </tbody>
-</table>
-<!-- (end) preferences : tab_you -->
-
 <script type="text/javascript" src="[%c.request.base%]/static/Editable.js"></script>
 <script type="text/javascript">
     var E  = new YAHOO.widget.EditableElement;
@@ -94,3 +95,4 @@
 
     E.init();
 </script>
+<!-- (end) preferences : tab_you -->



From chiselwright at mail.berlios.de  Thu Jan 31 21:18:03 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 31 Jan 2008 21:18:03 +0100
Subject: [Parley-svn] r768 - / trunk/root/base/my
Message-ID: <200801312018.m0VKI3lk001843@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-31 21:18:03 +0100 (Thu, 31 Jan 2008)
New Revision: 768

Modified:
   /
   trunk/root/base/my/tab_time
Log:
 r4584 at wiggin:  chisel | 2008-01-31 19:44:12 +0000
 / replaced table with yui-grid



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4583
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4584
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/my/tab_time
===================================================================
--- trunk/root/base/my/tab_time	2008-01-31 20:17:54 UTC (rev 767)
+++ trunk/root/base/my/tab_time	2008-01-31 20:18:03 UTC (rev 768)
@@ -1,65 +1,89 @@
 <!-- preferences : time tab -->
-<p>[%l('PREFS DESIRED LOCATION')%]</p>
 
+    <div style="background-color:#ccc;margin-top:5px;margin-bottom:5px;">
+        &nbsp;
+    </div>
+<div class="top_padded">
+    [%l('PREFS DESIRED LOCATION')%]
+</div>
+
+    <div style="background-color:#ccc;margin-top:5px;margin-bottom:5px;">
+        &nbsp;
+    </div>
+
 <form action="my/preferences/update" method="POST" name="time_format">
     <input type="hidden" name="form_name" value="time_format">
-    <table width="550" border="1">
-        [% IF tz_message %]
-        <!-- Message to user -->
-        <tr>
-        <td colspan="2"><b><i>[% tz_message %]</i></b></td>
-        </tr>
-        [% END %]
 
-        <!-- TZ category list -->
-        <tr>
-            <td>
-                <select id="selectZone" name="selectZone">
-                    <option value="">[ [%l('Select Zone')%] ]</option>
-                    [% FOREACH item=tz_categories %]
-                    <option value="[% item %]">[% item %]</option>
-                    [% END %]
-                </select>
-            </td>
+    [% IF tz_message %]
+    <!-- Message to user -->
+    <div>
+        <b><i>[% tz_message %]</i></b>
+    </div>
+    [% END %]
 
-            <td class="right_align" />
-                <label for="use_utc">[%l('Use UTC')%]</label>
-                <input type="checkbox" id="use_utc" name="use_utc" value="1" onChange="toggle_timezone_menus(this)"/>
-            </td>
-        </tr>
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <select id="selectZone" name="selectZone">
+                <option value="">[ [%l('Select Zone')%] ]</option>
+                [% FOREACH item=tz_categories %]
+                <option value="[% item %]">[% item %]</option>
+                [% END %]
+            </select>
+        </div>
+        <div class="yui-u align_right">
+            <label for="use_utc">[%l('Use UTC')%]</label>
+            <input type="checkbox" id="use_utc" name="use_utc" value="1" onChange="toggle_timezone_menus(this)"/>
+        </div>
+        <div class="yui-u align_right">
+            &nbsp;
+        </div>
+    </div>
 
-        <!-- Time Format List -->
-        <tr>
-            <td>
-                <select id="time_format" name="time_format" style="text-align: center;">
-                    <option value="">([%l('Default')%])</option>
-                    [% WHILE (tf = time_formats.next) %]
-                    <option value="[% tf.id %]">[% tf.sample %]</option>
-                    [% END %]
-                </select>
-            </td>
-            <td class="right_align">
-                <label for="show_tz">[%l('Show timezone')%]</label>
-                <input type="checkbox" id="show_tz" name="show_tz" value="1" />
-            </td>
-        </tr>
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <select id="time_format" name="time_format" style="text-align: center;">
+                <option value="">([%l('Default')%])</option>
+                [% WHILE (tf = time_formats.next) %]
+                <option value="[% tf.id %]">[% tf.sample %]</option>
+                [% END %]
+            </select>
+        </div>
+        <div class="yui-u align_right">
+            <label for="show_tz">[%l('Show timezone')%]</label>
+            <input type="checkbox" id="show_tz" name="show_tz" value="1" />
+        </div>
+        <div class="yui-u align_right">
+            &nbsp;
+        </div>
+    </div>
 
-        <!-- <tr><td colspan="2">&nbsp;</td></tr> -->
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            [%l('Time formatting example')%]:
+        </div>
+        <div class="yui-u align_right">
+            <i>[% nicedate(current_time) %]</i>
+        </div>
+        <div class="yui-u align_right">
+            &nbsp;
+        </div>
+    </div>
 
-        <tr>
-            <td>[%l('Time formatting example')%]:</td>
-            <td><i>[% nicedate(current_time) %]</i></td>
-        </tr>
+    <div style="background-color:#ccc;margin-top:5px;margin-bottom:5px;">
+        &nbsp;
+    </div>
 
-        <tr><td colspan="2">&nbsp;</td></tr>
-
-
-        <tr>
-            <td colspan="2" style="text-align: center;">
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            &nbsp;
+        </div>
+        <div class="yui-u">
             <input type="submit" value="[%l('Update')%]" name="update" class="input_button" />
-            </td>
-        </tr>
-    </table>
+        </div>
+        <div class="yui-u align_right">
+            &nbsp;
+        </div>
+    </div>
 </form>
 
 <script language="JavaScript" type="text/javascript">



From chiselwright at mail.berlios.de  Thu Jan 31 21:18:28 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 31 Jan 2008 21:18:28 +0100
Subject: [Parley-svn] r769 - / trunk
Message-ID: <200801312018.m0VKISc1001929@sheep.berlios.de>

Author: chiselwright
Date: 2008-01-31 21:18:28 +0100 (Thu, 31 Jan 2008)
New Revision: 769

Modified:
   /
   trunk/ROADMAP
   trunk/TODO
Log:
 r4588 at wiggin:  chisel | 2008-01-31 20:18:21 +0000
 Admin updates



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4584
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4588
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/ROADMAP
===================================================================
--- trunk/ROADMAP	2008-01-31 20:18:03 UTC (rev 768)
+++ trunk/ROADMAP	2008-01-31 20:18:28 UTC (rev 769)
@@ -33,3 +33,4 @@
         - language preference
         - password management
         - resend auth mail(s)
+        - realtime time-format example update

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-01-31 20:18:03 UTC (rev 768)
+++ trunk/TODO	2008-01-31 20:18:28 UTC (rev 769)
@@ -14,6 +14,8 @@
      - IP/user reporting
   - voting?
   - 'smileys'?
+  - realtime time-format example update (my/prefs - tab_time)
+  - timezone menu usability
 D - [bug] fix email notification for thread notification emails
 D - application logo
 D - styling: thread/reply



