<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Parley-svn] r816 - / trunk/root/static
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/parley-svn/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:parley-svn%40lists.berlios.de?Subject=Re%3A%20%5BParley-svn%5D%20r816%20-%20/%20trunk/root/static&In-Reply-To=%3C200802272254.m1RMsiD3025222%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000703.html">
   <LINK REL="Next"  HREF="000705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Parley-svn] r816 - / trunk/root/static</H1>
    <B>chiselwright at BerliOS</B> 
    <A HREF="mailto:parley-svn%40lists.berlios.de?Subject=Re%3A%20%5BParley-svn%5D%20r816%20-%20/%20trunk/root/static&In-Reply-To=%3C200802272254.m1RMsiD3025222%40sheep.berlios.de%3E"
       TITLE="[Parley-svn] r816 - / trunk/root/static">chiselwright at mail.berlios.de
       </A><BR>
    <I>Wed Feb 27 23:54:44 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000703.html">[Parley-svn] r815 - / trunk trunk/lib/Parley
</A></li>
        <LI>Next message: <A HREF="000705.html">[Parley-svn] r817 - / trunk/root/base/my trunk/root/base/post	trunk/root/base/site trunk/root/base/thread trunk/root/static/css
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#704">[ date ]</a>
              <a href="thread.html#704">[ thread ]</a>
              <a href="subject.html#704">[ subject ]</a>
              <a href="author.html#704">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: chiselwright
Date: 2008-02-27 23:54:43 +0100 (Wed, 27 Feb 2008)
New Revision: 816

Added:
   trunk/root/static/Editable-min.js
   trunk/root/static/MessagePreview-min.js
Modified:
   /
Log:
 <A HREF="https://lists.berlios.de/mailman/listinfo/parley-svn">r4713 at wiggin</A>:  chisel | 2008-02-27 22:35:37 +0000
 / used YUI Compressor on JS files



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4706
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:4713
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: trunk/root/static/Editable-min.js
===================================================================
--- trunk/root/static/Editable-min.js	2008-02-27 09:46:16 UTC (rev 815)
+++ trunk/root/static/Editable-min.js	2008-02-27 22:54:43 UTC (rev 816)
@@ -0,0 +1 @@
+(function(){YAHOO.widget.EditableElement=function(){var Dom=YAHOO.util.Dom,YU=YAHOO.util;this.config={class_name:&quot;editable&quot;,trigger:&quot;click&quot;,input_type:&quot;text&quot;,save_on_enter:true,clear_on_escape:true,linebreak:false,save_button:true,cancel_button:true,textarea_rows:6,textarea_cols:50};this.clicked=undefined;this.contents=undefined;this.input=undefined;this.init=function(){_items=Dom.getElementsByClassName(this.config.class_name);if(_items.length&gt;0){for(i=0;i&lt;_items.length;i++){this.elID=YU.Dom.generateId(_items[i]);YU.Event.addListener(_items[i],this.config.trigger,this.triggered,this,true);if(this.config.save_on_enter||this.config.clear_on_escape){var status=YU.Event.addListener(_items[i],&quot;keyup&quot;,this.onKeyUp,this,true)}}}};this._max=function(x,y){if(x&gt;y){return x}return y};this.step_up=function(el){if(el){var tmpEl=el;while(tmpEl.className!=this.config.class_name){tmpEl=tmpEl.parentNode}if(tmpEl){el=tmpEl}}return el};this.triggered=function(ev){if(!this.check()){return }thi!
 s.clicked=YU.Event.getTarget(ev);this.clicked=this.step_up(this.clicked);this.contents=this.clicked.innerHTML;this.create_input_field()};this.onKeyUp=function(p_oEvent){var keyCode=YU.Event.getCharCode(p_oEvent);switch(keyCode){case 13:if(this.config.save_on_enter){this.check(p_oEvent)}break;case 27:if(this.config.save_on_enter){this.reset_input_field()}break;default:break}};this.create_input_field=function(){this.input=YU.Dom.generateId();if(this.config.input_type==&quot;text&quot;){new_input=document.createElement(&quot;input&quot;);min_size=this._max(this.contents.length,this.config.min_size);with(new_input){setAttribute(&quot;type&quot;,&quot;text&quot;);setAttribute(&quot;id&quot;,this.input);value=this.contents;setAttribute(&quot;size&quot;,min_size);className=&quot;editable_input&quot;}}else{if(this.config.input_type==&quot;textarea&quot;){new_input=document.createElement(&quot;textarea&quot;);with(new_input){setAttribute(&quot;id&quot;,this.input);value=this.contents;className=&quot;editable_input&quot;;setAttribute(&quot;rows&quot;,this.config.textarea_rows);setAttribute(&quot;cols&quot;,this!
 .config.textarea_cols)}}}this.clicked.innerHTML=&quot;&quot;;this.clicke!
 d.append
Child(new_input);if(this.config.linebreak){newline=document.createElement(&quot;br&quot;);this.clicked.appendChild(newline)}if(this.config.save_button){this.create_save_button()}if(this.config.cancel_button){this.create_cancel_button()}new_input.select()};this.create_save_button=function(){this.save_input=YU.Dom.generateId();new_save_input=document.createElement(&quot;input&quot;);with(new_save_input){setAttribute(&quot;type&quot;,&quot;button&quot;);setAttribute(&quot;id&quot;,this.save_input);value=&quot;Save&quot;;className=&quot;editable_input&quot;}this.clicked.appendChild(new_save_input);YU.Event.addListener(new_save_input,&quot;click&quot;,this.check,this,true)};this.create_cancel_button=function(){this.cancel_input=YU.Dom.generateId();new_cancel_input=document.createElement(&quot;input&quot;);with(new_cancel_input){setAttribute(&quot;type&quot;,&quot;button&quot;);setAttribute(&quot;id&quot;,this.cancel_input);value=&quot;Cancel&quot;;className=&quot;editable_input&quot;}this.clicked.appendChild(new_cancel_input);YU.Event.addListener(new_cancel_input,&quot;click&quot;,this.reset_input_field,this,true)};this.reset_!
 input_field=function(){this.clicked.innerHTML=this.contents;this.clicked=undefined;this.contents=undefined;this.input=undefined};this.clear_input=function(){if(this.input){var input_value=YU.Dom.get(this.input).value;if(input_value.length&gt;0){this.clean_input();this.contents_new=input_value}else{this.contents_new=&quot;[removed]&quot;}this.clicked.innerHTML=this.contents_new;if(this.contents_new!=this.contents){var el=this.step_up(this.clicked);this.callback(el)}}this.clicked=undefined;this.contents=undefined;this.input=undefined};this.clean_input=function(){checkText=new String(YU.Dom.get(this.input).value);regEx1=/\&quot;/g;checkText=String(checkText.replace(regEx1,&quot;&quot;));YU.Dom.get(this.input).value=checkText};this.check=function(ev){if(!ev){if(this.clicked==undefined){return true}return false}if(this.clicked){clicked=YU.Event.getTarget(ev);this.clear_input();return true}};this.callback=function(){alert(&quot;default callback() called&quot;)}}})();
\ No newline at end of file

Added: trunk/root/static/MessagePreview-min.js
===================================================================
--- trunk/root/static/MessagePreview-min.js	2008-02-27 09:46:16 UTC (rev 815)
+++ trunk/root/static/MessagePreview-min.js	2008-02-27 22:54:43 UTC (rev 816)
@@ -0,0 +1 @@
+(function(){ParleyMessagePreview=function(){var Dom=YAHOO.util.Dom,YU=YAHOO.util;this.config={trigger:&quot;message_preview&quot;,user_input:&quot;thread_message&quot;,container:&quot;message_container&quot;,trigger_evt:&quot;click&quot;,post_url:&quot;post/preview&quot;,label_edit:&quot;Edit&quot;,label_preview:&quot;Preview&quot;};this.message_source=false;this.message_preview=false;this.handleSuccess=function(o){var data=eval(&quot;(&quot;+o.responseText+&quot;)&quot;);var obj=o.argument.obj;if(data.formatted){obj.previewElId=YU.Dom.generateId();obj.user_input.style.visibility=&quot;hidden&quot;;var pWidth=obj.user_input.clientWidth,pHeight=obj.user_input.clientHeight,pLeft=obj.user_input.offsetLeft,pTop=obj.user_input.offsetTop;obj.preview_overlay=new YAHOO.widget.Overlay(&quot;preview_overlay&quot;,{context:[obj.config.user_input,&quot;tl&quot;,&quot;tl&quot;],visible:true,width:obj.user_input.clientWidth+&quot;px&quot;,height:obj.user_input.clientHeight+&quot;px&quot;});obj.preview_overlay.setBody(data.formatted);obj.preview_overlay.render(document.body);Dom.get(&quot;preview_overlay&quot;).style.overflow=&quot;auto&quot;;obj.trigger.!
 value=obj.config.label_edit;YU.Event.removeListener(obj.trigger,&quot;click&quot;);YU.Event.addListener(obj.trigger,obj.config.trigger_evt,obj.edit,obj,true)}};this.handleFailure=function(o){console.log(&quot;failure&quot;)};this.edit=function(){this.trigger.value=this.config.label_preview;this.user_input.style.visibility=&quot;visible&quot;;this.preview_overlay.destroy();YU.Event.removeListener(this.trigger,&quot;click&quot;);YU.Event.addListener(this.trigger,this.config.trigger_evt,this.preview,this,true)};this.preview=function(){var request=YU.Connect.asyncRequest(&quot;POST&quot;,this.config.post_url,{success:this.handleSuccess,failure:this.handleFailure,argument:{obj:this}},&quot;msg_source=&quot;+escape(this.user_input.value))};this.init=function(){this.container=Dom.get(this.config.container);this.user_input=Dom.get(this.config.user_input);this.trigger=Dom.get(this.config.trigger);YU.Event.addListener(this.trigger,this.config.trigger_evt,this.preview,this,true)}}})();
\ No newline at end of file


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000703.html">[Parley-svn] r815 - / trunk trunk/lib/Parley
</A></li>
	<LI>Next message: <A HREF="000705.html">[Parley-svn] r817 - / trunk/root/base/my trunk/root/base/post	trunk/root/base/site trunk/root/base/thread trunk/root/static/css
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#704">[ date ]</a>
              <a href="thread.html#704">[ thread ]</a>
              <a href="subject.html#704">[ subject ]</a>
              <a href="author.html#704">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/parley-svn">More information about the Parley-svn
mailing list</a><br>
</body></html>
