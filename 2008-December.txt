From chiselwright at mail.berlios.de  Thu Dec 11 00:34:16 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 11 Dec 2008 00:34:16 +0100
Subject: [Parley-svn] r963 - / trunk trunk/t trunk/t_aggregate_controllers
Message-ID: <200812102334.mBANYGUL032266@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-11 00:34:15 +0100 (Thu, 11 Dec 2008)
New Revision: 963

Added:
   trunk/t/06.aggregate.controller.t
   trunk/t_aggregate_controllers/
   trunk/t_aggregate_controllers/controller_Admin.t
   trunk/t_aggregate_controllers/controller_Forum.t
   trunk/t_aggregate_controllers/controller_Help.t
   trunk/t_aggregate_controllers/controller_My.t
   trunk/t_aggregate_controllers/controller_Post.t
   trunk/t_aggregate_controllers/controller_Search.t
   trunk/t_aggregate_controllers/controller_Site.t
   trunk/t_aggregate_controllers/controller_Terms.t
   trunk/t_aggregate_controllers/controller_Thread.t
   trunk/t_aggregate_controllers/controller_User.t
Removed:
   trunk/t/controller_Admin.t
   trunk/t/controller_Forum.t
   trunk/t/controller_Help.t
   trunk/t/controller_My.t
   trunk/t/controller_Post.t
   trunk/t/controller_Search.t
   trunk/t/controller_Site.t
   trunk/t/controller_Terms.t
   trunk/t/controller_Thread.t
   trunk/t/controller_User.t
Modified:
   /
Log:
 r8593 at wiggin:  chisel | 2008-12-10 20:40:52 +0000
 / aggregate controller tests



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8332
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8593
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: trunk/t/06.aggregate.controller.t
===================================================================
--- trunk/t/06.aggregate.controller.t	2008-10-21 22:44:21 UTC (rev 962)
+++ trunk/t/06.aggregate.controller.t	2008-12-10 23:34:15 UTC (rev 963)
@@ -0,0 +1,9 @@
+#!/usr/bin/env perl
+# vim: ts=8 sts=4 et sw=4 sr sta
+
+use Test::Aggregate;
+my $other_test_dir = 't_aggregate_controllers';
+my $tests = Test::Aggregate->new( {
+    dirs => $other_test_dir
+});
+$tests->run;

Deleted: trunk/t/controller_Admin.t
===================================================================
--- trunk/t/controller_Admin.t	2008-10-21 22:44:21 UTC (rev 962)
+++ trunk/t/controller_Admin.t	2008-12-10 23:34:15 UTC (rev 963)
@@ -1,8 +0,0 @@
-use strict;
-use warnings;
-use Test::More tests => 2;
-
-BEGIN { use_ok 'Catalyst::Test', 'Parley' }
-BEGIN { use_ok 'Parley::Controller::Admin' }
-
-#ok( request('/admin/')->is_success, 'Request should succeed' );

Deleted: trunk/t/controller_Forum.t
===================================================================
--- trunk/t/controller_Forum.t	2008-10-21 22:44:21 UTC (rev 962)
+++ trunk/t/controller_Forum.t	2008-12-10 23:34:15 UTC (rev 963)
@@ -1,9 +0,0 @@
-use strict;
-use warnings;
-use Test::More tests => 4;
-
-BEGIN { use_ok 'Catalyst::Test', 'Parley' }
-BEGIN { use_ok 'Parley::Controller::Forum' }
-
-ok( request('/forum/list')->is_success, 'forum/list exists' );
-ok( request('/forum/view')->is_success, 'forum/view exists' );

Deleted: trunk/t/controller_Help.t
===================================================================
--- trunk/t/controller_Help.t	2008-10-21 22:44:21 UTC (rev 962)
+++ trunk/t/controller_Help.t	2008-12-10 23:34:15 UTC (rev 963)
@@ -1,12 +0,0 @@
-use strict;
-use warnings;
-use Test::More tests => 4;
-
-BEGIN { use_ok 'Catalyst::Test', 'Parley' }
-BEGIN { use_ok 'Parley::Controller::Help' }
-
-# this should show the help contents
-ok( request('/help')->is_success, 'Help contents found' );
-
-# this should show the help contents
-ok( request('/help/faq')->is_success, 'FAQ page found' );

Deleted: trunk/t/controller_My.t
===================================================================
--- trunk/t/controller_My.t	2008-10-21 22:44:21 UTC (rev 962)
+++ trunk/t/controller_My.t	2008-12-10 23:34:15 UTC (rev 963)
@@ -1,8 +0,0 @@
-use strict;
-use warnings;
-use Test::More tests => 3;
-
-BEGIN { use_ok 'Catalyst::Test', 'Parley' }
-BEGIN { use_ok 'Parley::Controller::My' }
-
-ok( request('/my')->is_success, 'Request should succeed' );

Deleted: trunk/t/controller_Post.t
===================================================================
--- trunk/t/controller_Post.t	2008-10-21 22:44:21 UTC (rev 962)
+++ trunk/t/controller_Post.t	2008-12-10 23:34:15 UTC (rev 963)
@@ -1,10 +0,0 @@
-use strict;
-use warnings;
-use Test::More tests => 5;
-
-BEGIN { use_ok 'Catalyst::Test', 'Parley' }
-BEGIN { use_ok 'Parley::Controller::Post' }
-
-ok( request('/post/edit')->is_success, 'post/edit exists' );
-ok( request('/post/view')->is_success, 'post/view exists' );
-ok( request('/post/preview')->is_success, 'post/preview exists' );

Deleted: trunk/t/controller_Search.t
===================================================================
--- trunk/t/controller_Search.t	2008-10-21 22:44:21 UTC (rev 962)
+++ trunk/t/controller_Search.t	2008-12-10 23:34:15 UTC (rev 963)
@@ -1,9 +0,0 @@
-use strict;
-use warnings;
-use Test::More tests => 4;
-
-BEGIN { use_ok 'Catalyst::Test', 'Parley' }
-BEGIN { use_ok 'Parley::Controller::Search' }
-
-ok( request('/search')->is_success, '/search exists' );
-ok( request('/search/forum')->is_success, '/search/forum exists' );

Deleted: trunk/t/controller_Site.t
===================================================================
--- trunk/t/controller_Site.t	2008-10-21 22:44:21 UTC (rev 962)
+++ trunk/t/controller_Site.t	2008-12-10 23:34:15 UTC (rev 963)
@@ -1,8 +0,0 @@
-use strict;
-use warnings;
-use Test::More tests => 2;
-
-BEGIN { use_ok 'Catalyst::Test', 'Parley' }
-BEGIN { use_ok 'Parley::Controller::Site' }
-
-#ok( request('/site')->is_success, 'Request should succeed' );

Deleted: trunk/t/controller_Terms.t
===================================================================
--- trunk/t/controller_Terms.t	2008-10-21 22:44:21 UTC (rev 962)
+++ trunk/t/controller_Terms.t	2008-12-10 23:34:15 UTC (rev 963)
@@ -1,10 +0,0 @@
-use strict;
-use warnings;
-use Test::More tests => 5;
-
-BEGIN { use_ok 'Catalyst::Test', 'Parley' }
-BEGIN { use_ok 'Parley::Controller::Terms' }
-
-ok( request('/terms')->is_success, 'Terms are viewable' );
-ok( request('/terms/accept')->is_success, 'terms/accept exists' );
-ok( request('/terms/add')->is_success, 'terms/add exists' );

Deleted: trunk/t/controller_Thread.t
===================================================================
--- trunk/t/controller_Thread.t	2008-10-21 22:44:21 UTC (rev 962)
+++ trunk/t/controller_Thread.t	2008-12-10 23:34:15 UTC (rev 963)
@@ -1,14 +0,0 @@
-use strict;
-use warnings;
-use Test::More tests => 9;
-
-BEGIN { use_ok 'Catalyst::Test', 'Parley' }
-BEGIN { use_ok 'Parley::Controller::Thread' }
-
-ok( request('/thread/add')      ->is_success,   'thread/add exists'         );
-ok( request('/thread/next_post')->is_success,   'thread/next_post exists'   );
-ok( request('/thread/recent')   ->is_success,   'thread/recent exists'      );
-ok( request('/thread/reply')    ->is_success,   'thread/reply exists'       );
-ok( request('/thread/view')     ->is_success,   'thread/view exists'        );
-ok( request('/thread/watch')    ->is_success,   'thread/watch exists'       );
-ok( request('/thread/watches')  ->is_success,   'thread/watches exists'     );

Deleted: trunk/t/controller_User.t
===================================================================
--- trunk/t/controller_User.t	2008-10-21 22:44:21 UTC (rev 962)
+++ trunk/t/controller_User.t	2008-12-10 23:34:15 UTC (rev 963)
@@ -1,10 +0,0 @@
-use strict;
-use warnings;
-use Test::More tests => 4;
-
-BEGIN { use_ok 'Catalyst::Test', 'Parley' }
-BEGIN { use_ok 'Parley::Controller::User' }
-
-ok( request('/user/login')      ->is_success,   'user/login exists'     );
-#ok( request('/user/logout')     ->is_success,   'user/logout exists'    );
-ok( request('/user/profile')    ->is_success,   'user/profile exists'   );

Copied: trunk/t_aggregate_controllers/controller_Admin.t (from rev 763, trunk/t/controller_Admin.t)

Copied: trunk/t_aggregate_controllers/controller_Forum.t (from rev 763, trunk/t/controller_Forum.t)

Copied: trunk/t_aggregate_controllers/controller_Help.t (from rev 763, trunk/t/controller_Help.t)

Copied: trunk/t_aggregate_controllers/controller_My.t (from rev 763, trunk/t/controller_My.t)

Copied: trunk/t_aggregate_controllers/controller_Post.t (from rev 763, trunk/t/controller_Post.t)

Copied: trunk/t_aggregate_controllers/controller_Search.t (from rev 763, trunk/t/controller_Search.t)

Copied: trunk/t_aggregate_controllers/controller_Site.t (from rev 763, trunk/t/controller_Site.t)

Copied: trunk/t_aggregate_controllers/controller_Terms.t (from rev 763, trunk/t/controller_Terms.t)

Copied: trunk/t_aggregate_controllers/controller_Thread.t (from rev 635, trunk/t/controller_Thread.t)

Copied: trunk/t_aggregate_controllers/controller_User.t (from rev 763, trunk/t/controller_User.t)



From chiselwright at mail.berlios.de  Thu Dec 11 00:34:32 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 11 Dec 2008 00:34:32 +0100
Subject: [Parley-svn] r964 - / trunk trunk/t
Message-ID: <200812102334.mBANYWkg032638@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-11 00:34:31 +0100 (Thu, 11 Dec 2008)
New Revision: 964

Added:
   trunk/t/07.aggregate.schematests.t
   trunk/t_aggregate_schematests/
Removed:
   trunk/t/schema/
Modified:
   /
Log:
 r8594 at wiggin:  chisel | 2008-12-10 20:49:53 +0000
 / aggregate schema tests



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8593
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8594
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: trunk/t/07.aggregate.schematests.t
===================================================================
--- trunk/t/07.aggregate.schematests.t	2008-12-10 23:34:15 UTC (rev 963)
+++ trunk/t/07.aggregate.schematests.t	2008-12-10 23:34:31 UTC (rev 964)
@@ -0,0 +1,24 @@
+#!/usr/bin/env perl
+# vim: ts=8 sts=4 et sw=4 sr sta
+
+our $other_test_dir;
+
+# include Useful Stuff
+BEGIN {
+    use Test::Aggregate;
+    use FindBin qw($Bin);
+    # set our aggregate location
+    $other_test_dir = 't_aggregate_schematests/';
+}
+
+# load the module that provides all of the common test functionality
+BEGIN {
+    use lib "$Bin/../$other_test_dir";
+    use SchemaTest;
+}
+
+
+my $tests = Test::Aggregate->new( {
+    dirs => $other_test_dir
+});
+$tests->run;

Copied: trunk/t_aggregate_schematests (from rev 895, trunk/t/schema)



From chiselwright at mail.berlios.de  Thu Dec 11 00:34:46 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 11 Dec 2008 00:34:46 +0100
Subject: [Parley-svn] r965 - / trunk
Message-ID: <200812102334.mBANYk5j000164@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-11 00:34:45 +0100 (Thu, 11 Dec 2008)
New Revision: 965

Modified:
   /
   trunk/MANIFEST
Log:
 r8595 at wiggin:  chisel | 2008-12-10 20:51:07 +0000
 / regenerated MANIFEST



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8594
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8595
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/MANIFEST
===================================================================
--- trunk/MANIFEST	2008-12-10 23:34:31 UTC (rev 964)
+++ trunk/MANIFEST	2008-12-10 23:34:45 UTC (rev 965)
@@ -37,9 +37,9 @@
 inc/Module/Install/Fetch.pm
 inc/Module/Install/Makefile.pm
 inc/Module/Install/Metadata.pm
-inc/Module/Install/Scripts.pm
 inc/Module/Install/Win32.pm
 inc/Module/Install/WriteAll.pm
+lib/Catalyst/Plugin/Dumper.pm
 lib/Parley.pm
 lib/Parley/App/Communication/Email.pm
 lib/Parley/App/DateTime.pm
@@ -877,46 +877,48 @@
 t/03podcoverage.t
 t/04_forumcode.t
 t/05.userroles.t
+t/06.aggregate.controller.t
+t/07.aggregate.schematests.t
 t/50.text_search.sql.t
 t/bug/01.forum_list_no_posts.t
-t/controller_Admin.t
-t/controller_Forum.t
-t/controller_Help.t
-t/controller_My.t
-t/controller_Post.t
-t/controller_Search.t
-t/controller_Site.t
-t/controller_Terms.t
-t/controller_Thread.t
-t/controller_User.t
 t/mechanize/00.login.t
 t/mechanize/01.main_page.t
 t/mechanize/02.forum.t
 t/model_ParleyDB.t
 t/model_Post.t
-t/schema/adminaction.t
-t/schema/authentication.t
-t/schema/email_queue.t
-t/schema/forum.t
-t/schema/forum_moderator.t
-t/schema/ip_ban.t
-t/schema/ip_ban_type.t
-t/schema/logadminaction.t
-t/schema/password_reset.t
-t/schema/person.t
-t/schema/post.t
-t/schema/preference.t
-t/schema/preference_time_string.t
-t/schema/registration_authentication.t
-t/schema/role.t
-t/schema/SchemaTest.pm
-t/schema/terms.t
-t/schema/terms_agreed.t
-t/schema/thread.t
-t/schema/thread_view.t
-t/schema/user_role.t
 t/view_Plain.t
 t/view_TT.t
+t_aggregate_controllers/controller_Admin.t
+t_aggregate_controllers/controller_Forum.t
+t_aggregate_controllers/controller_Help.t
+t_aggregate_controllers/controller_My.t
+t_aggregate_controllers/controller_Post.t
+t_aggregate_controllers/controller_Search.t
+t_aggregate_controllers/controller_Site.t
+t_aggregate_controllers/controller_Terms.t
+t_aggregate_controllers/controller_Thread.t
+t_aggregate_controllers/controller_User.t
+t_aggregate_schematests/adminaction.t
+t_aggregate_schematests/authentication.t
+t_aggregate_schematests/email_queue.t
+t_aggregate_schematests/forum.t
+t_aggregate_schematests/forum_moderator.t
+t_aggregate_schematests/ip_ban.t
+t_aggregate_schematests/ip_ban_type.t
+t_aggregate_schematests/logadminaction.t
+t_aggregate_schematests/password_reset.t
+t_aggregate_schematests/person.t
+t_aggregate_schematests/post.t
+t_aggregate_schematests/preference.t
+t_aggregate_schematests/preference_time_string.t
+t_aggregate_schematests/registration_authentication.t
+t_aggregate_schematests/role.t
+t_aggregate_schematests/SchemaTest.pm
+t_aggregate_schematests/terms.t
+t_aggregate_schematests/terms_agreed.t
+t_aggregate_schematests/thread.t
+t_aggregate_schematests/thread_view.t
+t_aggregate_schematests/user_role.t
 TODO
 todo.i18n/it
 todo.i18n/nl



From chiselwright at mail.berlios.de  Thu Dec 11 00:34:56 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 11 Dec 2008 00:34:56 +0100
Subject: [Parley-svn] r966 - / trunk
Message-ID: <200812102334.mBANYuu2000443@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-11 00:34:54 +0100 (Thu, 11 Dec 2008)
New Revision: 966

Modified:
   /
   trunk/Changes
Log:
 r8596 at wiggin:  chisel | 2008-12-10 20:51:27 +0000
 + add Change info for Test::Aggregate



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8595
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8596
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-12-10 23:34:45 UTC (rev 965)
+++ trunk/Changes	2008-12-10 23:34:54 UTC (rev 966)
@@ -3,6 +3,9 @@
 1.0.3
     - switch to database store for sessions
     - upgrade to YUI 2.6.0
+    - use Test::Aggregate
+      - aggregate controller_*.t tests
+      - aggregate t/schema/*.t tests
 
 1.0.2   Thu Oct  9 14:52:26 BST 2008
     - fixed "vanishing '+' symbol" issue in Message Preview



From chiselwright at mail.berlios.de  Thu Dec 11 00:35:10 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 11 Dec 2008 00:35:10 +0100
Subject: [Parley-svn] r967 - / trunk
Message-ID: <200812102335.mBANZAPG000990@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-11 00:35:09 +0100 (Thu, 11 Dec 2008)
New Revision: 967

Modified:
   /
   trunk/Makefile.PL
Log:
 r8597 at wiggin:  chisel | 2008-12-10 20:51:59 +0000
 + add build dependency for Test::Aggregate



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8596
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8597
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Makefile.PL
===================================================================
--- trunk/Makefile.PL	2008-12-10 23:34:54 UTC (rev 966)
+++ trunk/Makefile.PL	2008-12-10 23:35:09 UTC (rev 967)
@@ -53,6 +53,7 @@
 );
 
 build_requires (
+    'Test::Aggregate'                                           => '0.35',
     'Test::More'                                                => 0,
     'Test::WWW::Mechanize::Catalyst'                            => 0,
     'Test::DBIx::Class::Schema'                                 => '0.01004',



From chiselwright at mail.berlios.de  Thu Dec 11 00:35:22 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 11 Dec 2008 00:35:22 +0100
Subject: [Parley-svn] r968 - / trunk
Message-ID: <200812102335.mBANZMeR001206@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-11 00:35:21 +0100 (Thu, 11 Dec 2008)
New Revision: 968

Modified:
   /
   trunk/ROADMAP
Log:
 r8598 at wiggin:  chisel | 2008-12-10 20:57:33 +0000
 + updated road map



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8597
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8598
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/ROADMAP
===================================================================
--- trunk/ROADMAP	2008-12-10 23:35:09 UTC (rev 967)
+++ trunk/ROADMAP	2008-12-10 23:35:21 UTC (rev 968)
@@ -42,6 +42,9 @@
     - [D] update to use "new catalyst authentication"
     - [D] replace Graphics::Magick (Image::Mate?)
     - [D] write decent Getting Started docs
+    - [D] use Test::Aggregate [v1.0.3]
+    - [D] upgrade to YUI 2.6.x [v1.0.3]
+    - [D] use database for sessions [v1.0.3]
 
 1.1.0:
 



From chiselwright at mail.berlios.de  Thu Dec 11 00:35:36 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Thu, 11 Dec 2008 00:35:36 +0100
Subject: [Parley-svn] r969 - / trunk/lib/Parley/Controller
Message-ID: <200812102335.mBANZate001404@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-11 00:35:33 +0100 (Thu, 11 Dec 2008)
New Revision: 969

Modified:
   /
   trunk/lib/Parley/Controller/Post.pm
Log:
 r8599 at wiggin:  chisel | 2008-12-10 21:03:43 +0000
 / use HTML::ForumCode for message preview



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8598
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8599
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley/Controller/Post.pm
===================================================================
--- trunk/lib/Parley/Controller/Post.pm	2008-12-10 23:35:21 UTC (rev 968)
+++ trunk/lib/Parley/Controller/Post.pm	2008-12-10 23:35:33 UTC (rev 969)
@@ -7,7 +7,7 @@
 use base 'Catalyst::Controller';
 use DateTime;
 use JSON;
-use Template::Plugin::ForumCode;
+use HTML::ForumCode;
 
 # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 # Global class data
@@ -166,7 +166,7 @@
 
 sub preview : Local {
     my ($self, $c) = @_;
-    my $tt_forum = Template::Plugin::ForumCode->new();
+    my $tt_forum = HTML::ForumCode->new();
     my $msg_source = $c->request->param('msg_source');
 
     my $json = to_json(



From chiselwright at mail.berlios.de  Fri Dec 12 20:00:27 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 12 Dec 2008 20:00:27 +0100
Subject: [Parley-svn] r970 - / trunk
Message-ID: <200812121900.mBCJ0RqK009502@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-12 20:00:26 +0100 (Fri, 12 Dec 2008)
New Revision: 970

Modified:
   /
   trunk/parley.conf
Log:
 r8610 at wiggin:  chisel | 2008-12-12 07:42:39 +0000
 Add config for ::View::JSON



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8599
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8610
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/parley.conf
===================================================================
--- trunk/parley.conf	2008-12-10 23:35:33 UTC (rev 969)
+++ trunk/parley.conf	2008-12-12 19:00:26 UTC (rev 970)
@@ -98,6 +98,11 @@
     POST_PROCESS            footer
 </View::TT>
 
+# JSON view class options
+<View::JSON>
+    expose_stash            json_data
+</View::JSON>
+
 # configure the ::Static plugin
 <static>
     ignore_extensions   asp



From chiselwright at mail.berlios.de  Fri Dec 12 20:00:38 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 12 Dec 2008 20:00:38 +0100
Subject: [Parley-svn] r971 - / trunk/lib/Parley/View trunk/t
Message-ID: <200812121900.mBCJ0cpe009599@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-12 20:00:38 +0100 (Fri, 12 Dec 2008)
New Revision: 971

Added:
   trunk/lib/Parley/View/JSON.pm
   trunk/t/view_JSON.t
Modified:
   /
Log:
 r8611 at wiggin:  chisel | 2008-12-12 07:47:16 +0000
 + added JSON view



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8610
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8611
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: trunk/lib/Parley/View/JSON.pm
===================================================================
--- trunk/lib/Parley/View/JSON.pm	2008-12-12 19:00:26 UTC (rev 970)
+++ trunk/lib/Parley/View/JSON.pm	2008-12-12 19:00:38 UTC (rev 971)
@@ -0,0 +1,26 @@
+package Parley::View::JSON;
+use strict;
+use warnings;
+use base qw( Catalyst::View::JSON );
+
+1;
+__END__
+
+=head1 NAME
+
+Parley::View::JSON - Catalyst View
+
+=head1 DESCRIPTION
+
+Catalyst JSON View.
+
+=head1 AUTHOR
+
+Chisel Wright
+
+=head1 LICENSE
+
+This library is free software, you can redistribute it and/or modify
+it under the same terms as Perl itself.
+
+=cut

Added: trunk/t/view_JSON.t
===================================================================
--- trunk/t/view_JSON.t	2008-12-12 19:00:26 UTC (rev 970)
+++ trunk/t/view_JSON.t	2008-12-12 19:00:38 UTC (rev 971)
@@ -0,0 +1,6 @@
+use strict;
+use warnings;
+use Test::More tests => 1;
+
+BEGIN { use_ok 'Parley::View::JSON' }
+



From chiselwright at mail.berlios.de  Fri Dec 12 20:00:50 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 12 Dec 2008 20:00:50 +0100
Subject: [Parley-svn] r972 - / trunk/lib/Parley/Controller
Message-ID: <200812121900.mBCJ0ott009672@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-12 20:00:50 +0100 (Fri, 12 Dec 2008)
New Revision: 972

Modified:
   /
   trunk/lib/Parley/Controller/Post.pm
Log:
 r8612 at wiggin:  chisel | 2008-12-12 07:48:34 +0000
 / switch to JSON view, instead of hand-crafted JSON response



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8611
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8612
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley/Controller/Post.pm
===================================================================
--- trunk/lib/Parley/Controller/Post.pm	2008-12-12 19:00:38 UTC (rev 971)
+++ trunk/lib/Parley/Controller/Post.pm	2008-12-12 19:00:50 UTC (rev 972)
@@ -169,16 +169,13 @@
     my $tt_forum = HTML::ForumCode->new();
     my $msg_source = $c->request->param('msg_source');
 
-    my $json = to_json(
-        {
-            'formatted' =>
-                $tt_forum->forumcode(
-                    $msg_source
-                )
-        }
-    );
-
-    $c->response->body( $json );
+    $c->stash->{json_data} = {
+        'formatted' =>
+            $tt_forum->forumcode(
+                $msg_source
+            )
+    };
+    $c->forward('View::JSON');
     return;
 }
 



From chiselwright at mail.berlios.de  Fri Dec 12 20:01:01 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 12 Dec 2008 20:01:01 +0100
Subject: [Parley-svn] r973 - / trunk/lib/Parley/Controller
Message-ID: <200812121901.mBCJ11JL009768@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-12 20:01:00 +0100 (Fri, 12 Dec 2008)
New Revision: 973

Modified:
   /
   trunk/lib/Parley/Controller/Post.pm
Log:
 r8613 at wiggin:  chisel | 2008-12-12 07:49:23 +0000
 - remove: use JSON
 + add perl modeline



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8612
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8613
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley/Controller/Post.pm
===================================================================
--- trunk/lib/Parley/Controller/Post.pm	2008-12-12 19:00:50 UTC (rev 972)
+++ trunk/lib/Parley/Controller/Post.pm	2008-12-12 19:01:00 UTC (rev 973)
@@ -1,12 +1,11 @@
 package Parley::Controller::Post;
-
+# vim: ts=8 sts=4 et sw=4 sr sta
 use strict;
 use warnings;
 
 use Parley::Version;  our $VERSION = $Parley::VERSION;
 use base 'Catalyst::Controller';
 use DateTime;
-use JSON;
 use HTML::ForumCode;
 
 # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



From chiselwright at mail.berlios.de  Fri Dec 12 20:01:14 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 12 Dec 2008 20:01:14 +0100
Subject: [Parley-svn] r974 - / trunk trunk/root/base/thread
Message-ID: <200812121901.mBCJ1EG8009873@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-12 20:01:13 +0100 (Fri, 12 Dec 2008)
New Revision: 974

Modified:
   /
   trunk/Changes
   trunk/Makefile.PL
   trunk/TODO
   trunk/root/base/thread/reply
Log:
 r8614 at wiggin:  chisel | 2008-12-12 07:51:25 +0000
 + updated change log and todo
 + added C::V::JSON as a dependency
 + added missing </form> tag



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8613
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8614
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-12-12 19:01:00 UTC (rev 973)
+++ trunk/Changes	2008-12-12 19:01:13 UTC (rev 974)
@@ -6,6 +6,7 @@
     - use Test::Aggregate
       - aggregate controller_*.t tests
       - aggregate t/schema/*.t tests
+    - use HTML::ForumCode for post preview
 
 1.0.2   Thu Oct  9 14:52:26 BST 2008
     - fixed "vanishing '+' symbol" issue in Message Preview

Modified: trunk/Makefile.PL
===================================================================
--- trunk/Makefile.PL	2008-12-12 19:01:00 UTC (rev 973)
+++ trunk/Makefile.PL	2008-12-12 19:01:13 UTC (rev 974)
@@ -30,6 +30,7 @@
     'Catalyst::Plugin::StackTrace'                              => '0.08',
     'Catalyst::Plugin::Static::Simple'                          => '0.20',
     'Catalyst::View::TT'                                        => '0.27',
+    'Catalyst::View::JSON'                                      => '0.24',
     'Config::General'                                           => '2.37',
     'Data::FormValidator'                                       => '4.50',
     'Data::SpreadPagination'                                    => '0.1.2',

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-12-12 19:01:00 UTC (rev 973)
+++ trunk/TODO	2008-12-12 19:01:13 UTC (rev 974)
@@ -1,5 +1,6 @@
 TODO LIST
 
+  - use HTML::ForumCode::Cookbook::Recipe1 for message preview(s)
   - local file permissions (for avatar uploads)
   - optional ReCAPTCHA during sign-up
   - optional google ads

Modified: trunk/root/base/thread/reply
===================================================================
--- trunk/root/base/thread/reply	2008-12-12 19:01:00 UTC (rev 973)
+++ trunk/root/base/thread/reply	2008-12-12 19:01:13 UTC (rev 974)
@@ -133,6 +133,7 @@
 		</div>
 	</div>
 </div>
+</form>
 
 <style type="text/css">
 	.yui-overlay { position:absolute;background:transparent;border:none;padding:none;margin:none; }



From chiselwright at mail.berlios.de  Fri Dec 12 20:01:23 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 12 Dec 2008 20:01:23 +0100
Subject: [Parley-svn] r975 - / trunk trunk/t trunk/t_aggregate
Message-ID: <200812121901.mBCJ1NXL009948@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-12 20:01:22 +0100 (Fri, 12 Dec 2008)
New Revision: 975

Added:
   trunk/t_aggregate/
   trunk/t_aggregate/controllers/
   trunk/t_aggregate/schematests/
Removed:
   trunk/t_aggregate_controllers/
   trunk/t_aggregate_schematests/
Modified:
   /
   trunk/t/06.aggregate.controller.t
   trunk/t/07.aggregate.schematests.t
Log:
 r8615 at wiggin:  chisel | 2008-12-12 07:55:06 +0000
 / re-orgnized location of aggregate tests



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8614
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8615
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/t/06.aggregate.controller.t
===================================================================
--- trunk/t/06.aggregate.controller.t	2008-12-12 19:01:13 UTC (rev 974)
+++ trunk/t/06.aggregate.controller.t	2008-12-12 19:01:22 UTC (rev 975)
@@ -2,7 +2,7 @@
 # vim: ts=8 sts=4 et sw=4 sr sta
 
 use Test::Aggregate;
-my $other_test_dir = 't_aggregate_controllers';
+my $other_test_dir = 't_aggregate/controllers';
 my $tests = Test::Aggregate->new( {
     dirs => $other_test_dir
 });

Modified: trunk/t/07.aggregate.schematests.t
===================================================================
--- trunk/t/07.aggregate.schematests.t	2008-12-12 19:01:13 UTC (rev 974)
+++ trunk/t/07.aggregate.schematests.t	2008-12-12 19:01:22 UTC (rev 975)
@@ -8,7 +8,7 @@
     use Test::Aggregate;
     use FindBin qw($Bin);
     # set our aggregate location
-    $other_test_dir = 't_aggregate_schematests/';
+    $other_test_dir = 't_aggregate/schematests/';
 }
 
 # load the module that provides all of the common test functionality

Copied: trunk/t_aggregate/controllers (from rev 963, trunk/t_aggregate_controllers)

Copied: trunk/t_aggregate/schematests (from rev 964, trunk/t_aggregate_schematests)



From chiselwright at mail.berlios.de  Fri Dec 12 20:01:31 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 12 Dec 2008 20:01:31 +0100
Subject: [Parley-svn] r976 - / trunk/lib/Parley/Controller
Message-ID: <200812121901.mBCJ1VTo010020@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-12 20:01:30 +0100 (Fri, 12 Dec 2008)
New Revision: 976

Added:
   trunk/lib/Parley/Controller/ForumCode.pm
Modified:
   /
Log:
 r8616 at wiggin:  chisel | 2008-12-12 08:02:04 +0000
 + add /forumcode controller (for HTML::ForumCode::Cookbook::Recipe1 recipe)



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8615
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8616
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: trunk/lib/Parley/Controller/ForumCode.pm
===================================================================
--- trunk/lib/Parley/Controller/ForumCode.pm	2008-12-12 19:01:22 UTC (rev 975)
+++ trunk/lib/Parley/Controller/ForumCode.pm	2008-12-12 19:01:30 UTC (rev 976)
@@ -0,0 +1,29 @@
+package Parley::Controller::ForumCode;
+# vim: ts=8 sts=4 et sw=4 sr sta
+use strict;
+use warnings;
+use parent 'Catalyst::Controller';
+
+use JSON::Any;
+use HTML::ForumCode;
+
+sub preview : Local {
+    my ($self, $c) = @_;
+    my $tt_forum = HTML::ForumCode->new();
+    my $msg_source = $c->request->param('msg_source');
+
+    my $j = JSON::Any->new;
+    my $json = $j->to_json(
+        {
+            'formatted' =>
+                $tt_forum->forumcode(
+                    $msg_source
+                )
+        }
+    );
+
+    $c->response->body( $json );
+    return;
+}
+
+1;



From chiselwright at mail.berlios.de  Fri Dec 12 20:01:38 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 12 Dec 2008 20:01:38 +0100
Subject: [Parley-svn] r977 - / trunk/root/base/thread
Message-ID: <200812121901.mBCJ1cZK010090@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-12 20:01:38 +0100 (Fri, 12 Dec 2008)
New Revision: 977

Modified:
   /
   trunk/root/base/thread/reply
Log:
 r8617 at wiggin:  chisel | 2008-12-12 08:02:16 +0000
 / use /forumcode/preview



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8616
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8617
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/thread/reply
===================================================================
--- trunk/root/base/thread/reply	2008-12-12 19:01:30 UTC (rev 976)
+++ trunk/root/base/thread/reply	2008-12-12 19:01:38 UTC (rev 977)
@@ -146,7 +146,7 @@
 
     MessagePreview.config.label_preview = '[%l('Preview')%]';
     MessagePreview.config.label_edit    = '[%l('Edit')%]';
-    MessagePreview.config.post_url      = "[%c.uri_for('/post/preview')%]";
+    MessagePreview.config.post_url      = "[%c.uri_for('/forumcode/preview')%]";
 
     MessagePreview.init();
 </script>



From chiselwright at mail.berlios.de  Fri Dec 12 20:01:45 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 12 Dec 2008 20:01:45 +0100
Subject: [Parley-svn] r978 - / trunk/lib/Parley/Controller
Message-ID: <200812121901.mBCJ1jf7010161@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-12 20:01:45 +0100 (Fri, 12 Dec 2008)
New Revision: 978

Modified:
   /
   trunk/lib/Parley/Controller/ForumCode.pm
Log:
 r8621 at wiggin:  chisel | 2008-12-12 08:17:25 +0000
 / use ::View::JSON



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8617
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8621
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley/Controller/ForumCode.pm
===================================================================
--- trunk/lib/Parley/Controller/ForumCode.pm	2008-12-12 19:01:38 UTC (rev 977)
+++ trunk/lib/Parley/Controller/ForumCode.pm	2008-12-12 19:01:45 UTC (rev 978)
@@ -12,17 +12,13 @@
     my $tt_forum = HTML::ForumCode->new();
     my $msg_source = $c->request->param('msg_source');
 
-    my $j = JSON::Any->new;
-    my $json = $j->to_json(
-        {
-            'formatted' =>
-                $tt_forum->forumcode(
-                    $msg_source
-                )
-        }
-    );
-
-    $c->response->body( $json );
+    $c->stash->{json_data} = {
+        'formatted' =>
+            $tt_forum->forumcode(
+                $msg_source
+            )
+    };
+    $c->forward('View::JSON');
     return;
 }
 



From chiselwright at mail.berlios.de  Fri Dec 12 20:01:53 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Fri, 12 Dec 2008 20:01:53 +0100
Subject: [Parley-svn] r979 - / trunk/lib/Parley/Controller
Message-ID: <200812121901.mBCJ1rxR010236@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-12 20:01:53 +0100 (Fri, 12 Dec 2008)
New Revision: 979

Modified:
   /
   trunk/lib/Parley/Controller/Post.pm
Log:
 r8622 at wiggin:  chisel | 2008-12-12 08:18:02 +0000
 / Change /post/preview to raise a warning and forward to /forumcode/preview



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8621
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8622
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley/Controller/Post.pm
===================================================================
--- trunk/lib/Parley/Controller/Post.pm	2008-12-12 19:01:45 UTC (rev 978)
+++ trunk/lib/Parley/Controller/Post.pm	2008-12-12 19:01:53 UTC (rev 979)
@@ -165,16 +165,8 @@
 
 sub preview : Local {
     my ($self, $c) = @_;
-    my $tt_forum = HTML::ForumCode->new();
-    my $msg_source = $c->request->param('msg_source');
-
-    $c->stash->{json_data} = {
-        'formatted' =>
-            $tt_forum->forumcode(
-                $msg_source
-            )
-    };
-    $c->forward('View::JSON');
+    $c->log->warn('/post/preview used; please replace with /forumcode/preview');
+    $c->forward('/forumcode/preview');
     return;
 }
 



From chiselwright at mail.berlios.de  Tue Dec 16 21:09:04 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 16 Dec 2008 21:09:04 +0100
Subject: [Parley-svn] r980 - / trunk trunk/root/base/post
	trunk/root/base/terms trunk/root/base/thread
Message-ID: <200812162009.mBGK94EH015602@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-16 21:09:04 +0100 (Tue, 16 Dec 2008)
New Revision: 980

Modified:
   /
   trunk/Changes
   trunk/root/base/post/edit
   trunk/root/base/terms/add
   trunk/root/base/thread/add
Log:
 r8636 at wiggin:  chisel | 2008-12-16 07:09:01 +0000
 / switch from /post/preview to /forumcode/preview
 / updated change log



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8622
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8636
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-12-12 19:01:53 UTC (rev 979)
+++ trunk/Changes	2008-12-16 20:09:04 UTC (rev 980)
@@ -7,6 +7,7 @@
       - aggregate controller_*.t tests
       - aggregate t/schema/*.t tests
     - use HTML::ForumCode for post preview
+    - added /forumcode/preview
 
 1.0.2   Thu Oct  9 14:52:26 BST 2008
     - fixed "vanishing '+' symbol" issue in Message Preview

Modified: trunk/root/base/post/edit
===================================================================
--- trunk/root/base/post/edit	2008-12-12 19:01:53 UTC (rev 979)
+++ trunk/root/base/post/edit	2008-12-16 20:09:04 UTC (rev 980)
@@ -62,7 +62,7 @@
 
     MessagePreview.config.label_preview = '[%l('Preview')%]';
     MessagePreview.config.label_edit    = '[%l('Edit')%]';
-    MessagePreview.config.post_url      = "[%c.uri_for('/post/preview')%]";
+    MessagePreview.config.post_url      = "[%c.uri_for('/forumcode/preview')%]";
 
     MessagePreview.init();
 </script>

Modified: trunk/root/base/terms/add
===================================================================
--- trunk/root/base/terms/add	2008-12-12 19:01:53 UTC (rev 979)
+++ trunk/root/base/terms/add	2008-12-16 20:09:04 UTC (rev 980)
@@ -104,7 +104,8 @@
             this.preview = function() {
                 var request = YU.Connect.asyncRequest(
                     'POST',
-                    '[%base%]post/preview',
+                    // '/forumcode/preview',
+                    "[%c.uri_for('/forumcode/preview')%]",
                     {
                         success: this.handleSuccess,
                         failure: this.handleFailure,

Modified: trunk/root/base/thread/add
===================================================================
--- trunk/root/base/thread/add	2008-12-12 19:01:53 UTC (rev 979)
+++ trunk/root/base/thread/add	2008-12-16 20:09:04 UTC (rev 980)
@@ -64,7 +64,7 @@
 
     MessagePreview.config.label_preview = '[%l('Preview')%]';
     MessagePreview.config.label_edit    = '[%l('Edit')%]';
-    MessagePreview.config.post_url      = "[%c.uri_for('/post/preview')%]";
+    MessagePreview.config.post_url      = "[%c.uri_for('/forumcode/preview')%]";
 
     MessagePreview.init();
 </script>



From chiselwright at mail.berlios.de  Tue Dec 16 21:09:16 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 16 Dec 2008 21:09:16 +0100
Subject: [Parley-svn] r981 - / trunk
Message-ID: <200812162009.mBGK9Gl8015678@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-16 21:09:16 +0100 (Tue, 16 Dec 2008)
New Revision: 981

Modified:
   /
   trunk/Changes
   trunk/TODO
Log:
 r8637 at wiggin:  chisel | 2008-12-16 07:26:24 +0000
 / updated info files



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8636
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8637
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-12-16 20:09:04 UTC (rev 980)
+++ trunk/Changes	2008-12-16 20:09:16 UTC (rev 981)
@@ -8,6 +8,7 @@
       - aggregate t/schema/*.t tests
     - use HTML::ForumCode for post preview
     - added /forumcode/preview
+    - make "Posted from a.b.c.d" a clickable link to site/ip_info
 
 1.0.2   Thu Oct  9 14:52:26 BST 2008
     - fixed "vanishing '+' symbol" issue in Message Preview

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-12-16 20:09:04 UTC (rev 980)
+++ trunk/TODO	2008-12-16 20:09:16 UTC (rev 981)
@@ -1,6 +1,7 @@
 TODO LIST
 
-  - use HTML::ForumCode::Cookbook::Recipe1 for message preview(s)
+  - fix "oversized image" bug
+  - fix "user information" CSS location
   - local file permissions (for avatar uploads)
   - optional ReCAPTCHA during sign-up
   - optional google ads
@@ -38,6 +39,7 @@
   - investigate: package Your::Schema; sub connect { do the check; next::method }
   - investigate: DBIx::Class::Schema::Versioned
   - investigate: t/model_Post.t / distinct count
+D - use HTML::ForumCode::Cookbook::Recipe1 for message preview(s)
 D - fix <ul>/<ol> CSS
 D - setup guide; add mailing list details
 D - get latest i18n from DJ



From chiselwright at mail.berlios.de  Tue Dec 16 21:09:24 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 16 Dec 2008 21:09:24 +0100
Subject: [Parley-svn] r982 - / trunk
Message-ID: <200812162009.mBGK9OEq015749@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-16 21:09:23 +0100 (Tue, 16 Dec 2008)
New Revision: 982

Modified:
   /
   trunk/MANIFEST
Log:
 r8638 at wiggin:  chisel | 2008-12-16 07:27:29 +0000
 Recreated MANIFEST file



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8637
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8638
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/MANIFEST
===================================================================
--- trunk/MANIFEST	2008-12-16 20:09:16 UTC (rev 981)
+++ trunk/MANIFEST	2008-12-16 20:09:23 UTC (rev 982)
@@ -51,6 +51,7 @@
 lib/Parley/Contributors.pm
 lib/Parley/Controller/Admin.pm
 lib/Parley/Controller/Forum.pm
+lib/Parley/Controller/ForumCode.pm
 lib/Parley/Controller/Help.pm
 lib/Parley/Controller/My.pm
 lib/Parley/Controller/Post.pm
@@ -98,6 +99,7 @@
 lib/Parley/Schema/ThreadView.pm
 lib/Parley/Schema/UserRole.pm
 lib/Parley/Version.pm
+lib/Parley/View/JSON.pm
 lib/Parley/View/Plain.pm
 lib/Parley/View/TT.pm
 lib/Template/Plugin/ForumCode.pm
@@ -118,6 +120,7 @@
 root/base/help/i_default/contents
 root/base/help/i_default/faq
 root/base/help/i_default/formatting_posts
+root/base/help/i_default/wide
 root/base/help/unknown
 root/base/menu/left/main
 root/base/menu/menubar
@@ -159,6 +162,7 @@
 root/base/thread/add
 root/base/thread/recent
 root/base/thread/reply
+root/base/thread/reply-yuirte
 root/base/thread/view
 root/base/thread/watches
 root/base/user/access_ip_banned
@@ -886,39 +890,40 @@
 t/mechanize/02.forum.t
 t/model_ParleyDB.t
 t/model_Post.t
+t/view_JSON.t
 t/view_Plain.t
 t/view_TT.t
-t_aggregate_controllers/controller_Admin.t
-t_aggregate_controllers/controller_Forum.t
-t_aggregate_controllers/controller_Help.t
-t_aggregate_controllers/controller_My.t
-t_aggregate_controllers/controller_Post.t
-t_aggregate_controllers/controller_Search.t
-t_aggregate_controllers/controller_Site.t
-t_aggregate_controllers/controller_Terms.t
-t_aggregate_controllers/controller_Thread.t
-t_aggregate_controllers/controller_User.t
-t_aggregate_schematests/adminaction.t
-t_aggregate_schematests/authentication.t
-t_aggregate_schematests/email_queue.t
-t_aggregate_schematests/forum.t
-t_aggregate_schematests/forum_moderator.t
-t_aggregate_schematests/ip_ban.t
-t_aggregate_schematests/ip_ban_type.t
-t_aggregate_schematests/logadminaction.t
-t_aggregate_schematests/password_reset.t
-t_aggregate_schematests/person.t
-t_aggregate_schematests/post.t
-t_aggregate_schematests/preference.t
-t_aggregate_schematests/preference_time_string.t
-t_aggregate_schematests/registration_authentication.t
-t_aggregate_schematests/role.t
-t_aggregate_schematests/SchemaTest.pm
-t_aggregate_schematests/terms.t
-t_aggregate_schematests/terms_agreed.t
-t_aggregate_schematests/thread.t
-t_aggregate_schematests/thread_view.t
-t_aggregate_schematests/user_role.t
+t_aggregate/controllers/controller_Admin.t
+t_aggregate/controllers/controller_Forum.t
+t_aggregate/controllers/controller_Help.t
+t_aggregate/controllers/controller_My.t
+t_aggregate/controllers/controller_Post.t
+t_aggregate/controllers/controller_Search.t
+t_aggregate/controllers/controller_Site.t
+t_aggregate/controllers/controller_Terms.t
+t_aggregate/controllers/controller_Thread.t
+t_aggregate/controllers/controller_User.t
+t_aggregate/schematests/adminaction.t
+t_aggregate/schematests/authentication.t
+t_aggregate/schematests/email_queue.t
+t_aggregate/schematests/forum.t
+t_aggregate/schematests/forum_moderator.t
+t_aggregate/schematests/ip_ban.t
+t_aggregate/schematests/ip_ban_type.t
+t_aggregate/schematests/logadminaction.t
+t_aggregate/schematests/password_reset.t
+t_aggregate/schematests/person.t
+t_aggregate/schematests/post.t
+t_aggregate/schematests/preference.t
+t_aggregate/schematests/preference_time_string.t
+t_aggregate/schematests/registration_authentication.t
+t_aggregate/schematests/role.t
+t_aggregate/schematests/SchemaTest.pm
+t_aggregate/schematests/terms.t
+t_aggregate/schematests/terms_agreed.t
+t_aggregate/schematests/thread.t
+t_aggregate/schematests/thread_view.t
+t_aggregate/schematests/user_role.t
 TODO
 todo.i18n/it
 todo.i18n/nl



From chiselwright at mail.berlios.de  Tue Dec 16 21:09:31 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 16 Dec 2008 21:09:31 +0100
Subject: [Parley-svn] r983 - / trunk
Message-ID: <200812162009.mBGK9VIp015875@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-16 21:09:31 +0100 (Tue, 16 Dec 2008)
New Revision: 983

Modified:
   /
   trunk/ROADMAP
Log:
 r8639 at wiggin:  chisel | 2008-12-16 07:30:05 +0000
 Updated roadmap



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8638
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8639
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/ROADMAP
===================================================================
--- trunk/ROADMAP	2008-12-16 20:09:23 UTC (rev 982)
+++ trunk/ROADMAP	2008-12-16 20:09:31 UTC (rev 983)
@@ -10,9 +10,9 @@
 
 0.58 (Feb 2008):
 
-    - UI improvements and cleanup
-    - DBIC ResultSetManager deprecation
-    - DBIC prefetch (DB optimisation)
+    - [D] UI improvements and cleanup
+    - [D] DBIC ResultSetManager deprecation
+    - [D] DBIC prefetch (DB optimisation)
 
 0.59 (Apr 2008):
 
@@ -67,3 +67,8 @@
 
     - quick reply
     - quick help
+
+1.5.0:
+
+    - internal messaging
+    - Report To Moderator



From chiselwright at mail.berlios.de  Tue Dec 16 21:09:39 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 16 Dec 2008 21:09:39 +0100
Subject: [Parley-svn] r984 - / trunk/root/static/css
Message-ID: <200812162009.mBGK9deR015945@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-16 21:09:38 +0100 (Tue, 16 Dec 2008)
New Revision: 984

Modified:
   /
   trunk/root/static/css/parley-min.css
   trunk/root/static/css/parley.css
Log:
 r8640 at wiggin:  chisel | 2008-12-16 07:37:48 +0000
 / added margin-left to list items
 / moved common list-item style into new block



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8639
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8640
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/static/css/parley-min.css
===================================================================
--- trunk/root/static/css/parley-min.css	2008-12-16 20:09:31 UTC (rev 983)
+++ trunk/root/static/css/parley-min.css	2008-12-16 20:09:38 UTC (rev 984)
@@ -1 +1 @@
-body{background-color:#fff;font-family:Verdana,Arial,Helvetica,sans-serif;}#hd{height:80px;line-height:80px;margin:0;padding-left:10px;background:#EEE url('/static/images/parley_logo.jpg') no-repeat left;color:#79B30B color:#36C;}#hd h1{font-size:200%;text-align:left;}div#ft{background:#666;color:#FFF;font-size:77%;margin-top:20px;}div#ft p{border:none;margin-top:30px;padding:5px 10px 5px 10px;text-align:right;display:block;}div#ft a{color:#ccc;}div#user_information{line-height:1em;font-size:85%;color:#000;background-color:transparent;position:absolute;top:0;right:10px;height:70px;width:200px;padding-top:3px;text-align:center;}div#user_information .user_info_actions{margin-top:3px;}.caretfix{overflow:auto;}#bd h1{font-weight:bold;background:#666;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h2{font-weight:bold;background:#999;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h3{font-weight:bold;background:#eee;padding:4px;text-align:left;!
 margin-top:5px;margin-bottom:5px;color:#79B30B color:#36C;}a.nav:hover{background:#000;color:#fff;}a,a:link,a:visited,a:active{background:transparent;color:blue;text-decoration:none;}ol li{list-style-type:decimal;list-style-position:inside;}ul li{list-style-type:disc;list-style-position:inside;}th{font-size:100%;text-align:left;font-weight:bold;}#login_dialog form{margin:0;padding:0;min-width:400px;max-width:600px;}#login_dialog form fieldset{/ * clear:both;note that this clear causes inputs to break to left in ie5.x mac,commented out */ padding:10px;margin:0;border:none;}#login_dialog form label{display:block;float:left;width:150px;padding:0;margin:5px 0 0;text-align:right;font-weight:bold;margin-bottom:0;}#login_dialog form input,form textarea{width:auto;margin:5px 0 0 10px;}#login_dialog form p{font-size:85%;}.row{border-top:1px dotted #666;border-bottom:1px dotted #666;}.row_odd{background:#eee;}.row_even{background:#ddd;}.admin_edited_post{color:#000;background:#ccc;pa!
 dding:2px;padding-left:10px;padding-right:10px;border:1px dash!
 ed #000;
margin-left:15px;font-size:93%;text-align:right;}.align_right{text-align:right;}.error_messages{margin-top:5px;display:block;line-height:1.7em;padding:5px;background-color:#930;color:#fff;text-transform:none;font-family:Arial,Avenir,"Lucida Grande",Verdana,"Bitstream Vera Sans",Helvetica,sans-serif;font-weight:bold;voice-family:"\"}\"";voice-family:inherit;font-size:1.0em;border:none;}.forum_description{font-size:93%;}.forum_lastpost{font-size:85%;text-align:right;}.forum_lastpost_subject a{color:#79B30B color:#36C;}.forum_link{font-size:100%;font-weight:bold;}.forum_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.forum_mini_pager{font-size:85%;}.forum_mini_pager a{color:#666;}.forum_name{font-size:100%;text-align:left;font-weight:bold;margin-top:5px;}.forum_name a{color:#79B30B color:#36C;}.forum_postcount{font-size:8!
 5%;text-align:right;margin-top:5px;}.forum_view{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_view td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.help li{margin-top:25px;margin-right:25px;list-style-type:none;border-left:2px solid #666;padding-top:5px;padding-bottom:5px;padding-left:10px;background-color:#ddd;}.help li ul li,.help li ol li{margin-top:5px;margin-left:10px;list-style-type:disc;border-left:none;padding-left:none;padding-top:none;padding-bottom:none;background-color:transparent;}.innerpost{margin-left:10px;padding:5px;overflow:auto;font-size:93%;}.moderator_list{font-size:77%;margin-bottom:5px;margin-top:5px;text-align:right;}.pager_advanced{font-size:77%;margin-bottom:5px;margin-top:5px;}.post{padding-top:5px;vertical-align:top;border-left:1px solid #ddd;}.post_created{text-align:right;font-size:85%;}.post_creator{font-weight:bold;font-style:italic;font-size!
 :85%;}.post_edited_alert{font-weight:bold;font-style:italic;}.!
 post_inf
o{font-size:77%;line-height:1.1em;margin-top:10px;margin-bottom:2px;text-align:right;}.post_subject{font-weight:bold;}.quote{background-color:#F9FBFF;border:1px solid #333;font-size:85%;margin:0 0 2px 4px;padding:6px;width:85%;overflow:hidden;}.recently_updated{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.recently_updated td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.reply_post_message{border:1px dashed #666;}.search_match_context{font-size:85%;}.search_results{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.search_results td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.service_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.service_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padd!
 ing-left:10px;padding-right:10px;}.site_terms{width:80%;margin-left:auto;margin-right:auto;margin-bottom:10px;padding:5px;border:1px solid #666;}.thread_add{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_add td{padding-top:4px;padding-bottom:4px;}.thread_add .input_text{width:450px;margin-left:10px;}.thread_add_topic{text-align:right;padding-right:5px;}.thread_add_message{text-align:right;vertical-align:top;padding-right:5px;}.thread_header{font-weight:bold;background:#666;padding:4px;text-align:left;}.thread_header a{color:#ccc;}.thread_info{margin:0;width:100%;border:none;padding:0;margin-bottom:10px;}.thread_info td{border:none;padding:0;}.thread_lastpost{font-size:85%;text-align:right;}.thread_post_row{border-top:1px solid #ddd;border-bottom:1px solid #ddd;}.thread_post_row td{margin-top:10px;margin-bottom:10px;}.thread_posts{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_recent_forum{float:righ!
 t;font-size:85%;}.thread_recent_forum a{color:#333;}.thread_re!
 ply{font
-size:93%;}.thread_reply tr{vertical-align:top;}.thread_reply td{padding-top:10px;padding-left:10px;}.thread_reply textarea{background-color:transparent;border:2px inset black;}.thread_subject a{font-size:93%;color:#79B30B color:#36C;}.thread_watch{margin-top:5px;font-size:77%;text-align:left;}.top_padded{margin-top:10px;}.topic_creator{display:block;font-size:85%;text-align:right;}.user_login form{width:350px;margin-left:auto;margin-right:auto;margin-top:20px;}.user_login p{margin-top:5px;margin-bottom:5px;}.user_permission_list{margin-left:auto;margin-right:auto;margin-top:15px;font-size:93%;width:100%;}.user_permission_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:150%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.user_permission_list img{vertical-align:middle;}.forum_moderator_list div input{height:150%;}.forum_moderator_list img{vertical-align:middle;}.user_post_info{background:#ccc;background:transparent;font-size!
 :77%;margin-left:auto;margin-right:auto;text-align:center;vertical-align:top;width:110px;}a[href $='.jpg']{padding-left:20px;background:transparent url(/static/images/filetypes/image.png) no-repeat center left;}a[href $='.pdf']{padding-left:20px;background:transparent url(/static/images/filetypes/pdf.png) no-repeat center left;}#loader_wait.yui-overlay{position:fixed;float:right;top:10px;right:10px;border:none;text-align:right;}#preview_overlay{border:1px dashed #ccc;text-align:left;padding:0;}#thread_message{font-family:monospace;text-align:left;padding:0;background-color:#eee;font-size:93%;width:450px;}#ysearch{text-align:center;}#ysearchinput{position:static;width:20em;}#ysearchcontainer{text-align:left;width:20em;}.forumcode_code{font-family:monospace;border:1px solid #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;color:#ff0;background-color:#333;border:1px solid #666;white-space:pre;}.forumcode_pre{background-color:transparent;font-fa!
 mily:monospace;border:1px dashed #333;font-size:85%;margin:15p!
 x 20px 1
5px 20px;padding:6px;width:85%;overflow:auto;white-space:pre;}.forumcode_quote{background-color:#eee;font-family:monospace;font-style:italic;border:1px dotted #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;}.forumcode_quoting{font-weight:bold;margin-bottom:3px;}.yuimenuitem .disabled{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-navset .yui-nav,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav{border:solid #333;border-width:0 0 5px;Xposition:relative;zoom:1;}.yui-skin-sam .yui-navset .yui-content{background:transparent;}.yui-skin-sam .yui-navset .yui-nav a,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav a{background-image:none;background-color:#999;border:solid #a3a3a3;border-width:0 1px;color:#fff;text-decoration:none;}.yui-skin-sam .yui-navset .yui-nav .selected a,.yui-skin-sam .yui-navset .yui-nav .selected a:focus,.yui-skin-sam .yui-navset .yui-nav .selected a:hover{background:#333;color:#fff;}.yui-skin-sam .yui-navset .yui-nav a!
 :hover,.yui-skin-sam .yui-navset .yui-nav a:focus{background:#666;color:#fff;outline:0;}
\ No newline at end of file
+body{background-color:#fff;font-family:Verdana,Arial,Helvetica,sans-serif;}#hd{height:80px;line-height:80px;margin:0;padding-left:10px;background:#EEE url('/static/images/parley_logo.jpg') no-repeat left;color:#79B30B color:#36C;}#hd h1{font-size:200%;text-align:left;}div#ft{background:#666;color:#FFF;font-size:77%;margin-top:20px;}div#ft p{border:none;margin-top:30px;padding:5px 10px 5px 10px;text-align:right;display:block;}div#ft a{color:#ccc;}div#user_information{line-height:1em;font-size:85%;color:#000;background-color:transparent;position:absolute;top:0;right:10px;height:70px;width:200px;padding-top:3px;text-align:center;}div#user_information .user_info_actions{margin-top:3px;}.caretfix{overflow:auto;}#bd h1{font-weight:bold;background:#666;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h2{font-weight:bold;background:#999;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h3{font-weight:bold;background:#eee;padding:4px;text-align:left;!
 margin-top:5px;margin-bottom:5px;color:#79B30B color:#36C;}a.nav:hover{background:#000;color:#fff;}a,a:link,a:visited,a:active{background:transparent;color:blue;text-decoration:none;}ol>li,ul>li{margin-left:8px;list-style-position:inside;}ol>li{list-style-type:decimal;}ul>li{list-style-type:disc;}th{font-size:100%;text-align:left;font-weight:bold;}#login_dialog form{margin:0;padding:0;min-width:400px;max-width:600px;}#login_dialog form fieldset{/ * clear:both;note that this clear causes inputs to break to left in ie5.x mac,commented out */ padding:10px;margin:0;border:none;}#login_dialog form label{display:block;float:left;width:150px;padding:0;margin:5px 0 0;text-align:right;font-weight:bold;margin-bottom:0;}#login_dialog form input,form textarea{width:auto;margin:5px 0 0 10px;}#login_dialog form p{font-size:85%;}.row{border-top:1px dotted #666;border-bottom:1px dotted #666;}.row_odd{background:#eee;}.row_even{background:#ddd;}.admin_edited_post{color:#000;background:#ccc;!
 padding:2px;padding-left:10px;padding-right:10px;border:1px da!
 shed #00
0;margin-left:15px;font-size:93%;text-align:right;}.align_right{text-align:right;}.error_messages{margin-top:5px;display:block;line-height:1.7em;padding:5px;background-color:#930;color:#fff;text-transform:none;font-family:Arial,Avenir,"Lucida Grande",Verdana,"Bitstream Vera Sans",Helvetica,sans-serif;font-weight:bold;voice-family:"\"}\"";voice-family:inherit;font-size:1.0em;border:none;}.forum_description{font-size:93%;}.forum_lastpost{font-size:85%;text-align:right;}.forum_lastpost_subject a{color:#79B30B color:#36C;}.forum_link{font-size:100%;font-weight:bold;}.forum_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.forum_mini_pager{font-size:85%;}.forum_mini_pager a{color:#666;}.forum_name{font-size:100%;text-align:left;font-weight:bold;margin-top:5px;}.forum_name a{color:#79B30B color:#36C;}.forum_postcount{font-size!
 :85%;text-align:right;margin-top:5px;}.forum_view{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_view td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.help li{margin-top:25px;margin-right:25px;list-style-type:none;border-left:2px solid #666;padding-top:5px;padding-bottom:5px;padding-left:10px;background-color:#ddd;}.help li ul li,.help li ol li{margin-top:5px;margin-left:10px;list-style-type:disc;border-left:none;padding-left:none;padding-top:none;padding-bottom:none;background-color:transparent;}.innerpost{margin-left:10px;padding:5px;overflow:auto;font-size:93%;}.moderator_list{font-size:77%;margin-bottom:5px;margin-top:5px;text-align:right;}.pager_advanced{font-size:77%;margin-bottom:5px;margin-top:5px;}.post{padding-top:5px;vertical-align:top;border-left:1px solid #ddd;}.post_created{text-align:right;font-size:85%;}.post_creator{font-weight:bold;font-style:italic;font-si!
 ze:85%;}.post_edited_alert{font-weight:bold;font-style:italic;!
 }.post_i
nfo{font-size:77%;line-height:1.1em;margin-top:10px;margin-bottom:2px;text-align:right;}.post_subject{font-weight:bold;}.quote{background-color:#F9FBFF;border:1px solid #333;font-size:85%;margin:0 0 2px 4px;padding:6px;width:85%;overflow:hidden;}.recently_updated{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.recently_updated td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.reply_post_message{border:1px dashed #666;}.search_match_context{font-size:85%;}.search_results{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.search_results td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.service_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.service_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;pa!
 dding-left:10px;padding-right:10px;}.site_terms{width:80%;margin-left:auto;margin-right:auto;margin-bottom:10px;padding:5px;border:1px solid #666;}.thread_add{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_add td{padding-top:4px;padding-bottom:4px;}.thread_add .input_text{width:450px;margin-left:10px;}.thread_add_topic{text-align:right;padding-right:5px;}.thread_add_message{text-align:right;vertical-align:top;padding-right:5px;}.thread_header{font-weight:bold;background:#666;padding:4px;text-align:left;}.thread_header a{color:#ccc;}.thread_info{margin:0;width:100%;border:none;padding:0;margin-bottom:10px;}.thread_info td{border:none;padding:0;}.thread_lastpost{font-size:85%;text-align:right;}.thread_post_row{border-top:1px solid #ddd;border-bottom:1px solid #ddd;}.thread_post_row td{margin-top:10px;margin-bottom:10px;}.thread_posts{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_recent_forum{float:ri!
 ght;font-size:85%;}.thread_recent_forum a{color:#333;}.thread_!
 reply{fo
nt-size:93%;}.thread_reply tr{vertical-align:top;}.thread_reply td{padding-top:10px;padding-left:10px;}.thread_reply textarea{background-color:transparent;border:2px inset black;}.thread_subject a{font-size:93%;color:#79B30B color:#36C;}.thread_watch{margin-top:5px;font-size:77%;text-align:left;}.top_padded{margin-top:10px;}.topic_creator{display:block;font-size:85%;text-align:right;}.user_login form{width:350px;margin-left:auto;margin-right:auto;margin-top:20px;}.user_login p{margin-top:5px;margin-bottom:5px;}.user_permission_list{margin-left:auto;margin-right:auto;margin-top:15px;font-size:93%;width:100%;}.user_permission_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:150%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.user_permission_list img{vertical-align:middle;}.forum_moderator_list div input{height:150%;}.forum_moderator_list img{vertical-align:middle;}.user_post_info{background:#ccc;background:transparent;font-si!
 ze:77%;margin-left:auto;margin-right:auto;text-align:center;vertical-align:top;width:110px;}a[href $='.jpg']{padding-left:20px;background:transparent url(/static/images/filetypes/image.png) no-repeat center left;}a[href $='.pdf']{padding-left:20px;background:transparent url(/static/images/filetypes/pdf.png) no-repeat center left;}#loader_wait.yui-overlay{position:fixed;float:right;top:10px;right:10px;border:none;text-align:right;}#preview_overlay{border:1px dashed #ccc;text-align:left;padding:0;}#thread_message{font-family:monospace;text-align:left;padding:0;background-color:#eee;font-size:93%;width:450px;}#ysearch{text-align:center;}#ysearchinput{position:static;width:20em;}#ysearchcontainer{text-align:left;width:20em;}.forumcode_code{font-family:monospace;border:1px solid #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;color:#ff0;background-color:#333;border:1px solid #666;white-space:pre;}.forumcode_pre{background-color:transparent;font-!
 family:monospace;border:1px dashed #333;font-size:85%;margin:1!
 5px 20px
 15px 20px;padding:6px;width:85%;overflow:auto;white-space:pre;}.forumcode_quote{background-color:#eee;font-family:monospace;font-style:italic;border:1px dotted #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;}.forumcode_quoting{font-weight:bold;margin-bottom:3px;}.yuimenuitem .disabled{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-navset .yui-nav,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav{border:solid #333;border-width:0 0 5px;Xposition:relative;zoom:1;}.yui-skin-sam .yui-navset .yui-content{background:transparent;}.yui-skin-sam .yui-navset .yui-nav a,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav a{background-image:none;background-color:#999;border:solid #a3a3a3;border-width:0 1px;color:#fff;text-decoration:none;}.yui-skin-sam .yui-navset .yui-nav .selected a,.yui-skin-sam .yui-navset .yui-nav .selected a:focus,.yui-skin-sam .yui-navset .yui-nav .selected a:hover{background:#333;color:#fff;}.yui-skin-sam .yui-navset .yui-nav!
  a:hover,.yui-skin-sam .yui-navset .yui-nav a:focus{background:#666;color:#fff;outline:0;}
\ No newline at end of file

Modified: trunk/root/static/css/parley.css
===================================================================
--- trunk/root/static/css/parley.css	2008-12-16 20:09:31 UTC (rev 983)
+++ trunk/root/static/css/parley.css	2008-12-16 20:09:38 UTC (rev 984)
@@ -91,14 +91,17 @@
 }
 
 /* lists */
-ol li {
-    list-style-type:        decimal;
+ol > li, ul > li {
+    margin-left:            8px;
     list-style-position:    inside;
 }
 
-ul li {
+ol > li {
+    list-style-type:        decimal;
+}
+
+ul > li {
     list-style-type:        disc;
-    list-style-position:    inside;
 }
 
 



From chiselwright at mail.berlios.de  Tue Dec 16 21:09:46 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 16 Dec 2008 21:09:46 +0100
Subject: [Parley-svn] r985 - / trunk/root/base/thread
Message-ID: <200812162009.mBGK9kol016019@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-16 21:09:46 +0100 (Tue, 16 Dec 2008)
New Revision: 985

Modified:
   /
   trunk/root/base/thread/view
Log:
 r8641 at wiggin:  chisel | 2008-12-16 19:31:45 +0000
 + make ip info clickable



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8640
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8641
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/thread/view
===================================================================
--- trunk/root/base/thread/view	2008-12-16 20:09:38 UTC (rev 984)
+++ trunk/root/base/thread/view	2008-12-16 20:09:46 UTC (rev 985)
@@ -107,7 +107,9 @@
                     <br />
                     [% IF post.ip_addr %]
                         [% IF moderator %]
+                        <a href="[%c.uri_for('/site/ip_info',{address=>post.ip_addr})%]">
                             [%l('Posted from [_1]', post.ip_addr)%]
+                        </a>
                         [% ELSE %]
                            [%l('IP Logged')%] 
                         [% END %]



From chiselwright at mail.berlios.de  Tue Dec 16 21:09:54 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 16 Dec 2008 21:09:54 +0100
Subject: [Parley-svn] r986 - / trunk/lib/Parley/View
Message-ID: <200812162009.mBGK9sNF016114@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-16 21:09:54 +0100 (Tue, 16 Dec 2008)
New Revision: 986

Modified:
   /
   trunk/lib/Parley/View/TT.pm
Log:
 r8642 at wiggin:  chisel | 2008-12-16 19:32:22 +0000
 + add perl modeline
 + add: use warnings



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8641
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8642
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley/View/TT.pm
===================================================================
--- trunk/lib/Parley/View/TT.pm	2008-12-16 20:09:46 UTC (rev 985)
+++ trunk/lib/Parley/View/TT.pm	2008-12-16 20:09:54 UTC (rev 986)
@@ -1,6 +1,7 @@
 package Parley::View::TT;
-
+# vim: ts=8 sts=4 et sw=4 sr sta
 use strict;
+use warnings;
 
 use Parley::Version;  our $VERSION = $Parley::VERSION;
 use base 'Catalyst::View::TT';



From chiselwright at mail.berlios.de  Tue Dec 16 21:10:02 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 16 Dec 2008 21:10:02 +0100
Subject: [Parley-svn] r987 - / trunk trunk/lib/Parley/Controller
	trunk/root/base
Message-ID: <200812162010.mBGKA27m016218@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-16 21:10:02 +0100 (Tue, 16 Dec 2008)
New Revision: 987

Modified:
   /
   trunk/Changes
   trunk/lib/Parley/Controller/Root.pm
   trunk/parley.conf
   trunk/root/base/header
Log:
 r8643 at wiggin:  chisel | 2008-12-16 19:33:26 +0000
 + add [beta] template skinning
 / change to #doc4 (not 100% width)



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8642
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8643
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-12-16 20:09:54 UTC (rev 986)
+++ trunk/Changes	2008-12-16 20:10:02 UTC (rev 987)
@@ -9,6 +9,8 @@
     - use HTML::ForumCode for post preview
     - added /forumcode/preview
     - make "Posted from a.b.c.d" a clickable link to site/ip_info
+    - CSS/layout tweaks and improvements
+    - added template skinning [beta]
 
 1.0.2   Thu Oct  9 14:52:26 BST 2008
     - fixed "vanishing '+' symbol" issue in Message Preview

Modified: trunk/lib/Parley/Controller/Root.pm
===================================================================
--- trunk/lib/Parley/Controller/Root.pm	2008-12-16 20:09:54 UTC (rev 986)
+++ trunk/lib/Parley/Controller/Root.pm	2008-12-16 20:10:02 UTC (rev 987)
@@ -283,6 +283,22 @@
 sub render : ActionClass('RenderView') {
     my ($self, $c) = @_;
 
+    # are we skinned?
+    if (defined $c->config->{site_skin}) {
+        # we always want root and "skin dir"
+        my $include_path = [
+            $c->path_to( 'root' ),
+            $c->path_to( 'root', $c->config->{site_skin}),
+        ];
+        # we /might/ want to fall back on the default (base)
+        if ($c->config->{skin_default_fallback}) {
+            push @{$include_path}, 
+                $c->path_to( 'root', 'base' );
+        }
+        # set the INCLUDE_PATH for TT
+        $c->view('TT')->{include_path} = $include_path
+    }
+
     # if we have any error(s) in the stash, automatically show the error page
     if (defined $c->stash->{error}) {
         $c->stash->{template} = 'error/simple';

Modified: trunk/parley.conf
===================================================================
--- trunk/parley.conf	2008-12-16 20:09:54 UTC (rev 986)
+++ trunk/parley.conf	2008-12-16 20:10:02 UTC (rev 987)
@@ -7,6 +7,16 @@
 search_results_per_page     25
 replies_have_own_subject    0
 
+# site skinning
+# the value is:
+#  - the template directory in root/
+#  - the extra CSS file to include *after* the default (if we're faling back
+#    to the default)
+#site_skin                   skin1
+# disable this at your own risk!
+skin_default_fallback       1
+# if you really, really, really, really, don't want the default CSS used
+#skin_default_css            1
 
 # comment out any log levels you don't want to see in your logs
 # 'info' and 'debug' are common choices for suppresing in a live environment
@@ -16,7 +26,6 @@
 log_levels                  error
 log_levels                  fatal
 
-
 # database connection
 <Model::ParleyDB>
     schema_class            Parley::Schema

Modified: trunk/root/base/header
===================================================================
--- trunk/root/base/header	2008-12-16 20:09:54 UTC (rev 986)
+++ trunk/root/base/header	2008-12-16 20:10:02 UTC (rev 987)
@@ -53,13 +53,21 @@
         <!-- homebrew javascript -->
         <script type="text/javascript" src="[%c.uri_for('/static/script/ajax_error_dlg.js')%]"></script>
 
-        <!-- defined styles for parley -->
-        <link type="text/css" rel="stylesheet" title="Simple"
-            href="[%c.uri_for('/static/css/parley-min.css')%]" />
+        [% IF ( (!c.config.site_skin) || (c.config.site_skin && c.config.skin_default_fallback) ) %]
+            [% IF (!c.config.exists('skin_default_css') || c.config.skin_default_css) %]
+            <!-- base styling -->
+            <link type="text/css" rel="stylesheet" title="Simple" href="[%c.uri_for('/static/css/parley-min.css')%]" />
+            [% END %]
+        [% END %]
+        [% IF (skin = c.config.site_skin) %]
+        <!-- Skin : [%skin%] -->
+        <link type="text/css" rel="stylesheet" title="Skin:[%skin%]" href="[%c.uri_for("/static/css/parley-${skin}.css")%]" />
+        [% END %]
+
     </head>
 
     <body class="yui-skin-sam">
-        <div id="doc3">
+        <div id="doc4">
             <div id="hd">
                 <div id="user_information">
                     [% IF authed_user %]



From chiselwright at mail.berlios.de  Mon Dec 22 23:00:16 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 22 Dec 2008 23:00:16 +0100
Subject: [Parley-svn] r988 - / trunk/root/base
Message-ID: <200812222200.mBMM0GiW022367@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-22 23:00:16 +0100 (Mon, 22 Dec 2008)
New Revision: 988

Modified:
   /
   trunk/root/base/header
Log:
 r8652 at wiggin:  chisel | 2008-12-17 09:19:58 +0000
 - remove title attr from additional (skin) CSS so it's actually applied



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8643
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8652
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/root/base/header
===================================================================
--- trunk/root/base/header	2008-12-16 20:10:02 UTC (rev 987)
+++ trunk/root/base/header	2008-12-22 22:00:16 UTC (rev 988)
@@ -56,12 +56,12 @@
         [% IF ( (!c.config.site_skin) || (c.config.site_skin && c.config.skin_default_fallback) ) %]
             [% IF (!c.config.exists('skin_default_css') || c.config.skin_default_css) %]
             <!-- base styling -->
-            <link type="text/css" rel="stylesheet" title="Simple" href="[%c.uri_for('/static/css/parley-min.css')%]" />
+            <link type="text/css" rel="stylesheet" title="Parley" href="[%c.uri_for('/static/css/parley-min.css')%]" />
             [% END %]
         [% END %]
         [% IF (skin = c.config.site_skin) %]
         <!-- Skin : [%skin%] -->
-        <link type="text/css" rel="stylesheet" title="Skin:[%skin%]" href="[%c.uri_for("/static/css/parley-${skin}.css")%]" />
+        <link type="text/css" rel="stylesheet" href="[%c.uri_for("/static/css/parley-${skin}.css")%]" />
         [% END %]
 
     </head>



From chiselwright at mail.berlios.de  Mon Dec 22 23:00:31 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 22 Dec 2008 23:00:31 +0100
Subject: [Parley-svn] r989 - / trunk/root trunk/root/static/css
Message-ID: <200812222200.mBMM0V8O022514@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-22 23:00:30 +0100 (Mon, 22 Dec 2008)
New Revision: 989

Added:
   trunk/root/skin1/
   trunk/root/static/css/parley-skin1.css
Modified:
   /
Log:
 r8653 at wiggin:  chisel | 2008-12-17 09:21:06 +0000
 + added skin1; demonstrating CSS only overriding



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8652
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8653
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: trunk/root/static/css/parley-skin1.css
===================================================================
--- trunk/root/static/css/parley-skin1.css	2008-12-22 22:00:16 UTC (rev 988)
+++ trunk/root/static/css/parley-skin1.css	2008-12-22 22:00:30 UTC (rev 989)
@@ -0,0 +1,11 @@
+/* This is the CSS for "skin1" to override portions of parley-min.css */
+
+body {
+    background-color:   #f0983d;
+    font-family:        fixed;
+    color:              red;
+}
+
+div#ft, div#ft p, div#ft a {
+    background-color:   yellow;
+}



From chiselwright at mail.berlios.de  Mon Dec 22 23:00:47 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 22 Dec 2008 23:00:47 +0100
Subject: [Parley-svn] r990 - / trunk
Message-ID: <200812222200.mBMM0lJX022606@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-22 23:00:47 +0100 (Mon, 22 Dec 2008)
New Revision: 990

Modified:
   /
   trunk/parley.conf
Log:
 r8654 at wiggin:  chisel | 2008-12-22 09:10:12 +0000
 / tweaked skinning config



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8653
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8654
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/parley.conf
===================================================================
--- trunk/parley.conf	2008-12-22 22:00:30 UTC (rev 989)
+++ trunk/parley.conf	2008-12-22 22:00:47 UTC (rev 990)
@@ -16,7 +16,8 @@
 # disable this at your own risk!
 skin_default_fallback       1
 # if you really, really, really, really, don't want the default CSS used
-#skin_default_css            1
+# set this to "0"
+skin_default_css            1
 
 # comment out any log levels you don't want to see in your logs
 # 'info' and 'debug' are common choices for suppresing in a live environment



From chiselwright at mail.berlios.de  Mon Dec 22 23:01:03 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 22 Dec 2008 23:01:03 +0100
Subject: [Parley-svn] r991 - / trunk/root trunk/root/skin2
	trunk/root/skin2/about trunk/root/skin2/error
	trunk/root/skin2/forum trunk/root/skin2/help
	trunk/root/skin2/help/i_default trunk/root/skin2/menu
	trunk/root/skin2/menu/left trunk/root/skin2/my
	trunk/root/skin2/post trunk/root/skin2/search
	trunk/root/skin2/shared trunk/root/skin2/site
	trunk/root/skin2/terms trunk/root/skin2/thread
	trunk/root/skin2/user trunk/root/skin2/user/lostpassword
	trunk/root/skin2/user/signup trunk/root/skin3
	trunk/root/skin3/thread trunk/root/static/css
Message-ID: <200812222201.mBMM137L022717@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-22 23:01:00 +0100 (Mon, 22 Dec 2008)
New Revision: 991

Added:
   trunk/root/skin2/
   trunk/root/skin2/about/
   trunk/root/skin2/about/modules
   trunk/root/skin2/error/
   trunk/root/skin2/error/simple
   trunk/root/skin2/footer
   trunk/root/skin2/forum/
   trunk/root/skin2/forum/list
   trunk/root/skin2/forum/view
   trunk/root/skin2/header
   trunk/root/skin2/help/
   trunk/root/skin2/help/i_default/
   trunk/root/skin2/help/i_default/contents
   trunk/root/skin2/help/i_default/faq
   trunk/root/skin2/help/i_default/formatting_posts
   trunk/root/skin2/help/i_default/wide
   trunk/root/skin2/help/unknown
   trunk/root/skin2/menu/
   trunk/root/skin2/menu/left/
   trunk/root/skin2/menu/left/main
   trunk/root/skin2/menu/menubar
   trunk/root/skin2/menu/statusbar
   trunk/root/skin2/my/
   trunk/root/skin2/my/preferences
   trunk/root/skin2/my/selectplace_ajaxresult
   trunk/root/skin2/my/tab_avatar
   trunk/root/skin2/my/tab_notifications
   trunk/root/skin2/my/tab_time
   trunk/root/skin2/my/tab_watch
   trunk/root/skin2/my/tab_you
   trunk/root/skin2/post/
   trunk/root/skin2/post/edit
   trunk/root/skin2/search/
   trunk/root/skin2/search/forum
   trunk/root/skin2/shared/
   trunk/root/skin2/shared/ajax_dialog
   trunk/root/skin2/shared/autocomplete_style
   trunk/root/skin2/shared/focus_username_js
   trunk/root/skin2/shared/language_dialog
   trunk/root/skin2/shared/loading_please_wait
   trunk/root/skin2/shared/login_dialog
   trunk/root/skin2/shared/moderator_list
   trunk/root/skin2/shared/navigation
   trunk/root/skin2/shared/pager_advanced
   trunk/root/skin2/shared/postinfo_table_row
   trunk/root/skin2/shared/search_dialog
   trunk/root/skin2/shared/small_loading_please_wait
   trunk/root/skin2/shared/thread_watch
   trunk/root/skin2/shared/threadcrumbs
   trunk/root/skin2/shared/useful_tt_stuff
   trunk/root/skin2/shared/user_avatar
   trunk/root/skin2/shared/user_status
   trunk/root/skin2/site/
   trunk/root/skin2/site/ip_bans
   trunk/root/skin2/site/ip_info
   trunk/root/skin2/site/services
   trunk/root/skin2/site/user
   trunk/root/skin2/site/users
   trunk/root/skin2/terms/
   trunk/root/skin2/terms/accept
   trunk/root/skin2/terms/add
   trunk/root/skin2/terms/index
   trunk/root/skin2/thread/
   trunk/root/skin2/thread/add
   trunk/root/skin2/thread/recent
   trunk/root/skin2/thread/reply
   trunk/root/skin2/thread/reply-yuirte
   trunk/root/skin2/thread/view
   trunk/root/skin2/thread/watches
   trunk/root/skin2/user/
   trunk/root/skin2/user/access_ip_banned
   trunk/root/skin2/user/auth_emailed
   trunk/root/skin2/user/auth_success
   trunk/root/skin2/user/login
   trunk/root/skin2/user/login_ip_banned
   trunk/root/skin2/user/lostpassword/
   trunk/root/skin2/user/lostpassword/lost_password
   trunk/root/skin2/user/lostpassword/lost_password_details_sent
   trunk/root/skin2/user/lostpassword/reset
   trunk/root/skin2/user/lostpassword/reset_success
   trunk/root/skin2/user/posting_ip_banned
   trunk/root/skin2/user/profile
   trunk/root/skin2/user/signup/
   trunk/root/skin2/user/signup/signup
   trunk/root/skin2/user/signup_ip_banned
   trunk/root/skin2/user/suspended
   trunk/root/skin3/
   trunk/root/skin3/thread/
   trunk/root/skin3/thread/view
Modified:
   /
   trunk/root/static/css/parley-skin1.css
Log:
 r8655 at wiggin:  chisel | 2008-12-22 09:12:57 +0000
 + skin2: a complete copy of base/ with a change to thread/view
 + skin2: only contains an overriding thread/view template file



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8654
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8655
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: trunk/root/skin2/about/modules
===================================================================
--- trunk/root/skin2/about/modules	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/about/modules	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,39 @@
+
+<h1>Loaded modules with a version number</h1>
+<table>
+[% FOREACH module = loaded_module_data.sort('name') %]
+[% IF module.version && ! (module.version == '-1, set by base.pm') %]
+<tr>
+<td>[% module.name %]</td>
+<td>[% module.version || '<i>undefined</i>' %]</td>
+</tr>
+[% END %]
+[% END %]
+</table>
+
+
+
+<h1>Loaded modules with no version number</h1>
+<table>
+[% FOREACH module = loaded_module_data.sort('name') %]
+[% IF ! module.version %]
+<tr>
+<td>[% module.name %]</td>
+<td>[% module.version || '<i>undefined</i>' %]</td>
+</tr>
+[% END %]
+[% END %]
+</table>
+
+
+<h1>Loaded modules with version set by base.pm</h1>
+<table>
+[% FOREACH module = loaded_module_data.sort('name') %]
+[% IF module.version == '-1, set by base.pm' %]
+<tr>
+<td>[% module.name %]</td>
+<td>[% module.version || '<i>undefined</i>' %]</td>
+</tr>
+[% END %]
+[% END %]
+</table>

Added: trunk/root/skin2/error/simple
===================================================================
--- trunk/root/skin2/error/simple	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/error/simple	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,25 @@
+[% IF error %]
+<h1>[%l('An error has occurred')%]</h1>
+
+<p>
+[%l('The following error message was returned by the application')%]:
+
+<blockquote style="white-space:pre;">[% error.message %]</blockquote>
+</p>
+[% END %]
+
+<!-- offer the user the chance to return somewhere interesting -->
+[% IF current_thread || current_forum %]
+<ul>
+    [% IF current_thread %]
+    [% IF authed_user %]
+    <li>[%l('Continue reading')%]: <a href="thread/next_post?thread=[%current_thread.id%]">[%current_thread.subject%]</a></li>
+    [% END %]
+    <li>[%l('Return to')%]: <a href="thread/view?thread=[%current_thread.id%]">[%current_thread.subject%]</a></li>
+    [% END %]
+
+    [% IF current_forum %]
+    <li>[%l('View all')%] <a href="forum/view?forum=[%current_forum.id%]">[%current_forum.name%]</a> [%l('threads')%]</li>
+    [% END %]
+</ul>
+[% END %]

Added: trunk/root/skin2/footer
===================================================================
--- trunk/root/skin2/footer	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/footer	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,29 @@
+<!-- Footer : Start -->
+            </div><!-- id="bd" -->
+
+            <div id="ft">
+                <p>
+                <a href="http://developer.berlios.de/projects/parley">[%c.config.name%]</a>
+                (version [%c.config.version%])
+                &copy; Chisel Wright 2006-2008. [%l('All Rights Reserved')%].
+                </p>
+            </div><!-- id="ft" -->
+
+            <span style="display: block; float: right; margin-right: 20px; margin-top: 5px;">
+                <a href="http://catalystframework.org"><img
+                    src="static/images/btn_88x31_powered.png"
+                    width="88"
+                    height="31"
+                    alt="Powered By Catalyst"
+                    style="border: none;"
+                    /></a>
+            </span>
+            [% PROCESS shared/search_dialog %]
+            [% PROCESS shared/small_loading_please_wait %]
+            [% PROCESS shared/login_dialog %]
+            [% PROCESS shared/language_dialog %]
+        </div><!-- id="doc3" -->
+    </body>
+</html>
+<!-- Footer : End -->
+

Added: trunk/root/skin2/forum/list
===================================================================
--- trunk/root/skin2/forum/list	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/forum/list	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,46 @@
+<h1>[%l('Forum List')%]</h1>
+
+<table class="forum_list">
+    <tbody>
+        [% WHILE (forum = forum_list.next) %]
+        [% toggler = (1 - (toggler||0)) %]
+        <tr class="row [% row_styles.$toggler %]">
+            <td width="50%">
+                <div class="forum_name">
+                    <a href="[%c.uri_for('/forum/view',{'forum'=>forum.id})%]" class="forum_link">[% HTML.escape(forum.name) %]</a>
+                </div>
+                <div class="forum_description">
+                    [% HTML.escape(forum.description) %]
+                </div>
+            </td>
+            <td width="40%">
+                <div class="forum_lastpost">
+                [% IF forum.last_post %]
+                <div class="forum_lastpost_subject">
+                    <a href="[%c.uri_for('/thread/view',{thread=>forum.last_post.thread_id})%]" class="topic_link">[% HTML.escape(forum.last_post.thread.subject) |truncate(55) %]</a>
+                </div>
+                <div class="topic_creator">
+                    [%l('posted by')%]
+                    [% HTML.escape(forum.last_post.creator.forum_name) %]
+                </div>
+                <div class="topic_lastpost_created">
+                    [% forum.last_post.interval_ago %]
+                    [%l('ago')%]
+                </div>
+                [% ELSE %]
+                <div class="topic_creator">
+                    [%l('No posts')%]
+                </div>
+                [% END %]
+                </div>
+            </td>
+            <td width="10%">
+                <div class="forum_postcount">
+                    [% forum.post_count %]
+                    [%l('posts')%]
+                </div>
+            </td>
+        </tr>
+        [% END %]
+    </tbody>
+</table>

Added: trunk/root/skin2/forum/view
===================================================================
--- trunk/root/skin2/forum/view	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/forum/view	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,30 @@
+<h1>[% current_forum.name %] : List Of Active Threads</h1>
+
+[%- IF thread_list.count > 0 %]
+
+<div style="float:right; font-size: 85%;">
+    <span class="yui-button yui-link-button">
+        <span class="first-child">
+            <a href="[%c.uri_for('/thread/add',{'forum'=>current_forum.id})%]">[%l('Create New Thread')%]</a>
+        </span>
+    </span>
+</div>
+[% PROCESS shared/pager_advanced %]
+
+<table class="forum_view">
+    <tbody>
+        [%- WHILE (thread = thread_list.next) %]
+        [% PROCESS shared/postinfo_table_row %]
+        [% END %]
+        <tr>
+            <td colspan="5">
+                [% PROCESS shared/moderator_list %]
+            </td>
+        </tr>
+    </tbody>
+</table>
+
+[% PROCESS shared/pager_advanced %]
+[% ELSE %]
+  No active threads in this forum
+[% END %]

Added: trunk/root/skin2/header
===================================================================
--- trunk/root/skin2/header	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/header	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,115 @@
+<?xml version="1.0"?>
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+
+[% PROCESS shared/useful_tt_stuff %]
+
+<!-- Header : Start -->
+<html>
+    <head>
+        <base href="[% c.request.base %]" />
+        <title>
+            [% c.config.name %]
+
+            [%# Show version if we're debugging %]
+            [% IF c.debug %]
+            ([% c.config.version %])
+            [% END %]
+
+            [%# Show custom page title if we have one %]
+            [% IF page_title %]
+             : [% page_title %]
+            [%# Show thread name if we have one %]
+            [% ELSIF current_thread %]
+             : [% current_thread.subject %]
+            [%# Show forum name if we have one %]
+            [% ELSIF current_forum %]
+             : [% current_forum.name %]
+            [% END %]
+        </title>
+        <meta name="author" content="Chisel Wright" />
+        <link rel="shortcut icon" href="[% c.request.base %]/favicon.ico" type="image/x-icon" />
+
+        <!-- YUI ajax magick -->
+
+        <!-- CSS -->
+        <link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/fonts/fonts-min.css')%]" />
+        <link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/reset-fonts-grids/reset-fonts-grids.css')%]" />
+
+        <link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/button/assets/skins/sam/button.css')%]" />
+        <link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/container/assets/skins/sam/container.css')%]" />
+        <link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/menu/assets/skins/sam/menu.css')%]" /> 
+        <link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/tabview/assets/skins/sam/tabview.css')%]" />
+        <link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/autocomplete/assets/skins/sam/autocomplete.css')%]" />
+
+        <!-- Dependency source files -->
+        <script type="text/javascript" src="[%c.uri_for('/static/yui/yahoo-dom-event/yahoo-dom-event.js')%]"></script>
+        <script type="text/javascript" src="[%c.uri_for('/static/yui/container/container-min.js')%]"></script>
+        <script type="text/javascript" src="[%c.uri_for('/static/yui/utilities/utilities.js')%]"></script>
+        <script type="text/javascript" src="[%c.uri_for('/static/yui/button/button-min.js')%]"></script>
+        <script type="text/javascript" src="[%c.uri_for('/static/yui/menu/menu-min.js')%]"></script>
+        <script type="text/javascript" src="[%c.uri_for('/static/yui/tabview/tabview-min.js')%]"></script>
+        <script type="text/javascript" src="[%c.uri_for('/static/yui/autocomplete/autocomplete-min.js')%]"></script>
+
+        <!-- homebrew javascript -->
+        <script type="text/javascript" src="[%c.uri_for('/static/script/ajax_error_dlg.js')%]"></script>
+
+        [% IF ( (!c.config.site_skin) || (c.config.site_skin && c.config.skin_default_fallback) ) %]
+            [% IF (!c.config.exists('skin_default_css') || c.config.skin_default_css) %]
+            <!-- base styling -->
+            <link type="text/css" rel="stylesheet" title="Simple" href="[%c.uri_for('/static/css/parley-min.css')%]" />
+            [% END %]
+        [% END %]
+        [% IF (skin = c.config.site_skin) %]
+        <!-- Skin : [%skin%] -->
+        <link type="text/css" rel="stylesheet" title="Skin:[%skin%]" href="[%c.uri_for("/static/css/parley-${skin}.css")%]" />
+        [% END %]
+
+    </head>
+
+    <body class="yui-skin-sam">
+        <div id="doc4">
+            <div id="hd">
+                <div id="user_information">
+                    [% IF authed_user %]
+                    <em>[% authed_user.forum_name %]</em>
+                    [% ELSE %]
+                    <em>[%l('Guest User')%]</em>
+                    [% END %]
+
+                    &nbsp;
+                    <a href="javascript:YAHOO.parley.language.language_dialog.show();">
+                        [% IF (country_code = c.language) %]
+                        <img src="/static/images/icons/flags/[%country_code%].png" width="16" height="11" alt="[%country_code%]" />
+                        [% ELSE %]
+                        <img src="/static/images/icons/flags/gb.png" width="16" height="11" alt="GB" />
+                        [% END %]
+                    </a>
+                    [% IF authed_user %]
+                    <div class="user_info_actions">
+                        [
+                            <a href="[%c.uri_for('/user/logout')%]">[%l('Logout')%]</a>
+                        ]
+                    </div>
+                    [% ELSE %]
+                    <div class="user_info_actions">
+                        [
+                            <a href="javascript:YAHOO.parley.login.login_dialog.show();">[%l('Login')%]</a>
+                        [%l('or')%]
+                            <a href="[%c.uri_for('/user/signup')%]">[%l('Register')%]</a>
+                        ]
+                    </div>
+                    [% END %]
+                </div>
+            </div><!-- id="hd" -->
+
+            <div id="bd">
+                [% PROCESS menu/menubar %]
+
+                [% IF view.error.messages %]
+                <div class="error_messages">
+                    [% FOREACH msg IN view.error.messages %]
+                    [% msg %]<br />
+                    [% END %]
+                </div>
+                [% END %]
+<!-- Header : End -->

Added: trunk/root/skin2/help/i_default/contents
===================================================================
--- trunk/root/skin2/help/i_default/contents	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/help/i_default/contents	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,19 @@
+<h1>Help Contents</h1>
+
+<p>Obviously this page needs a bit more content, but we all have to start
+somewhere.</p>
+
+<h2>General Help</h2>
+<ol start="1">
+<li><a href="help/faq">Frequently Asked Questions</a></li>
+</ol>
+
+<h2>Posting</h2>
+<ol start="2">
+    <li><a href="help/formatting_posts">Adding (ForumCode) formatting to posts</a></li>
+</ol>
+
+<h2>General Information</h2>
+<ol start="3">
+    <li><a href="terms">Terms &amp; Conditions</a></li>
+</ol>

Added: trunk/root/skin2/help/i_default/faq
===================================================================
--- trunk/root/skin2/help/i_default/faq	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/help/i_default/faq	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,81 @@
+<h1>Frequently Asked Questions</h1>
+
+<p>This page should answer common queries and problems.
+If it doesn't you're just being difficult *wink*</p>
+
+<h3>General Questions</h3>
+
+<ol class="help">
+    <li>
+    <b>Does the world need another piece of forum/message board software?</b>
+    <br />
+    <em>
+    Possibly not. This is a personal quest for me. If it's useful to someone
+    else that's even better.<br />
+    I've always thought that the Perl landscape was missing a well-written
+    and functional forum application.<br />
+    Add to that the emergence of the
+    <a href="http://catalystframework.org/">Catalyst framework</a>
+    and a desire to explore the benefits of this project and you've got Parley.
+    </em>
+    </li>
+</ol>
+
+<h3>Technical Questions</h3>
+
+<ol class="help">
+    <li>
+    <b>What software does this forum run on?</b>
+    <br />
+    <em>
+    The core elements of the application are:
+    <a href="http://perl.com/">Perl</a>,
+    <a href="http://postgresql.org/">PostgreSQL</a>
+    and
+    <a href="http://template-toolkit.org/">Template Toolkit</a>.
+    These elements are all tied together using the
+    <a href="http://catalystframework.org/">Catalyst framework</a>.
+    </em>
+    </li>
+
+    <li>
+    <b>PostgreSQL?! What about MySQL, SQLite, ...?</b>
+    <br />
+    <em>
+    I prefer PostgreSQL. I don't have the time or energy to make the application
+    compatible with everyone's preferred database. I'll happily accept patches
+    that don't break the application's coupling with PostgreSQL.
+    </em>
+    </li>
+
+    <li>
+    <b>How do I get my own copy?</b>
+    <br />
+    <em>
+    You can download releases of Parley from Berlios. Just visit the
+    <a href="http://developer.berlios.de/projects/parley/">Parley Project
+    Page</a>.
+    </em>
+    </li>
+
+    <li>
+    <b>How much does it cost?</b>
+    <br />
+    <em>
+    Other than your time and effort, it's <i>free</i>. The project has been
+    written and released under the
+    <a href="http://www.opensource.org/licenses/artistic-license.php">Artistic License</a>.
+    </em>
+    </li>
+
+    <li>
+    <b>Why is it taking you so long?</b>
+    <br />
+    <em>
+    Parley is my "commuting project". Ninety-five percent of the work on the
+    project has taken place on my commute to work. That's two forty-five
+    minute train journeys [it's really hard to operate a laptop whilst cycling
+    the remainder of the journey!] each day!
+    </em>
+    </li>
+</ol>

Added: trunk/root/skin2/help/i_default/formatting_posts
===================================================================
--- trunk/root/skin2/help/i_default/formatting_posts	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/help/i_default/formatting_posts	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,242 @@
+<h1>Formatting Posts</h1>
+
+<p>Allowing raw HTML markup in posts leads to a very special
+world of pain. With that in mind a form of markup inspired by
+<a href="http://www.phpbb.com/community/faq.php?mode=bbcode">BBCode</a>
+was developed for this project. As it's
+not an identical implementation of BBCode it has it's own name
+- <i>ForumCode</i></p>
+
+<h2>Simple Formatting</h2>
+
+<h3>Bold, Italic and Underline</h3>
+<ul class="help">
+    <li>
+        To make a section of text appear in <b>bold</b> use
+        <code>[b]...[/b]</code>:
+        <br />
+        <em>e.g.</em>
+        <br />
+        <q><code>[b]This is bold text[/b]</code></q>
+        produces
+        [% ForumCode.forumcode('[b]This is bold text[/b]') %]
+    </li>
+    <li>
+        To make a section of text appear in <em>italics</em> use
+        <code>[i]...[/i]</code>:
+        <br />
+        <em>e.g.</em>
+        <br />
+        <q><code>[i]This is emphasised text[/i]</code></q>
+        produces
+        [% ForumCode.forumcode('[i]This is emphasised text[/i]') %]
+    </li>
+    <li>
+        To make a section of text appear <em>underlined</em> use
+        <code>[u]...[/u]</code>:
+        <br />
+        <em>e.g.</em>
+        <br />
+        <q><code>[u]This is emphasised text[/u]</code></q>
+        produces
+        [% ForumCode.forumcode('[u]This is underlined text[/u]') %]
+    </li>
+</ul>
+
+<h3>Making Lists</h3>
+<p>There are two types of list, ordered - the items are numbered, and unordered - the
+items are bulleted. Lists are always enclosed by <code>[list]...[/list]</code> markers.
+The type of list you create is dependant on whether you use <code>[1]</code> or <code>[*]</code>
+for list items.
+</p>
+<ul class="help">
+    <li>
+        To create an <em>ordered list</em> use <code>[1]</code>
+        to mark list items.
+        <br />
+        <em>e.g.</em>
+        <br />
+        <q><code>[list]<br />
+                [1]first<br />
+                [1]second<br />
+                [1]third<br />
+        [/list]</code></q>
+        <br />
+        produces:
+        [% ForumCode.forumcode('[list]
+        [1]first
+        [1]second
+        [1]third
+        [/list]') %]
+    </li>
+    <li>
+        To create an <em>unordered list</em> use <code>[*]</code>
+        to mark list items.
+        <br />
+        <em>e.g.</em>
+        <br />
+        <q><code>[list]<br />
+                [*]apple<br />
+                [*]orange<br />
+                [*]banana<br />
+        [/list]</code></q>
+        <br />
+        produces:
+        [% ForumCode.forumcode('[list]
+        [*]apple
+        [*]orange
+        [*]banana
+        [/list]') %]
+    </li>
+</ul>
+<p><b>NOTE:</b> Separating elements with line-breaks is required.
+<q><code>[list] [*]apple [*]orange [*]banana [/list]</code></q> will output:<br />
+[% ForumCode.forumcode('[list] [*]apple [*]orange [*]banana [/list]') %]
+</p>
+
+<h3>Blocks and quoting</h3>
+<p>At times it can be useful to have blocks in a post that stand out in some
+way, or are a fixed width font - for posting code examples. This is where
+[pre]...[/pre], [code]...[/code] and [quote]...[/quote] come into play.</p>
+
+<ul class="help">
+    <li>
+        To mark a block of code as 'preformatted' use
+        <code>[pre]...[/pre]</code>:
+        <br />
+        <em>e.g.</em>
+        <br />
+        <q><code>[pre]Something interesting[/pre]</code></q>
+        produces
+        [% ForumCode.forumcode('[pre]Something interesting[/pre]') %]
+    </li>
+    <li>
+        To mark a block of code as 'code' use
+        <code>[code]...[/code]</code>:
+        <br />
+        <em>e.g.</em>
+        <br />
+        <q><code>[code]my $tt_forum  = Template::Plugin::ForumCode->new();[/code]</code></q>
+        produces
+        [% ForumCode.forumcode('[code]my $tt_forum  = Template::Plugin::ForumCode->new();[/code]') %]
+    </li>
+    <li>
+        To mark a block of code as 'quoted' use
+        <code>[quote]...[/quote]</code>:
+        <br />
+        <em>e.g.</em>
+        <br />
+        <q><code>[quote]Something someone said in an earlier post[/quote]</code></q>
+        produces
+        [% ForumCode.forumcode('[quote]Something someone said in an earlier post[/quote]') %]
+    </li>
+    <li>To specify the author of the quoted block use
+        <code>[quote quoting="name"]...[/quote]</code>:
+        <br />
+        <em>e.g.</em>
+        <br />
+        <q><code>[quote quoting="Chisel"]Something Chisel said in an earlier post[/quote]</code></q>
+        produces
+        [% ForumCode.forumcode('[quote quoting="Chisel"]Something Chisel said in an earlier post[/quote]') %]
+    </li>
+</ul>
+
+<h3>Linking to external resources</h3>
+<p>The forum software does NOT automatically hunt out all text resembling URLs
+to turn them into clickable links. If you want a clickable link in a post
+you need to use the [url]...[/url] code:</p>
+<ul class="help">
+    <li>
+        To make a URL appear as a clickable link use
+        <code>[url]http://...[/url]</code>:
+        <br />
+        <em>e.g.</em>
+        <br />
+        <q><code>[url]http://google.com/[/url]</code></q>
+        produces
+        [% ForumCode.forumcode('[url]http://google.com/[/url]') %]
+    </li>
+</ul>
+
+<p>You may also make a section of text appear as a named link by
+using the "name=..." attribute in the code block:</p>
+<ul class="help">
+    <li>
+        To make a URL appear as a names clickable link use
+        <code>[url <em>name="XXX"</em>]http://...[/url]</code>:
+        <br />
+        <em>e.g.</em>
+        <br />
+        <q><code>[url name="Google"]http://google.com/[/url]</code></q>
+        produces
+        [% ForumCode.forumcode('[url name="Google"]http://google.com/[/url]') %]
+    </li>
+</ul>
+
+<p>As well as inserting clickable links, you may also insert images into posts.</p>
+<ul class="help">
+    <li>
+        To make an image appear in a posting use
+        <code>[img]...[/img]</code>:
+        <br />
+        <em>e.g.</em>
+        <br />
+        <q><code>[img][%c.request.base%]static/images/btn_88x31_powered.png[/img]</code></q>
+        produces
+        <br />
+        [% ForumCode.forumcode("[img]${c.request.base}static/images/btn_88x31_powered.png[/img]") %]
+    </li>
+    <li>
+        You may also include extra attributes such as
+        <code>title=</code>, <code>alt=</code>, etc.
+        Research the HTML
+        <a href="http://www.w3schools.com/tags/tag_img.asp">&lt;img&gt; tag</a>
+        for the full list of attributes.
+        <br />
+        <q><code>[img title='Powered by Catalyst' width='50'][%c.request.base%]static/images/btn_88x31_powered.png[/img]</code></q>
+        produces
+        <br />
+        [% ForumCode.forumcode("[img title='Powered by Catalyst' width='50']${c.request.base}static/images/btn_88x31_powered.png[/img]") %]
+    </li>
+</ul>
+
+<h3>Colouring</h3>
+<p>One surefire way to annoy people to the point where they'd like to remove
+your internal organs with a spoon is to use lots of unnecessary colours in your posts.
+The ForumCode to invoke this reaction is
+<code>[colour=<em>code</em>]...[/colour]</code>. In the spirit of furthering international
+relations, those of you with a preference for American spellings may use <code>[color=<em>code</em>]...[/color]</code>.
+</p>
+<p><code><em>code</em></code> can be any of the following: red, orange, yellow, green, blue, black, white.</p>
+<p><code><em>code</em></code> can also be any #RGB or #RRGGBB HTML colour values.</p>
+
+<em>e.g.</em>
+<ul class="help">
+    <li>
+        <q><code>[colour=red]Red Text[/colour]</code></q>
+        produces
+        [% ForumCode.forumcode('[colour=red]Red Text[/colour]') %]
+    </li>
+    <li>
+        <q><code>[colour=#f00]Red Text[/colour]</code></q>
+        produces
+        [% ForumCode.forumcode('[colour=#f00]Red Text[/colour]') %]
+    </li>
+    <li>
+        <q><code>[colour=#ff0000]Red Text[/colour]</code></q>
+        produces
+        [% ForumCode.forumcode('[colour=#ff0000]Red Text[/colour]') %]
+    </li>
+    <li>
+        <q><code>[colour=blue]Blue Text[/colour]</code></q>
+        produces
+        [% ForumCode.forumcode('[colour=blue]Blue Text[/colour]') %]
+    </li>
+    <li>
+        <q><code>[colour=white]White Text[/colour]</code></q>
+        produces
+        [% ForumCode.forumcode('[colour=white]White Text[/colour]') %]
+        <br />(usually white-on-white text, useful for novice spies; highlight the
+        line to see the white-on-white text)
+    </li>
+</ul>

Added: trunk/root/skin2/help/i_default/wide
===================================================================
--- trunk/root/skin2/help/i_default/wide	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/help/i_default/wide	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,10 @@
+<style type="text/css">
+    .not_wide {
+        border:     3px groove blue;
+        overflow:   auto;
+        max-width:  95%;
+    }
+</style>
+
+
+<img src="http://localhost/images/davina.jpg" class="not_wide" />

Added: trunk/root/skin2/help/unknown
===================================================================
--- trunk/root/skin2/help/unknown	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/help/unknown	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,7 @@
+<h1>Help Item Not Found</h1>
+
+<p><i>[% template_name %]</i> doesn't relate to a known
+page in the help system.</p>
+
+<p>See if you can find what you want from the
+<a href="help">contents</a> page.</p>

Added: trunk/root/skin2/menu/left/main
===================================================================
--- trunk/root/skin2/menu/left/main	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/menu/left/main	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,22 @@
+<p>
+    <!-- General Stuff -->
+    <a href="thread/recent">Recent Threads</a>
+</p>
+
+<p>
+    <!-- My -->
+
+    <!-- Preferences -->
+    <a href="my/preferences">Preferences</a>
+</p>
+
+<p>
+    <!-- Admin -->
+    <a href="admin">Admin</a>
+</p>
+
+<p>
+    <!-- Searching -->
+    <a href="javascript:;" onclick="search_dialog.show(); return false;">Search</a>
+    [% INCLUDE shared/search_dialog %]
+</p>

Added: trunk/root/skin2/menu/menubar
===================================================================
--- trunk/root/skin2/menu/menubar	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/menu/menubar	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,157 @@
+<!-- menubar (YUI) -->
+[%- IF NOT current_forum  %][% SET  forum_disabled=' disabled' %][% END %]
+[%- IF NOT current_thread %][% SET thread_disabled=' disabled' %][% END %]
+<!-- Page-specific script -->
+<script type="text/javascript">
+    // Initialize and render the menu bar when it is available in the DOM
+    YAHOO.util.Event.onContentReady("parley_navbar", function () { var
+    oMenuBar = new YAHOO.widget.MenuBar("parley_navbar", { autosubmenudisplay: false, hidedelay: 250, lazyload: true }); oMenuBar.render();
+    });
+</script>
+
+<!-- start: stack grids here -->
+<div id="parley_navbar" class="yuimenubar yuimenubarnav">
+    <div class="bd">
+        <ul class="first-of-type">
+            <li class="yuimenubaritem first-of-type"><a class="yuimenubaritemlabel" href="#">[%l('Go')%]</a>
+                <div id="menu_go" class="yuimenu">
+                    <div class="bd">                                        
+                        <ul>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="[%c.request.base%]">[%l('Main Page')%]</a></li>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="[%c.request.base%]forum/list">[%l('Forum Summary')%]</a></li>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="[%c.request.base%]thread/recent">[%l('Recently Updated Threads')%]</a></li>
+                        </ul>
+
+                        <ul>
+                            [% WHILE (forum = available_forums.next) %]
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="forum/view?forum=[%forum.id%]">[% forum.name %]</a></li>
+                            [% END %]
+                        </ul>
+                    </div>
+                </div>                                        
+            </li>
+            <li class="yuimenubaritem"><a class="yuimenubaritemlabel" href="#">[%l('Forum')%]</a>
+                <div id="menu_forum" class="yuimenu">
+                    <div class="bd">                                        
+                        [% IF current_forum %]
+                        <h6 class="first-of-type">[% ForumCode.escape(current_forum.name) %]</h6>
+                        [% END %]
+                        <ul>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel[%forum_disabled%]" href="[%IF forum_disabled%]#[%ELSE%]forum/view?forum=[%current_forum.id%][%END%]">[%l('View Threads')%]</a></li>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel[%forum_disabled%]" href="[%IF forum_disabled%]#[%ELSE%]thread/add?forum=[%current_forum.id%][%END%]">[%l('Create New Thread')%]</a></li>
+                        </ul>
+                    </div>
+                </div>                                        
+            </li>
+            <li class="yuimenubaritem"><a class="yuimenubaritemlabel" href="#">[%l('Thread')%]</a>
+                <div id="menu_thread" class="yuimenu">
+                    <div class="bd">                                        
+                        [% IF current_thread %]
+                        <h6 class="first-of-type">[%ForumCode.escape(current_thread.subject)|truncate(25)%]</h6>
+                        [% END %]
+                        <ul>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel[%thread_disabled%]" href="[%IF thread_disabled%]#[%ELSE%]thread/reply?thread=[%current_thread.id%][%END%]">[%l('Add Reply')%]</a></li>
+                            [%- IF watching_thread %]
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel[%thread_disabled%]" href="[%IF thread_disabled%]#[%ELSE%]thread/watch?thread=[%current_thread.id%]&amp;page=[%page.current_page%]&amp;watch=0[%END%]">[%l('Remove Watch')%]</a></li>
+                            [%- ELSE %]
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel[%thread_disabled%]" href="[%IF thread_disabled%]#[%ELSE%]thread/watch?thread=[%current_thread.id%]&amp;page=[%page.current_page%]&amp;watch=1[%END%]">[%l('Add Watch')%]</a></li>
+                            [%- END %]
+                        </ul>
+                        <ul>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel[%forum_disabled%]" href="[%IF forum_disabled%]#[%ELSE%]thread/add?forum=[%current_forum.id%][%END%]">[%l('Create New Thread')%]</a></li>
+                        </ul>
+                    </div>
+                </div>
+            </li>
+
+            <li class="yuimenubaritem"><a class="yuimenubaritemlabel" href="javascript:YAHOO.parley.search.search_dialog.show();">[%l('Search')%]</a>
+            </li>
+
+            <li class="yuimenubaritem"><a class="yuimenubaritemlabel" href="#">[%l('Me')%]</a>
+                <div id="menu_my" class="yuimenu">
+                    <div class="bd">                                        
+                        [% IF authed_user %]
+                        <ul>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="my/preferences">[%l('My Preferences')%]</a></li>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="thread/watches">[%l('My Watched Threads')%]</a></li>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="user/profile?user=[%authed_user.id%]">[%l('My Profile')%]</a></li>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="user/logout">[%l('Logout')%]</a></li>
+                        </ul>
+                        [% ELSE %]
+                        <ul>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="javascript:YAHOO.parley.login.login_dialog.show();">[%l('Login')%]</a></li>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="user/signup">[%l('Register')%]</a></li>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="user/password/forgotten">[%l('Password Reminder')%]</a></li>
+                        </ul>
+                        [% END %]
+                    </div>
+                </div>                                        
+            </li>
+            [% IF moderator %]
+            <li class="yuimenubaritem"><a class="yuimenubaritemlabel" href="#">[%l('Moderate')%]</a>
+                <div id="menu_moderate" class="yuimenu">
+                    <div class="bd">                                        
+                        <ul>
+                            [% IF current_thread.locked %]
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="admin/lock?thread=[%current_thread.id%]&amp;lock=0">[%l('Unlock Thread')%]</a></li>
+                            [% ELSE %]
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="admin/lock?thread=[%current_thread.id%]&amp;lock=1">[%l('Lock Thread')%]</a></li>
+                            [% END %]
+
+                            [% IF current_thread.sticky %]
+                            <li class="yuimenuitem"><a
+                            class="yuimenuitemlabel" href="admin/sticky?thread=[%current_thread.id%]&amp;sticky=0">[%l('Unstick Thread')%]</a></li>
+                            [% ELSE %]
+                            <li class="yuimenuitem"><a
+                            class="yuimenuitemlabel" href="admin/sticky?thread=[%current_thread.id%]&amp;sticky=1">[%l('Stick Thread')%]</a></li>
+                            [% END %]
+                        </ul>
+                    </div>
+                </div>                                        
+            </li>
+            [% END %]
+            [% IF authed_user.can_view_site_menu %]
+            <li class="yuimenubaritem"><a class="yuimenubaritemlabel" href="#">[%l('Site')%]</a>
+                <div id="menu_site_moderate" class="yuimenu">
+                    <div class="bd">                                        
+                        <ul>
+                            [% IF authed_user.is_site_moderator %]
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="terms/add">[%l('Add T-and-Cs')%]</a></li>
+                            [% END %]
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="#">[%l('Manage')%]</a>
+                                <div id="site" class="yuimenu">
+                                    <div class="bd">
+                                        <ul class="first-of-type">
+                                            [% IF authed_user.is_site_moderator %]
+                                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="site/services">[%l('Services')%]</a></li>
+                                            [% END %]
+                                            [% IF authed_user.is_site_moderator %]
+                                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="site/users">[%l('Users')%]</a></li>
+                                            [% END %]
+                                            [% IF authed_user.can_ip_ban %]
+                                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="site/ip_bans">[%l('IP Bans')%]</a></li>
+                                            [% END %]
+                                        </ul>            
+                                    </div>
+                                </div>                    
+                            </li>
+                        </ul>
+                    </div>
+                </div>                                        
+            </li>
+            [% END %]
+            <li class="yuimenubaritem"><a class="yuimenubaritemlabel" href="#">[%l('Help')%]</a>
+                <div id="menu_help" class="yuimenu">
+                    <div class="bd">                                        
+                        <ul>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="help">[%l('Contents')%]</a></li>
+                        </ul>
+                        <ul>
+                            <li class="yuimenuitem"><a class="yuimenuitemlabel" href="terms">[%l('Terms and Conditions')%]</a></li>
+                        </ul>
+                    </div>
+                </div>                                        
+            </li>
+        </ul>            
+    </div>
+</div>

Added: trunk/root/skin2/menu/statusbar
===================================================================
--- trunk/root/skin2/menu/statusbar	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/menu/statusbar	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,44 @@
+<!-- status bar : start -->
+
+<table width="100%">
+        <tr>
+                <td width="60%" class="left">
+                    <a href="forum/list">Home</a>
+                    [% IF current_forum %]
+                      &raquo;
+                      <a href="forum/view?forum=[% current_forum.id %]">[% current_forum.name %]</a>
+                      [% IF current_thread %]
+                        &raquo;
+                        <a href="thread/view?thread=[% current_thread.id %]">[% ForumCode.escape(current_thread.subject) %]</a>
+                      [% END %]
+                    [% END %]
+                </td>
+
+                <td width="40%" class="right">
+                        [% IF (authed_user) %]
+                        Logged in as <b>[% authed_user.first_name %] [% authed_user.last_name %]</b>
+                        [% UNLESS authed_user.authentication.authenticated %]
+                        (<b><i>Not Authenticated</i></b>)
+                        [% END %]
+                        <i>[
+                                <a href="user/logout">Logout</a>
+                        ]</i>
+                        [% ELSE %]
+            <i>[
+            <a href="javascript:;" onclick="login_dialog.show(); return false;">Login</a>
+            |
+            <a href="user/signup">Signup</a>
+            ]</i>
+                        [% END %] [%# authed_user end %]
+
+
+                </td>
+
+                <td>
+                </td>
+        </tr>
+</table>
+
+[% INCLUDE shared/login_dialog %]
+
+<!-- status bar : end -->

Added: trunk/root/skin2/my/preferences
===================================================================
--- trunk/root/skin2/my/preferences	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/my/preferences	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,46 @@
+<h1>[%l('Your Preferences')%]</h1>
+
+[% IF view.error.message %]
+<div class="error_feedback">
+    [% view.error.message %]
+    <ul>
+        [% FOREACH message IN view.error.messages %]
+            <li>[% message %]</li>
+        [% END %]
+    </ul>
+</div>
+[% END %]
+
+<div id="tabbed_prefs" class="yui-navset" style="max-width: 80%; margin-left: auto; margin-right: auto;">
+    [% tab_info = [
+            { label => l('Your Details'),       tab_name => 'tab_you' },
+            { label => l('Time'),               tab_name => 'tab_time' },
+            { label => l('Notifications'),      tab_name => 'tab_notifications' },
+            { label => l('Avatar'),             tab_name => 'tab_avatar' },
+       ]
+    %]
+    [% SET selected_tab = c.flash.show_pref_tab || 'tab_you' %]
+
+    <ul class="yui-nav">
+    [% FOR tab IN tab_info %]
+        <li[% IF tab.tab_name == selected_tab %] class="selected"[%END%]><a href="#[% tab.tab_name %]"><em>[% tab.label %]</em></a></li>
+    [% END %]
+    </ul>            
+
+    <div class="yui-content" style="min-height: 200px;">
+    [% FOR tab IN tab_info %]
+        <div id="[% tab.tab_name %]"><p>[% PROCESS "my/${tab.tab_name}" %]</p></div>
+    [% END %]
+    </div>
+</div>
+<script type="text/javascript">
+    var tabView = new YAHOO.widget.TabView('tabbed_prefs');
+</script>
+
+[% IF c.session.my_pref_came_from %]
+<p>
+<a href="[% c.session.my_pref_came_from %]">[%l('Return to the forum')%]</a>
+</p>
+[% ELSE %]
+<p>&nbsp;</p>
+[% END %]

Added: trunk/root/skin2/my/selectplace_ajaxresult
===================================================================
--- trunk/root/skin2/my/selectplace_ajaxresult	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/my/selectplace_ajaxresult	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,5 @@
+<select id="[% select.id %]" name="[% select.id %]">
+  [% FOREACH item=select.items %]
+  <option value="[% item %]">[% item %]</option>
+  [% END %]
+</select>

Added: trunk/root/skin2/my/tab_avatar
===================================================================
--- trunk/root/skin2/my/tab_avatar	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/my/tab_avatar	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,25 @@
+<!-- preferences : tab_you -->
+<form action="my/preferences/update" method="post" enctype="multipart/form-data">
+    <input type="hidden" name="form_name" value="user_avatar">
+
+    <div style="background-color:#ccc;margin-top:5px;margin-bottom:5px;">
+        &nbsp;
+    </div>
+
+
+    <div class="yui-gf top_padded">
+        <div class="yui-u first align_right">
+            [% INCLUDE shared/user_avatar person=authed_user %]
+        </div>
+        <div class="yui-u">
+            <div>
+                [%l('CHANGE AVATAR')%]:
+            </div>
+            <div class="top_padded">
+                <input type="file" id="avatar_file" name="avatar_file" />
+                <input type="submit" value="[%l('Upload')%]""/>
+            </div>
+        </div>
+    </div>
+</form>
+<!-- (end) preferences : tab_you -->

Added: trunk/root/skin2/my/tab_notifications
===================================================================
--- trunk/root/skin2/my/tab_notifications	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/my/tab_notifications	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,39 @@
+<!-- preferences : notification tab -->
+<form action="my/preferences/update" method="POST" name="notifications">
+    <input type="hidden" name="form_name" value="notifications">
+
+    <div style="background-color:#ccc;margin-top:5px;margin-bottom:5px;">
+        &nbsp;
+    </div>
+
+
+    <div class="yui-gf top_padded">
+        <div class="yui-u first align_right">
+            <input type="checkbox" name="watch_on_post" value="1" [% IF authed_user.preference.watch_on_post %]checked="checked" [% END %] />
+        </div>
+        <div class="yui-u">
+            &nbsp;
+            [%l('PREFS ADD WATCHES')%] 
+        </div>
+    </div>
+
+    <div class="yui-gf top_padded">
+        <div class="yui-u first align_right">
+            <input type="checkbox" name="notify_thread_watch" value="1" [% IF authed_user.preference.notify_thread_watch %]checked="checked" [% END %] />
+        </div>
+        <div class="yui-u">
+            &nbsp;
+            [%l('PREFS EMAIL NOTIFICATION')%] 
+        </div>
+    </div>
+
+    <div class="yui-gf top_padded">
+        <div class="yui-u first align_right">
+            &nbsp;
+        </div>
+        <div class="yui-u">
+            <input type="submit" value="[%l('Update')%]" name="update" class="input_button" />
+        </div>
+    </div>
+</form>
+<!-- (end) preferences : notification tab -->

Added: trunk/root/skin2/my/tab_time
===================================================================
--- trunk/root/skin2/my/tab_time	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/my/tab_time	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,106 @@
+<!-- preferences : time tab -->
+
+    <div style="background-color:#ccc;margin-top:5px;margin-bottom:5px;">
+        &nbsp;
+    </div>
+<div class="top_padded">
+    [%l('PREFS DESIRED LOCATION')%]
+</div>
+
+    <div style="background-color:#ccc;margin-top:5px;margin-bottom:5px;">
+        &nbsp;
+    </div>
+
+<form action="my/preferences/update" method="POST" name="time_format">
+    <input type="hidden" name="form_name" value="time_format">
+
+    [% IF tz_message %]
+    <!-- Message to user -->
+    <div>
+        <b><i>[% tz_message %]</i></b>
+    </div>
+    [% END %]
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <select id="selectZone" name="selectZone">
+                <option value="">[ [%l('Select Zone')%] ]</option>
+                [% FOREACH item=tz_categories %]
+                <option value="[% item %]">[% item %]</option>
+                [% END %]
+            </select>
+        </div>
+        <div class="yui-u align_right">
+            <label for="use_utc">[%l('Use UTC')%]</label>
+            <input type="checkbox" id="use_utc" name="use_utc" value="1" onChange="toggle_timezone_menus(this)"/>
+        </div>
+        <div class="yui-u align_right">
+            &nbsp;
+        </div>
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <select id="time_format" name="time_format" style="text-align: center;">
+                <option value="">([%l('Default')%])</option>
+                [% WHILE (tf = time_formats.next) %]
+                <option value="[% tf.id %]">[% tf.sample %]</option>
+                [% END %]
+            </select>
+        </div>
+        <div class="yui-u align_right">
+            <label for="show_tz">[%l('Show timezone')%]</label>
+            <input type="checkbox" id="show_tz" name="show_tz" value="1" />
+        </div>
+        <div class="yui-u align_right">
+            &nbsp;
+        </div>
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            [%l('Time formatting example')%]:
+        </div>
+        <div class="yui-u align_right">
+            <i>[% nicedate(current_time) %]</i>
+        </div>
+        <div class="yui-u align_right">
+            &nbsp;
+        </div>
+    </div>
+
+    <div style="background-color:#ccc;margin-top:5px;margin-bottom:5px;">
+        &nbsp;
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            &nbsp;
+        </div>
+        <div class="yui-u">
+            <input type="submit" value="[%l('Update')%]" name="update" class="input_button" />
+        </div>
+        <div class="yui-u align_right">
+            &nbsp;
+        </div>
+    </div>
+</form>
+
+<script language="JavaScript" type="text/javascript">
+<!-- Begin
+
+    function toggle_timezone_menus(checkbox) {
+        var zone_menu   = document.getElementById('selectZone');
+        //var place_menu  = document.getElementById('selectPlace');
+
+        zone_menu.disabled  = checkbox.checked;
+        //place_menu.disabled = checkbox.checked;
+    }
+
+    // we want to make sure the menus are disabled if they need to be
+    var use_utc_cbox = document.getElementById('use_utc');
+    toggle_timezone_menus(use_utc_cbox);
+    
+// End -->
+</script>
+<!-- (end) preferences : time tab -->

Added: trunk/root/skin2/my/tab_watch
===================================================================
--- trunk/root/skin2/my/tab_watch	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/my/tab_watch	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,56 @@
+[% IF thread_watches > 0 %]
+    <table class="thread_watches">
+        <tbody>
+            <tr>
+                <th style="width:14px;">&nbsp;</th>
+                <th>[%l('Subject')%]</th>
+                <th>[%l('Last Modified')%]</th>
+                <th>[%l('Last Viewed')%]</th>
+            [% WHILE (watch = thread_watches.next) %]
+            [% thread = watch.thread %]
+            <tr>
+                <td style="width:14px;">
+                    [% IF (thread.last_post.created > watch.timestamp) %]
+                    <img src="static/images/unread_posts.gif" width="12" height="12" alt="[%l('Unread posts')%]" title="[%l('Unread posts')%]" />
+                    [% ELSE %]
+                    &nbsp;
+                    [% END %]
+                </td>
+                <td style="vertical-align: top;">
+                    <a href="thread/view?thread=[% thread.id %]">
+                    [% ForumCode.escape(watch.thread.subject) %]
+                    </a>
+                    <br />
+                    <span class="forum_mini_pager">
+                        [%- IF authed_user || mini_pager %]
+                        [
+                            [%- IF authed_user %]
+                            <a href="thread/next_post?thread=[% thread.id %]">[%l('Continue')%]</a>
+                            [%- END %]
+                        ]
+                        [%- END %]
+                    </span>
+                </td>
+
+                <td style="vertical-align: top;">
+                    [% nicedate(thread.last_post.created) %]
+                    <br />
+                    <span class="topic_creator"[%l('last post by')%]>
+                    <span class="post_creator">[% thread.last_post.creator.forum_name %]</span>
+                    </span>
+                </td>
+
+                <td style="vertical-align: top;">
+                    [% nicedate(watch.timestamp) %]
+                    <br />
+                    [% IF (thread.last_post.created > watch.timestamp) %]
+                    <span class="topic_creator">[%l('Unread posts')%]</span>
+                    [% END %]
+                </td>
+            </tr>
+            [% END %]
+        </tbody>
+    </table>
+[% ELSE %]
+    <p>[%l('You are not watching any threads')%]</p>
+[% END %]

Added: trunk/root/skin2/my/tab_you
===================================================================
--- trunk/root/skin2/my/tab_you	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/my/tab_you	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,98 @@
+<!-- preferences : tab_you -->
+<div class="yui-gd top_padded">
+    <div class="yui-u first align_right">
+        &nbsp;
+    </div>
+    <div id="result" class="yui-u">
+        &nbsp;
+    </div>
+</div>
+
+<div class="yui-gd top_padded">
+    <div class="yui-u first align_right">
+        [%l('First Name')%]:
+    </div>
+    <div class="yui-u">
+        <span id="FirstName" name="First name" class="editable">[%authed_user.first_name%]</span>
+    </div>
+</div>
+
+<div class="yui-gd top_padded">
+    <div class="yui-u first align_right">
+        [%l('Last Name')%]:
+    </div>
+    <div class="yui-u">
+        <span id="LastName" class="editable">[% authed_user.last_name %]</span>
+    </div>
+</div>
+
+<div class="yui-gd top_padded">
+    <div class="yui-u first align_right">
+        [%l('Forum Name')%]:
+    </div>
+    <div class="yui-u">
+        <span id="ForumName" class="editable">[% authed_user.forum_name %]</span>
+    </div>
+</div>
+
+<div class="yui-gd top_padded">
+    <div class="yui-u first align_right">
+        [%l('Email Address')%]:
+    </div>
+    <div class="yui-u">
+        <span id="EmailAddress" name="EmailAddress">[% authed_user.email %]</span>
+    </div>
+</div>
+
+<script type="text/javascript" src="[%c.request.base%]/static/Editable-min.js"></script>
+<script type="text/javascript">
+    var E  = new YAHOO.widget.EditableElement;
+
+    E.callback = function(){
+        var handleSuccess = function(o) {
+            YAHOO.parley.small_loading.wait.hide();
+            var data = eval('(' + o.responseText + ')');
+            // show the status message
+            o.argument.msg_node.innerHTML = data.message;
+            // if we didn't update reset the field value
+            if (data.updated != 1) {
+                o.argument.node.innerHTML = data.old_value;
+            }
+        };
+        var handleFailure =  function(o) {
+            YAHOO.parley.small_loading.wait.hide();
+            alert('ERROR: ' + o.responseText);
+        };
+
+        YAHOO.parley.small_loading.wait.show();
+
+        // where to post to
+        var sUrl = '[%base%]my/saveHandler';
+
+        // postdata is a query string ... how irksome!!
+        var postData =
+               'value='     + this.contents_new
+            + '&ovalue='    + this.contents
+            + '&fieldname=' + this.clicked.id
+        ;
+
+        var msg_node = YAHOO.util.Dom.get('result');
+
+        var request = YAHOO.util.Connect.asyncRequest(
+            'POST',
+            sUrl,
+            {
+                success:  handleSuccess,
+                failure:  handleFailure,
+                argument: {
+                    node:     this.clicked,
+                    msg_node: msg_node
+                }
+            },
+            postData
+        );
+    };
+
+    E.init();
+</script>
+<!-- (end) preferences : tab_you -->

Added: trunk/root/skin2/post/edit
===================================================================
--- trunk/root/skin2/post/edit	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/post/edit	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,69 @@
+<div style="margin-top:10px;"></div>
+<div class="thread_header">
+    <a href="forum/view?forum=[% current_forum.id %]">[% current_forum.name %]</a>
+    &nbsp;:&nbsp;
+    [%l('Edit')%]
+    &nbsp;:&nbsp;
+    [% ForumCode.escape(current_post.thread.subject) %]
+</div>
+<div style="margin-top:10px;"></div>
+
+[% IF messages %]
+<p>
+    <ul>
+        [% FOREACH message IN messages %]
+            <li>[% message %]</li>
+        [% END %]
+    </ul>
+</p>
+[% END %]
+
+[% IF authed_user.id != current_post.creator_id %]
+Editing [% current_post.creator.forum_name %]'s post
+[% END %]
+
+<form action="post/edit?post=[% current_post.id %]" method="POST" name="new_thread">
+    <table>
+        <tbody>
+            <tr>
+                <td class="thread_add_message"> [%l('Message')%] </td>
+                <td>
+                    <textarea id="thread_message" name="post_message" cols="60" rows="10" class="post_message" />[% current_post.message %]</textarea>
+                </td>
+            </tr>
+
+            [% IF authed_user.id != current_post.creator_id %]
+            <tr>
+                <td>&nbsp;</td>
+                <td>
+                    <input type="checkbox" name="lock_post" id="lock_post" value="1" />
+                    <label for="lock_post">
+                        [%l('ADMIN LOCK POST')%]
+                    </label>
+                </td>
+            </tr>
+            [% END %]
+
+            <tr>
+                <td>&nbsp;</td>
+                <td style="text-align: center;">
+                    <input type="button" value="[%l('Preview')%]" name="post_reply" class="" id="message_preview" />
+                    <input type="submit" value="[%l('Update Reply')%]" name="post_update"    class="input_button" />
+                </td>
+            </tr>
+        </tbody>
+    </table>
+</form>
+
+<!-- message preview majick -->
+<script type="text/javascript" src="[%c.uri_for('/static/MessagePreview-min.js')%]"></script>
+<script type="text/javascript">
+    var MessagePreview = new ParleyMessagePreview();
+
+    MessagePreview.config.label_preview = '[%l('Preview')%]';
+    MessagePreview.config.label_edit    = '[%l('Edit')%]';
+    MessagePreview.config.post_url      = "[%c.uri_for('/forumcode/preview')%]";
+
+    MessagePreview.init();
+</script>
+<!-- (end) message preview majick -->

Added: trunk/root/skin2/search/forum
===================================================================
--- trunk/root/skin2/search/forum	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/search/forum	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,17 @@
+<h1>[%l('Search Results')%]</h1>
+
+<h2>[%l('Searching for')%] <em>[% search_terms.raw || '[nothing]' %]</em> in <em>[% search_forum.name || 'all forums' %]</em></h2>
+
+[% IF search_results %]
+    <table class="search_results">
+        <tbody>
+            [% dummy_value = search_results.reset %]
+            [%- WHILE (post = search_results.next) %]
+            [% thread = post.thread %]
+            [% PROCESS shared/postinfo_table_row show_search_data=post %]
+            [% END %]
+        </tbody>
+    </table>
+[% ELSE %]
+[%l('No results found matching specified terms')%].
+[% END %]

Added: trunk/root/skin2/shared/ajax_dialog
===================================================================
--- trunk/root/skin2/shared/ajax_dialog	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/ajax_dialog	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,6 @@
+<div id="ajax_dialog">
+    <div class="hd">AJAX Message Dialog</div>
+    <div class="bd">
+        Message
+    </div>
+</div>

Added: trunk/root/skin2/shared/autocomplete_style
===================================================================

Added: trunk/root/skin2/shared/focus_username_js
===================================================================
--- trunk/root/skin2/shared/focus_username_js	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/focus_username_js	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,27 @@
+<!-- we don't easy have access to the body tag, so we have to put it after the form
+so that the form exists when we try to set focus -->
+<!--
+	MAKE SURE THE FORM HAS A NAME IF YOU WANT THIS TO WORK
+-->
+<script language="JavaScript">
+	<!-- Begin
+	function usernameFocus() {
+		// if we have any forms (we should)
+		if (document.forms.length > 0) {
+			// loop through all forms on the page
+			for (i=0; i<document.forms.length; i++) {
+				// store the form name
+				name = document.forms[i].name;
+				// if the form has a username field
+				if (document.forms[name].username) {
+					// give it focus and don't check any more forms
+					document.forms[name].elements['username'].focus();
+					break;
+				}
+			}
+		}
+	}
+	// End -->
+
+	usernameFocus();
+</script>

Added: trunk/root/skin2/shared/language_dialog
===================================================================
--- trunk/root/skin2/shared/language_dialog	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/language_dialog	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,94 @@
+<!-- LANGUAGE DIALOG -->
+<script type="text/javascript">
+YAHOO.namespace("parley.language");
+
+function language_dialog_init() {
+	// Define various event handlers for Dialog
+	var handleSubmit = function() {
+		this.submit();
+	};
+	var handleCancel = function() {
+		this.cancel();
+	};
+	var handleSuccess = function(o) {
+	};
+	var handleFailure = function(o) {
+		alert("Submission failed: " + o.status);
+	};
+
+	// Instantiate the Dialog
+	YAHOO.parley.language.language_dialog = new YAHOO.widget.Dialog(
+        'language_dialog', 
+        {
+            postmethod:             'form',
+            fixedcenter:            true,
+            visible:                false, 
+            modal:                  false,
+            constraintoviewport:    true,
+            width:                  '250px',
+            buttons : [
+                { text:'[%l('Cancel')%]', handler:handleCancel }
+            ]
+        }
+    );
+	
+	// Validate the entries in the form to require that both first and last name are entered
+	YAHOO.parley.language.language_dialog.validate = function() {
+		var data = this.getData();
+		if (data.username == "" || data.password == "") {
+			alert("[%l('Please enter your username and password')%].");
+			return false;
+		}
+        else {
+			return true;
+		}
+	};
+
+	// Wire up the success and failure handlers
+	YAHOO.parley.language.language_dialog.callback = {
+        success: handleSubmit,
+        failure: handleFailure
+    };
+	
+	// Render the Dialog
+	YAHOO.parley.language.language_dialog.render();
+	//YAHOO.parley.language.language_dialog.show();
+}
+
+YAHOO.util.Event.onDOMReady(language_dialog_init);
+</script>
+
+[% lang_data = [
+    {
+        code    => 'gb',
+        name    => 'English',
+    },
+    {
+        code    => 'it',
+        name    => 'Italiano',
+    },
+    {
+        code    => 'nl',
+        name    => 'Nederlands',
+    },
+   ]
+%]
+
+<div id="language_dialog">
+    <div class="hd">
+        [%l('Please choose a language')%]
+    </div>
+    <div class="bd">
+        [% FOR lang IN lang_data %]
+        <div style="float:left;width:110px;">
+        <a href="[% c.uri_for('/') %]?lang=[%lang.code%]" style="margin-left:15px;">
+            <img src="/static/images/icons/flags/[%lang.code%].png" width="16" height="11" alt="[%lang.name%]" />
+            [%lang.name%]
+        </a>
+        </div>
+        [% END %]
+
+        <div style="margin-top:10px;clear:both;"></div>
+    </div>
+</div>
+<!-- (end) LANGUAGE DIALOG -->

Added: trunk/root/skin2/shared/loading_please_wait
===================================================================
--- trunk/root/skin2/shared/loading_please_wait	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/loading_please_wait	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,35 @@
+<!-- shared/loading_please_wait -->
+<div id="loading"></div>
+<script type="text/javascript">
+    YAHOO.namespace("parley.loading");
+
+    function loading_init() {
+        var content = document.getElementById("loading");
+        content.innerHTML = "";
+
+        if (!YAHOO.parley.loading.wait) {
+            // Initialize the temporary Panel to display while waiting for external content to load
+            YAHOO.parley.loading.wait = 
+                new YAHOO.widget.Panel(
+                    "wait",  
+                    {
+                        width:          "240px", 
+                        fixedcenter:    true, 
+                        close:          false, 
+                        draggable:      false, 
+                        modal:          true,
+                        zindex:         4,
+                        visible:        false
+                    } 
+                )
+            ;
+    
+            YAHOO.parley.loading.wait.setHeader("[%l('Loading, please wait')%]...");
+            YAHOO.parley.loading.wait.setBody("<img src=\"static/images/rel_interstitial_loading.gif\"/>");
+            YAHOO.parley.loading.wait.render(document.body);
+        }
+    }
+
+    loading_init();
+</script>
+<!-- (end) shared/loading_please_wait -->

Added: trunk/root/skin2/shared/login_dialog
===================================================================
--- trunk/root/skin2/shared/login_dialog	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/login_dialog	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,83 @@
+<!-- LOGIN DIALOG -->
+<script type="text/javascript">
+YAHOO.namespace("parley.login");
+
+function login_dialog_init() {
+	// Define various event handlers for Dialog
+	var handleSubmit = function() {
+		this.submit();
+	};
+	var handleCancel = function() {
+		this.cancel();
+	};
+	var handleSuccess = function(o) {
+	};
+	var handleFailure = function(o) {
+		alert("Submission failed: " + o.status);
+	};
+
+	// Instantiate the Dialog
+	YAHOO.parley.login.login_dialog = new YAHOO.widget.Dialog(
+        'login_dialog', 
+        {
+            postmethod:             'form',
+            fixedcenter:            true,
+            visible:                false, 
+            modal:                  false,
+            constraintoviewport:    true,
+            width:                  '450px',
+            buttons : [
+                { text:'[%l('Login')%]',  handler:handleSubmit, isDefault:true },
+                { text:'[%l('Cancel')%]', handler:handleCancel }
+            ]
+        }
+    );
+	
+	// Validate the entries in the form to require that both first and last name are entered
+	YAHOO.parley.login.login_dialog.validate = function() {
+		var data = this.getData();
+		if (data.username == "" || data.password == "") {
+			alert("[%l('Please enter your username and password')%].");
+			return false;
+		}
+        else {
+			return true;
+		}
+	};
+
+	// Wire up the success and failure handlers
+	YAHOO.parley.login.login_dialog.callback = {
+        success: handleSubmit,
+        failure: handleFailure
+    };
+	
+	// Render the Dialog
+	YAHOO.parley.login.login_dialog.render();
+	//YAHOO.parley.search.search_dialog.show();
+}
+
+YAHOO.util.Event.onDOMReady(login_dialog_init);
+</script>
+
+<div id="login_dialog" style="visibility:hidden;">
+    <div class="hd">
+        [%l('Please enter your information')%]
+    </div>
+    <div class="bd">
+        <form action="user/login" method="post" name="login_form"
+            class="login_dialog_form_">
+            <fieldset>
+                <label for="username"><b>[%l('Username')%]:</b></label>
+                <input type="text" id="username" name="username" style="width: 16em;" class="input_text" />
+                <br />
+                <label for="password"><b>[%l('Password')%]:</b></label>
+                <input type="password" id="password" name="password" style="width: 15em;" class="input_text" />
+
+                <p align="right">
+                <a href="user/password/forgotten">[%l('Forgotten Password')%]</a>
+                </p>
+            </fieldset>
+        </form>
+    </div>
+</div>
+<!-- LOGIN DIALOG -->

Added: trunk/root/skin2/shared/moderator_list
===================================================================
--- trunk/root/skin2/shared/moderator_list	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/moderator_list	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,12 @@
+[% IF current_forum %]
+    <div class="moderator_list">
+        <strong>[%l('Forum Moderators')%]:</strong>
+        [% IF current_forum.moderators.size > 0 %]
+            [% FOR m IN current_forum.moderators %]
+            <a href="user/profile?user=[%m.id%]">[% m.forum_name %]</a>[% UNLESS loop.last() %], [% END %]
+            [% END %]
+        [% ELSE %]
+            <em>[%l('None')%]</em>
+        [% END %]
+    </div>
+[% END %]

Added: trunk/root/skin2/shared/navigation
===================================================================
--- trunk/root/skin2/shared/navigation	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/navigation	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,5 @@
+<!-- shared/navigation -->
+<p>
+    [% PROCESS shared/threadcrumbs %]
+<p>
+<!-- end : shared/navigation -->

Added: trunk/root/skin2/shared/pager_advanced
===================================================================
--- trunk/root/skin2/shared/pager_advanced	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/pager_advanced	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,60 @@
+[% IF page %]
+<div class="pager_advanced">
+    [% curr_path = '/' _ c.req.path %]
+    [% IF current_thread %]
+    [% extra_url_args = { 'thread' => current_thread.id } %]
+    [% ELSIF current_forum %]
+    [% extra_url_args = { 'forum' => current_forum.id } %]
+    [% ELSE %]
+    [% extra_url_args = { } %]
+    [% END %]
+
+    [%l('Page [_1] of [_2]', [page.current_page, page.last_page])%]
+    [% IF page.last_page > 1 %]
+    [
+        [% UNLESS page.current_page == page.first_page %]
+        [% url_args = { 'page' => page.first_page } %]
+        [% url_args.import(extra_url_args) %]
+        <a href="[%c.uri_for(curr_path,url_args)%]">[%l('First')%]</a>
+        |
+        [% END %]
+
+        [% IF page.previous_page %]
+        [% url_args = { 'page' => page.previous_page } %]
+        [% url_args.import(extra_url_args) %]
+        <a href="[%c.uri_for(curr_path,url_args)%]">[%l('Previous')%]</a>
+        |
+        [% END %]
+
+        [%# pagination majick! %]
+        [% FOREACH jiffy = page_range_spread %]
+            [% IF jiffy %]
+                [% IF page.current_page == jiffy %]
+                <b>[% jiffy %]</b>
+                [% ELSE %]
+                [% url_args = { 'page' => jiffy } %]
+                [% url_args.import(extra_url_args) %]
+                <a href="[%c.uri_for(curr_path,url_args)%]">[%jiffy%]</a>
+                [% END %]
+            [% ELSE %]
+                ...
+            [% END %]
+        [% END %]
+
+        [% IF page.next_page %]
+        |
+        [% url_args = { 'page' => page.next_page } %]
+        [% url_args.import(extra_url_args) %]
+        <a href="[%c.uri_for(curr_path,url_args)%]">[%l('Next')%]</a>
+        [% END %]
+
+        [% UNLESS page.current_page == page.last_page %]
+        |
+        [% url_args = { 'page' => page.last_page } %]
+        [% url_args.import(extra_url_args) %]
+        <a href="[%c.uri_for(curr_path,url_args)%]">[%l('Last')%]</a>
+        [% END %]
+    ]
+    [% END %]
+</div>
+[% END %]

Added: trunk/root/skin2/shared/postinfo_table_row
===================================================================
--- trunk/root/skin2/shared/postinfo_table_row	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/postinfo_table_row	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,78 @@
+<!-- post-info table row -->
+[% toggler = (1 - (toggler||0)) %]
+<tr class="row [% row_styles.$toggler %]">
+    <td width="36" style="padding-top:5px;">
+        <!-- interesting things about the thread; sticky, locked, etc -->
+        [%- IF thread.sticky %]
+        <img src="static/images/icons/attach.png" alt="Sticky" title="Sticky Topic" width="16" height="16" />
+        [%- END %]
+        [%- IF thread.locked %]
+        <img src="static/images/icons/lock.png" alt="Locked" title="Locked Topic" width="16" height="16" />
+        [%- END %]
+    </td>
+
+    <td>
+        <div class="thread_subject">
+            <a href="[%c.uri_for('/thread/view',{'thread'=>thread.id})%]" class="topic_link">[% ForumCode.escape(thread.subject) |truncate(55) %]</a>
+        </div>
+        [%- IF show_forum_name %]
+        <div class="thread_recent_forum">
+            <a href="[%c.uri_for('/forum/view',{'forum'=>thread.forum.id})%]">[% thread.forum.name %]</a>
+        </div>
+        [% END %]
+        <div class="forum_mini_pager">
+            [%- IF authed_user || mini_pager %]
+            [
+                [%- IF authed_user %]
+                <a href="[%c.uri_for('/thread/next_post',{'thread'=>thread.id})%]">Continue</a>
+                [%- END %]
+            ]
+            [%- END %]
+        </div>
+    </td>
+
+    [% IF (search_post = show_search_data) %]
+    <td style="">
+        <div class="search_match_context">
+            [% context = search_post.match_context(search_terms.raw) %]
+            [% context %]
+        </div>
+        <div class="forum_mini_pager">
+            [
+            <a href="[%c.uri_for('/post/view',{'post'=>search_post.id})%]">Go to post</a>
+            ]
+        </div>
+    </td>
+    [% END %]
+
+    <td class="info_column">
+        <div class="topic_creator">
+            [% l('last post by ([_1])', thread.last_post.creator.forum_name) %]
+        </div>
+        <div class="thread_lastpost">
+            [% thread.last_post.interval_ago %]
+            [%l('ago')%]
+        </div>
+    </td>
+
+    <td class="info_column">
+        <div class="topic_creator">
+            [% l('created by ([_1])', thread.creator.forum_name) %]
+        </div>
+        <div class="thread_lastpost">
+            [% nicedate(thread.created) %]
+        </div>
+    </td>
+
+    <td class="info_column_counts">
+        <div class="forum_postcount">
+            [%# number of replies is one less than the number of posts %]
+            [% SET tpc = (thread.post_count - 1) %]
+            [%l('[quant,_1,reply]',tpc)%]
+        </div>
+        <div class="forum_postcount">
+            [%l('[quant,_1,view]',thread.post_count)%]
+        </div>
+    </td>
+</tr>
+<!-- (end) post-info table row -->

Added: trunk/root/skin2/shared/search_dialog
===================================================================
--- trunk/root/skin2/shared/search_dialog	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/search_dialog	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,88 @@
+<!-- SEARCH DIALOG -->
+<script type="text/javascript">
+YAHOO.namespace("parley.search");
+
+function search_dialog_init() {
+	// Define various event handlers for Dialog
+	var handleSubmit = function() {
+		this.submit();
+	};
+	var handleCancel = function() {
+		this.cancel();
+	};
+	var handleSuccess = function(o) {
+	};
+	var handleFailure = function(o) {
+		alert("Submission failed: " + o.status);
+	};
+
+	// Instantiate the Dialog
+	YAHOO.parley.search.search_dialog = new YAHOO.widget.Dialog(
+        'search_dialog', 
+        {
+            postmethod : 'form',
+            fixedcenter : true,
+            visible : false, 
+            modal: false,
+            constraintoviewport : true,
+            buttons : [
+                { text:'[%l('Search')%]', handler:handleSubmit, isDefault:true },
+                { text:'[%l('Cancel')%]', handler:handleCancel }
+            ]
+        }
+    );
+	
+	// Validate the entries in the form to require that both first and last name are entered
+	YAHOO.parley.search.search_dialog.validate = function() {
+		var data = this.getData();
+		if (data.search_terms == "") {
+			alert("Please enter something to search for");
+			return false;
+		} else {
+			return true;
+		}
+	};
+
+	// Wire up the success and failure handlers
+	YAHOO.parley.search.search_dialog.callback = { success: handleSubmit,
+												 failure: handleFailure };
+	
+	// Render the Dialog
+	YAHOO.parley.search.search_dialog.render();
+}
+
+YAHOO.util.Event.onDOMReady(search_dialog_init);
+</script>
+
+<div id="search_dialog">
+<div class="hd">[%l('Search')%]</div>
+<div class="bd">
+    <form action="search/forum" method="post" name="search_form" class="search_dialog_form">
+        <fieldset>
+            <label for="search_terms"><b>[%l('Search For')%]:</b></label>
+            <input type="text" id="search_terms" name="search_terms" style="width: 25em;" class="input_text" />
+            <br />
+        </fieldset>
+
+        <fieldset>
+            <label for="search_forum"><em>[%l('in')%]:</em></label>
+            <select id="search_forum" name="search_forum">
+                <optgroup label="[%l('General')%]">
+                    [% IF current_forum %]<option value="[% current_forum.id %]">[%l('Current Forum')%]</option>[% END %]
+                    <option value="">[%l('All Forums')%]</option>
+                </optgroup>
+                [% IF available_forums %]
+                [% SET dummy=available_forums.reset %]
+                <optgroup label="[%l('Forums')%]">
+                [% WHILE (forum = available_forums.next) %]
+                <option value="[% forum.id %]">[% forum.name %]</option>
+                [% END %]
+                </optgroup>
+                [% END %]
+            </select>
+            <br />
+        </fieldset>
+    </form>
+</div>
+</div>
+<!-- SEARCH DIALOG -->

Added: trunk/root/skin2/shared/small_loading_please_wait
===================================================================
--- trunk/root/skin2/shared/small_loading_please_wait	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/small_loading_please_wait	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,37 @@
+<!-- shared/small_loading_please_wait -->
+<div id="small_loading"></div>
+<script type="text/javascript">
+    YAHOO.namespace("parley.small_loading");
+
+    function small_loading_init() {
+        var content = document.getElementById("small_loading");
+        content.innerHTML = "";
+
+        if (!YAHOO.parley.small_loading.wait) {
+            // Initialize the temporary Panel to display while waiting for external content to load
+            YAHOO.parley.small_loading.wait = 
+                new YAHOO.widget.Overlay(
+                    "loader_wait",  
+                    {
+                        fixedcenter:    false, 
+                        close:          false, 
+                        draggable:      false, 
+                        zindex:         4,
+                        x: 30,
+                        y: 15,
+                        visible:        false
+                    } 
+                )
+            ;
+    
+            YAHOO.parley.small_loading.wait.setBody(
+                "<img src=\"static/images/loader.gif\"/>"
+            );
+            YAHOO.parley.small_loading.wait.render(document.body);
+        }
+    }
+
+    small_loading_init();
+    //YAHOO.parley.small_loading.wait.show();
+</script>
+<!-- (end) shared/small_loading_please_wait -->

Added: trunk/root/skin2/shared/thread_watch
===================================================================
--- trunk/root/skin2/shared/thread_watch	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/thread_watch	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,17 @@
+<!-- shared/thread_watch -->
+[%- IF authed_user %]
+<div class="thread_watch">
+    <strong>[% watcher_count %] [% IF watcher_count == 1 %][%l('person')%][% ELSE %][%l('people')%][% END %] [%l('watching this thread')%].</strong>
+    <br />
+
+    [%- IF watching_thread %]
+        [%l('You are watching this thread')%].
+        (
+        <a href="thread/watch?thread=[% current_thread.id %]&amp;page=[% page.current_page %]&amp;watch=0">[%l('Remove Watch')%]</a>
+        )
+    [%- ELSE %]
+        <a href="thread/watch?thread=[% current_thread.id %]&amp;page=[% page.current_page %]">[%l('Watch this thread')%]</a>
+    [%- END%]
+</div>
+[%- END %] [%# authed_user block %]
+<!-- end : shared/thread_watch -->

Added: trunk/root/skin2/shared/threadcrumbs
===================================================================
--- trunk/root/skin2/shared/threadcrumbs	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/threadcrumbs	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,9 @@
+    <a href="forum/list">Home</a>
+    [% IF current_forum %]
+        &raquo;
+        <a href="forum/view?forum=[% current_forum.id %]">[% current_forum.name %]</a>
+        [% IF current_thread %]
+            &raquo;
+            <a href="thread/view?thread=[% current_thread.id %]">[% ForumCode.escape(current_thread.subject) %]</a>
+        [% END %]
+    [% END %]

Added: trunk/root/skin2/shared/useful_tt_stuff
===================================================================
--- trunk/root/skin2/shared/useful_tt_stuff	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/useful_tt_stuff	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,31 @@
+[% USE HTML %]
+[% USE ForumCode %]
+
+[% SET row_styles = ['row_odd', 'row_even'] %]
+
+[%- MACRO nicedate(d) BLOCK %]
+    [%# if a person has preferences, and there's a timezone option set, use it to
+        set the TZ used to display the time in nicedate
+    %]
+    [% IF authed_user.preference.timezone %]
+        [% CALL d.set_time_zone(authed_user.preference.timezone) %]
+    [% ELSE %]
+        [% CALL d.set_time_zone('UTC') %]
+    [% END %]
+
+    [% IF authed_user.preference.time_format %]
+        [% d.strftime(authed_user.preference.time_format.time_string) %]
+    [% ELSE %]
+        [% d.strftime('%c') %]
+    [% END %]
+
+    [% IF    authed_user.preference.show_tz
+        || ! authed_user.preference.show_tz.defined
+    %]
+        [% d.time_zone_short_name() %]
+    [% END %]
+[% END %]
+
+[% MACRO l(text, args) BLOCK;
+    c.i18nise (text, args);
+END; %]

Added: trunk/root/skin2/shared/user_avatar
===================================================================
--- trunk/root/skin2/shared/user_avatar	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/user_avatar	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,11 @@
+<!-- user avatar -->
+[% avatar_file = c.path_to('root') _ "/static/user_file/${person.id}/avatar.jpg" %]
+[% TRY %]
+    [% USE avatar = Image(avatar_file) %]
+    [% tmp = avatar.attr %]
+    <img class="picborder" src="/static/user_file/[% person.id %]/avatar.jpg" border="0" [% avatar.attr %] alt="[%l('Avatar')%]" />
+    <br />
+[% CATCH %]
+   [%l('No User Avatar')%] 
+[% END %]
+<!-- end : user avatar -->

Added: trunk/root/skin2/shared/user_status
===================================================================
--- trunk/root/skin2/shared/user_status	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/shared/user_status	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,19 @@
+<!-- shared/user_status -->
+<p>
+    [% IF (authed_user) %]
+        [%l('Logged in as')%] <b>[% authed_user.first_name %] [% authed_user.last_name %]</b>
+        [% UNLESS authed_user.authentication.authenticated %]
+            (<b><i>[%l('Not Authenticated')%]</i></b>)
+        [% END %]
+        <i><br />[
+        <a href="user/logout">[%l('Logout')%]</a>
+        ]</i>
+    [% ELSE %]
+        <i>[
+        <a href="javascript:;" onclick="javascript:YAHOO.parley.login.login_dialog.show(); return false;">[%l('Login')%]</a>
+        |
+        <a href="user/signup">[%l('Signup')%]</a>
+        ]</i>
+    [% END %] [%# authed_user end %]
+</p>
+<!-- end : shared/user_status -->

Added: trunk/root/skin2/site/ip_bans
===================================================================
--- trunk/root/skin2/site/ip_bans	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/site/ip_bans	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,85 @@
+<h1>[%l('IP Bans')%]</h1>
+[% WHILE (ban_type = ip_ban_types.next) %]
+    [% role_name = 'ip_ban_' _ ban_type.name %]
+    [% has_role  = authed_user.check_any_user_role('site_moderator', role_name) %]
+    [% IF has_role %][% eclass="editable" %][% ELSE %][% eclass="noneditable" %][% END %]
+    [% bans      = ban_type.ip_bans_rs %]
+
+<h2 class="top_padded">
+    [% ban_type.description %]
+</h2>
+    [% IF has_role %]
+    <img src="/static/images/icons/page_edit.png" width="16" height="16" />
+    [% ELSE %]
+    <img src="/static/images/icons/lock.png" width="16" height="16" />
+    [% END %]
+    [% IF bans.count %]
+        [% WHILE (ip_ban = bans.next) %]
+        <span id="ipban_[%ip_ban.id%]" class="[%eclass%]">[%ip_ban.ip_range%]</span>
+        [% END %]
+    [% ELSE %]
+        <span id="ipbannewtype_[%ban_type.id%]" class="[%eclass%]">None</span>
+    [% END %]
+[% END %]
+
+
+[% PROCESS shared/ajax_dialog %]
+
+
+<script type="text/javascript" src="[%c.request.base%]/static/Editable-min.js"></script>
+<script type="text/javascript">
+    var E  = new YAHOO.widget.EditableElement;
+    E.config.input_type = 'textarea';
+
+    E.callback = function(){
+        var handleSuccess = function(o) {
+            YAHOO.parley.small_loading.wait.hide();
+            var data = eval('(' + o.responseText + ')');
+            // if we didn't update reset the field value
+            if (data.updated != 1) {
+                o.argument.node.innerHTML = data.old_value;
+            }
+            if (data.error) {
+                try {
+                    YAHOO.parley.ajax_dialog.dlg.show_message( data.error );
+                } catch(e) { alert('handleSuccess: ' + e); }
+            }
+        };
+        var handleFailure =  function(o) {
+            YAHOO.parley.small_loading.wait.hide();
+            try {
+                YAHOO.parley.ajax_dialog.dlg.show_message( o );
+            } catch(e) { alert('handleFailure: ' + e); }
+        };
+
+        // let the user know something is happening
+        YAHOO.parley.small_loading.wait.show();
+
+        // where to post to
+        var sUrl = "[%c.uri_for('/site/saveBanHandler')%]";
+
+        // postdata is a query string ... how irksome!!
+        var postData =
+               'value='     + this.contents_new
+            + '&ovalue='    + this.contents
+            + '&fieldname=' + this.clicked.id
+        ;
+
+        //var msg_node = YAHOO.util.Dom.get('result');
+
+        var request = YAHOO.util.Connect.asyncRequest(
+            'POST',
+            sUrl,
+            {
+                success:  handleSuccess,
+                failure:  handleFailure,
+                argument: {
+                    node:     this.clicked
+                }
+            },
+            postData
+        );
+    };
+
+    E.init();
+</script>

Added: trunk/root/skin2/site/ip_info
===================================================================
--- trunk/root/skin2/site/ip_info	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/site/ip_info	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,25 @@
+<h1>[%l('IP Information')%]</h1>
+
+<h2>[% ip_address %]</h2>
+
+[% dummy_value = people_posting.reset %]
+<table class="forum_list">
+    <thead>
+        <th>[%l('Name')%]</td>
+        <th>[%l('Posts Made')%]</td>
+    </thead>
+    <tbody>
+        [% WHILE (post = people_posting.next) %]
+        [% toggler = (1 - (toggler||0)) %]
+
+        <tr class="row [% row_styles.$toggler %]">
+            <td width="50%">
+                <a href="[%c.uri_for('/user/profile',{'user'=>post.creator.id})%]">[% post.creator.forum_name %]</a>
+            </td>
+            <td width="40%">
+                [% post.creator.posts_from_ip(ip_address).count %]
+            </td>
+        </tr>
+        [% END %]
+    </tbody>
+</table>

Added: trunk/root/skin2/site/services
===================================================================
--- trunk/root/skin2/site/services	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/site/services	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,35 @@
+<h1>[%l('Services')%]</h1>
+
+<table class="service_list">
+    <thead>
+        <tr>
+            <th>[%l('Service')%]</th>
+            <th>[%l('Active')%]</th>
+            <th>[%l('Comment')%]</th>
+            <th>[%l('Start')%]/[%l('Stop')%]</th>
+        </tr>
+    </thead>
+
+    <tbody>
+        <tr class="row row_odd">
+            <td>[%l('Email Engine')%]</td>
+            <td>
+                [% IF email_engine.pid %]
+                [%l('Yes')%] 
+                [% ELSE %]
+                [%l('No')%] 
+                [% END %]
+            </td>
+            <td>
+                [% IF email_engine.pid %]
+                pid=[%email_engine.pid%]
+                [% ELSE %]
+                &nbsp;
+                [% END %]
+            </td>
+            <td>
+                &nbsp;
+            </td>
+        </tr>
+    </tbody>
+</table>

Added: trunk/root/skin2/site/user
===================================================================
--- trunk/root/skin2/site/user	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/site/user	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,106 @@
+<h1>[%l('User Roles')%]</h1>
+
+<h2>[% person.forum_name %] ([%person.first_name%] [%person.last_name%])</h2>
+
+<form>
+    <table class="user_permission_list">
+        <tbody>
+
+            [% WHILE (role = roles.next) %]
+            [% toggler = (1 - (toggler||0)) %]
+            <tr class="row [% row_styles.$toggler %]">
+                <td width="25%">
+                    <label for="userrole_[%role.id%]">
+                        [% role.description %]
+                    </label>
+                </td>
+                <td>
+                    [% has_role = person.check_user_roles(role.name) %]
+                    <input type="checkbox" class="role_checkbox" id="userrole_[%role.id%]" [%IF has_role%]checked="checked"[%END%]/>
+                    <span id="status_[%role.id%]"></span>
+                </td>
+            </tr>
+            [% END %]
+
+        </tbody>
+    </table>
+</form>
+
+<div class="top_padded">
+<a href="[%c.uri_for('/site/users/')%]">Back to User Management</a>
+</div>
+
+<script type="text/javascript">
+    var YU  = YAHOO.util,
+        Dom = YAHOO.util.Dom;
+
+    var items = Dom.getElementsByClassName('role_checkbox');
+
+    update_role = function() {
+        var elID = this.id,
+            checked = (this.checked ? 1 : 0);
+        var roleID = elID.split('_')[1];
+        var statusDiv = Dom.get('status_' + roleID);
+
+        var handleSuccess = function(o) {
+            var data = eval('(' + o.responseText + ')');
+            // show the status message
+            //o.argument.msg_node.innerHTML = data.message;
+            // clear the loader-gif
+            o.argument.msg_node.innerHTML = '';
+
+            // show any returned errors
+            if (data.error) {
+                if (data.error.message!=undefined) {
+                    o.argument.msg_node.innerHTML = data.error.message;
+                }
+
+                // reset the checkbox
+                Dom.get(o.argument.cb_node).checked =
+                    (1 - o.argument.value);
+            }
+        };
+        var handleFailure = function(o) {
+            // show the status message
+            o.argument.msg_node.innerHTML = o.responseText;
+
+            // reset the checkbox
+            Dom.get(o.argument.cb_node).checked =
+                (1 - o.argument.value);
+        };
+
+        // where to post to
+        var sUrl = '[%c.uri_for('/site/roleSaveHandler')%]';
+
+        // postdata is a query string ... how irksome!!
+        var postData =
+               'person='    + [%person.id%]
+            +  '&role='     + roleID
+            +  '&value='    + checked
+        ;
+
+        // some visual feedback that something is happening
+        statusDiv.innerHTML = '<img src="[%c.uri_for('/static/images/loader-bar.gif')%]" />';
+
+        var request = YAHOO.util.Connect.asyncRequest(
+            'POST',
+            sUrl,
+            {
+                success:  handleSuccess,
+                failure:  handleFailure,
+                argument: {
+                    msg_node: statusDiv,
+                    cb_node:  elID,
+                    value:    checked
+                }
+            },
+            postData
+        );
+    };
+
+    YU.Event.addListener(
+        items,
+        'change',
+        update_role
+    );
+</script>

Added: trunk/root/skin2/site/users
===================================================================
--- trunk/root/skin2/site/users	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/site/users	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,65 @@
+<h1>User Management</h1>
+
+<h2>Administration Rights</h2>
+
+
+<form action="[%c.uri_for('/site/user/')%]" onsubmit="return YAHOO.example.ACJson.validateForm();">
+    <div id="ysearch">
+		<label>User Search: </label>
+		<input id="ysearchinput" type="text">
+		<input id="ac_personid" type="hidden" value="zx" name="pid">
+		<input id="ysearchsubmit" type="submit" value="Submit Query">
+		<div id="ysearchcontainer"></div>
+    </div>
+</form>
+
+<h2>Restrictions, Bans and Suspensions</h2>
+
+<script type="text/javascript">
+YAHOO.example.ACJson = new function(){
+    // Instantiate an XHR DataSource and define schema as an array:
+    //     ["Multi-depth.object.notation.to.find.a.single.result.item",
+    //     "Query Key",
+    //     "Additional Param Name 1",
+    //     ...
+    //     "Additional Param Name n"]
+    this.oACDS = new YAHOO.widget.DS_XHR("/site/users_autocomplete/", ["ResultSet.person","forum_name"]);
+    this.oACDS.queryMatchContains = true;
+    this.oACDS.forceSelection = true;
+    this.oACDS.typeAhead = true;
+    this.oACDS.animSpeed = 0.1;
+    //this.oACDS.scriptQueryAppend = "output=json&results=100"; // Needed for YWS
+
+    // Instantiate AutoComplete
+    this.oAutoComp = new YAHOO.widget.AutoComplete("ysearchinput","ysearchcontainer", this.oACDS);
+    this.oAutoComp.useShadow = true;
+    this.oAutoComp.formatResult = function(oResultItem, sQuery) {
+        return oResultItem[1].forum_name
+            + " ("
+            + oResultItem[1].first_name
+            + " "
+            + oResultItem[1].last_name
+            + ")";
+    };
+    this.oAutoComp.doBeforeExpandContainer = function(oTextbox, oContainer, sQuery, aResults) {
+        var pos = YAHOO.util.Dom.getXY(oTextbox);
+        pos[1] += YAHOO.util.Dom.get(oTextbox).offsetHeight + 2;
+        YAHOO.util.Dom.setXY(oContainer,pos);
+        return true;
+    };
+
+    this.oAutoComp.itemSelectEvent.subscribe(
+        function(oSelf, elItem, oData) {
+            YAHOO.util.Dom.get('ac_personid').value = elItem[2][1].id;
+        },
+        this,
+        false
+    );
+
+    // Stub for form validation
+    this.validateForm = function() {
+        // Validation code goes here
+        return true;
+    };
+};
+</script>

Added: trunk/root/skin2/terms/accept
===================================================================
--- trunk/root/skin2/terms/accept	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/terms/accept	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,29 @@
+<h1>[%l('Terms and Conditions')%]</h1>
+
+<p>
+[%l('ACCEPT TERMS')%]:
+</p>
+
+<div class="site_terms">
+    [% ForumCode.forumcode(latest_terms.content) %]
+    <div style="text-align: right;">
+    [%l('Last Modified')%]: [% nicedate(latest_terms.created) %]
+    </div>
+</div>
+
+[% IF latest_terms.change_summary %]
+<h1>[%l('Summary of Changes')%]</h1>
+<div class="site_terms">
+    [% ForumCode.forumcode(latest_terms.change_summary) %]
+</div>
+[% END %]
+
+<div class="site_terms" style="border: none; text-align: center;">
+    <form method="post" action="terms/accept" />
+
+    <input type="submit" name="terms_accept" value="[%l('TERMS AGREE')%]" />
+    <br />
+    <input type="submit" name="terms_reject" value="[%l('TERMS REJECT')%]" />
+
+    </form>
+</div>

Added: trunk/root/skin2/terms/add
===================================================================
--- trunk/root/skin2/terms/add	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/terms/add	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,139 @@
+<h1>[%l('TERMS ADD NEW')%]</h1>
+
+<form action="terms/add" method="POST" name="new_terms">
+<table>
+  <tr>
+    <td colspan="2">
+      <textarea name="new_site_terms" id="new_site_terms" cols="60" rows="20" class="input_text" /></textarea>
+    </td>
+  </tr>
+
+  <tr>
+    <td colspan="2" style="text-align: center;">
+      <input type="button" value="[%l('Preview')%]"        name="post_reply" class="input_button" id="message_preview" />
+      <input type="submit" value="[%l('Post New Terms')%]" name="post_reply" class="input_button" />
+    </td>
+  </tr>
+</table>
+
+
+<style type="text/css">
+	.yui-overlay { position:absolute;background:transparent;border:none;padding:none;margin:none; }
+</style>
+
+<!-- message preview majick -->
+<script type="text/javascript">
+    (function () {
+        ParleyMessagePreview = function() {
+            var Dom         = YAHOO.util.Dom,
+                YU          = YAHOO.util;
+
+            this.config = {
+                trigger     : 'message_preview',
+                user_input  : 'new_site_terms',
+                container   : 'message_container',
+                trigger_evt : 'click'
+            };
+            this.message_source  = false;
+            this.message_preview = false;
+
+            this.handleSuccess = function(o) {
+                var data = eval('(' + o.responseText + ')');
+                var obj = o.argument.obj;
+
+                if (data.formatted) {
+                    obj.previewElId = YU.Dom.generateId();
+
+                    obj.user_input.style.visibility     = 'hidden';
+
+                    /* create a panel to show the preview in */
+                    var pWidth          = obj.user_input.clientWidth,
+                        pHeight         = obj.user_input.clientHeight,
+                        pLeft           = obj.user_input.offsetLeft,
+                        pTop            = obj.user_input.offsetTop;
+
+                    obj.preview_overlay = new YAHOO.widget.Overlay(
+                        "preview_overlay",
+                        {
+                            context:        [obj.config.user_input, 'tl', 'tl'],
+                            visible:        true,
+                            width:          obj.user_input.clientWidth  + 'px',
+                            height:         obj.user_input.clientHeight + 'px'
+                        }
+                    );
+
+                    obj.preview_overlay.setBody(data.formatted);
+                    obj.preview_overlay.render(document.body);
+                    Dom.get('preview_overlay').style.overflow = 'auto';
+
+
+                    // update the button
+                    obj.trigger.value = '[%l('Edit')%]';
+
+                    YU.Event.removeListener( obj.trigger, 'click' );
+                    YU.Event.addListener(
+                        obj.trigger,
+                        obj.config.trigger_evt,
+                        obj.edit,
+                        obj,
+                        true
+                    );
+
+                }
+            };
+            this.handleFailure = function(o) {
+            };
+
+            this.edit = function() {
+                // update the button
+                this.trigger.value = '[%l('Preview')%]';
+
+                this.user_input.style.visibility     = 'visible';
+                this.preview_overlay.destroy();
+
+                YU.Event.removeListener( this.trigger, 'click' );
+                YU.Event.addListener(
+                    this.trigger,
+                    this.config.trigger_evt,
+                    this.preview,
+                    this,
+                    true
+                );
+            };
+
+            this.preview = function() {
+                var request = YU.Connect.asyncRequest(
+                    'POST',
+                    // '/forumcode/preview',
+                    "[%c.uri_for('/forumcode/preview')%]",
+                    {
+                        success: this.handleSuccess,
+                        failure: this.handleFailure,
+                        argument: {
+                            obj: this
+                        }
+                    },
+                    'msg_source=' + escape(this.user_input.value)
+                );
+            };
+
+            this.init = function() {
+                this.container  = Dom.get( this.config.container );
+                this.user_input = Dom.get( this.config.user_input );
+                this.trigger    = Dom.get( this.config.trigger );
+
+                YU.Event.addListener(
+                    this.trigger,
+                    this.config.trigger_evt,
+                    this.preview,
+                    this,
+                    true
+                );
+            };
+        };
+    })();
+
+    var MessagePreview = new ParleyMessagePreview();
+    MessagePreview.init();
+</script>
+<!-- (end) message preview majick -->

Added: trunk/root/skin2/terms/index
===================================================================
--- trunk/root/skin2/terms/index	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/terms/index	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,34 @@
+[% IF terms %]
+    <h1>[%l('Terms and Conditions')%]</h1>
+    <div class="site_terms">
+        [% ForumCode.forumcode(terms.content) %]
+        <div style="text-align: right;">
+        [%l('Last Modified')%]: [% nicedate(terms.created) %]
+        </div>
+    </div>
+
+    [% IF terms.change_summary %]
+    <h1>[%l('Summary of Changes')%]</h1>
+    <div class="site_terms">
+        [% ForumCode.forumcode(terms.change_summary) %]
+    </div>
+    [% END %]
+[% ELSE %]
+[%l('NO SITE TERMS')%].
+[% END %]
+
+[% IF all_site_terms %]
+<form method="get" action="terms">
+    <div style="text-align: right;">
+        <select name="site_term_id">
+            [% WHILE (site_terms=all_site_terms.next) %]
+            <option value="[%site_terms.id%]">
+                [% nicedate(site_terms.created) %]
+            </option>
+            [% END %]
+        </select>
+        <input type="submit" value="[%l('View')%]"/>
+    </div>
+</form>
+[% END %]
+

Added: trunk/root/skin2/thread/add
===================================================================
--- trunk/root/skin2/thread/add	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/thread/add	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,71 @@
+<div style="margin-top:10px;"></div>
+<div class="thread_header">
+    <a href="forum/view?forum=[% current_forum.id %]">[% current_forum.name %]</a>
+    &nbsp;:&nbsp;
+    [%l('Start A New Topic')%]
+</div>
+
+[% IF view.error.message %]
+    [% view.error.message %]
+    <ul>
+        [% FOREACH message IN view.error.messages %]
+            <li>[% message %]</li>
+        [% END %]
+    </ul>
+[% END %]
+
+<form action="thread/add?forum=[% current_forum.id %]" method="POST" name="new_thread">
+    <table class="thread_add" border="0">
+        <tr>
+            <td class="thread_add_topic"> [%l('Topic')%] </td>
+            <td>
+            <input type="text" name="thread_subject" size="60" class="input_text" />
+            </td>
+        </tr>
+
+        <tr>
+            <td class="thread_add_message"> [%l('Message')%] </td>
+            <td>
+                <textarea name="thread_message" id="thread_message" cols="60" rows="20" class="input_text" /></textarea>
+            </td>
+        </tr>
+
+        <tr>
+            <td>&nbsp;</td>
+            <td colspan="1" style="text-align: left;">
+                <span class="yui-button yui-link-button" style="margin-right:50px;margin-left:50px;">
+                    <span class="first-child">
+                        <a href="[%c.uri_for('/forum/view',{'forum'=>current_forum.id})%]">[%l('Cancel')%]</a>
+                    </span>
+                </span>
+
+                <input type="button" value="[%l('Preview')%]" name="preview_reply" class="" id="message_preview" />
+                <input type="submit" value="[%l('Post New Topic')%]" name="post_reply" class="" />
+            </td>
+        </tr>
+
+        <tr>
+            <td colspan="2" align="right">
+                <input type="checkbox" name="watch_on_post" value="1" [% IF authed_user.preference.watch_on_post %]checked="checked" [% END %]/>
+                [%l('ADD THREAD WATCH')%] 
+            </td>
+        </tr>
+    </table>
+</form>
+
+<style type="text/css">
+	.yui-overlay { position:absolute;background:transparent;border:none;padding:none;margin:none; }
+</style>
+
+<!-- message preview majick -->
+<script type="text/javascript" src="[%c.uri_for('/static/MessagePreview-min.js')%]"></script>
+<script type="text/javascript">
+    var MessagePreview = new ParleyMessagePreview();
+
+    MessagePreview.config.label_preview = '[%l('Preview')%]';
+    MessagePreview.config.label_edit    = '[%l('Edit')%]';
+    MessagePreview.config.post_url      = "[%c.uri_for('/forumcode/preview')%]";
+
+    MessagePreview.init();
+</script>
+<!-- (end) message preview majick -->

Added: trunk/root/skin2/thread/recent
===================================================================
--- trunk/root/skin2/thread/recent	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/thread/recent	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,12 @@
+<h1>[%l('Recently Updated Threads')%]</h1>
+
+[%- IF thread_list.count > 0 %]
+[% PROCESS shared/pager_advanced %]
+<table class="recently_updated">
+    [% WHILE (thread = thread_list.next) %]
+    [% PROCESS shared/postinfo_table_row show_forum_name=1 %]
+    [% END %]
+</table>
+[% ELSE %]
+[%l('NO RECENT THREADS')%]
+[% END %]

Added: trunk/root/skin2/thread/reply
===================================================================
--- trunk/root/skin2/thread/reply	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/thread/reply	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,155 @@
+<div style="margin-top:10px;"></div>
+<div class="thread_header">
+    <a href="forum/view?forum=[% current_forum.id %]">[% ForumCode.escape(current_forum.name) %]</a>
+    &nbsp;:&nbsp;
+    [%l('Replying To')%]
+    &nbsp;:&nbsp;
+    [% ForumCode.escape(current_thread.subject) %]
+</div>
+
+[%# different action depending on whether we're adding to a thread or replying to a specific post %]
+[% IF current_post %]
+<form action="thread/reply?post=[% current_post.id %]" method="POST" name="new_thread">
+[% ELSE %]
+<form action="thread/reply?thread=[% current_thread.id %]" method="POST" name="new_thread">
+[% END %]
+
+<!-- The post we're replying to -->
+<div class="yui-gf" style="margin-top:10px;margin-bottom:10px;">
+	<div class="yui-u first">
+        <div style="text-align:right; vertical-align: top;">
+            <p class="post_creator">
+            [% responding_to_post.creator.forum_name %]
+            </p>
+            <p class="post_created">
+            [% nicedate(responding_to_post.created) %]
+            </p>
+        </div>
+	</div>
+	<div class="yui-u">
+        <div class="reply_post_message innerpost">
+            [% FILTER html_line_break %][% ForumCode.forumcode(responding_to_post.message) %][% END %]
+        </div>
+	</div>
+</div>
+
+[% IF messages %]
+<p>
+    <ul>
+        [% FOREACH message IN messages %]
+            <li>[% message %]</li>
+        [% END %]
+    </ul>
+</p>
+[% END %]
+
+<p style="padding:10px;">[%l('ENTER REPLY')%]:</p>
+
+<!-- replies may have their own subject line -->
+[% IF c.config.replies_have_own_subject %]
+<div class="yui-gf" style="margin-top:10px;margin-bottom:10px;">
+	<div class="yui-u first">
+        <div style="text-align:right; vertical-align: top;">
+            [%l('Topic')%]:
+        </div>
+	</div>
+	<div class="yui-u">
+        <input type="text" name="thread_subject" size="60" class="input_text" value="[% current_thread.subject %]" />
+	</div>
+</div>
+[% END %]
+
+<!-- possibly quoting an existing post -->
+[% IF quote_post %]
+  <input type="hidden" name="have_quoted_post" value="1" />
+  <input type="hidden" name="__post" value="[% quote_post.id %]" />
+<div class="yui-gf" style="margin-top:10px;margin-bottom:10px;">
+	<div class="yui-u first">
+        &nbsp;
+	</div>
+	<div class="yui-u">
+        <span class="post_creator">
+            [% quote_post.creator.forum_name %] [%l('said')%]:
+        </span>
+        <br />
+        <textarea name="quote_message" cols="60" rows="10" class="quoted_reply_textarea" />[% quote_post.message %]</textarea>
+	</div>
+</div>
+[% END %]
+
+<!-- the reply area -->
+<div class="yui-gf" style="margin-top:10px;margin-bottom:10px;">
+	<div class="yui-u first">
+        <div style="text-align:right; vertical-align: top;">
+            [%l('Message')%]:
+        </div>
+	</div>
+	<div class="yui-u">
+        <textarea name="thread_message" id="thread_message" cols="60" rows="20" class="input_text" /></textarea>
+	</div>
+</div>
+
+<!-- button row -->
+<div class="yui-g">
+	<div class="yui-g first">
+		<div class="yui-u first">
+			&nbsp;
+		</div>
+		<div class="yui-u" style="text-align:center;">
+            <input type="button" value="[%l('Preview')%]"   accesskey="P" name="post_reply" class="input_button" id="message_preview" />
+		</div>
+	</div>
+	<div class="yui-g">
+		<div class="yui-u first" style="text-align:center;">
+            <input type="submit" value="[%l('Add Reply')%]" accesskey="S" name="post_reply" class="input_button" />
+		</div>
+		<div class="yui-u">
+			&nbsp;
+		</div>
+	</div>
+</div>
+
+<!-- extra actions -->
+<div class="yui-g" style="margin-top:20px;">
+	<div class="yui-g first">
+		<div class="yui-u first">
+			&nbsp;
+		</div>
+		<div class="yui-u" style="text-align:center;">
+            [% IF moderator %]
+            <input type="checkbox" name="lock_thread" value="1" /> [%l('LOCK AFTER POSTING')%] 
+            [% ELSE %]
+            &nbsp;
+            [% END %]
+		</div>
+	</div>
+	<div class="yui-g">
+		<div class="yui-u first" style="text-align:center;">
+            <input type="checkbox" name="watch_on_post" value="1" [% IF authed_user.preference.watch_on_post %]checked="checked" [% END %]/>
+            [%l('ADD THREAD WATCH')%] 
+		</div>
+		<div class="yui-u">
+			&nbsp;
+		</div>
+	</div>
+</div>
+</form>
+
+<style type="text/css">
+	.yui-overlay { position:absolute;background:transparent;border:none;padding:none;margin:none; }
+</style>
+
+<!-- message preview majick -->
+<script type="text/javascript" src="[%c.uri_for('/static/MessagePreview-min.js')%]"></script>
+<script type="text/javascript">
+    var MessagePreview = new ParleyMessagePreview();
+
+    MessagePreview.config.label_preview = '[%l('Preview')%]';
+    MessagePreview.config.label_edit    = '[%l('Edit')%]';
+    MessagePreview.config.post_url      = "[%c.uri_for('/forumcode/preview')%]";
+
+    MessagePreview.init();
+</script>
+<!-- (end) message preview majick -->
+
+[% PROCESS shared/loading_please_wait %]

Added: trunk/root/skin2/thread/reply-yuirte
===================================================================
--- trunk/root/skin2/thread/reply-yuirte	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/thread/reply-yuirte	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,243 @@
+<div style="margin-top:10px;"></div>
+<div class="thread_header">
+    <a href="forum/view?forum=[% current_forum.id %]">[% ForumCode.escape(current_forum.name) %]</a>
+    &nbsp;:&nbsp;
+    [%l('Replying To')%]
+    &nbsp;:&nbsp;
+    [% ForumCode.escape(current_thread.subject) %]
+</div>
+
+[%# different action depending on whether we're adding to a thread or replying to a specific post %]
+[% IF current_post %]
+<form action="thread/reply?post=[% current_post.id %]" method="POST" name="new_thread">
+[% ELSE %]
+<form action="thread/reply?thread=[% current_thread.id %]" method="POST" name="new_thread">
+[% END %]
+
+<!-- The post we're replying to -->
+<div class="yui-gf" style="margin-top:10px;margin-bottom:10px;">
+	<div class="yui-u first">
+        <div style="text-align:right; vertical-align: top;">
+            <p class="post_creator">
+            [% responding_to_post.creator.forum_name %]
+            </p>
+            <p class="post_created">
+            [% nicedate(responding_to_post.created) %]
+            </p>
+        </div>
+	</div>
+	<div class="yui-u">
+        <div class="reply_post_message innerpost">
+            [% FILTER html_line_break %][% ForumCode.forumcode(responding_to_post.message) %][% END %]
+        </div>
+	</div>
+</div>
+
+[% IF messages %]
+<p>
+    <ul>
+        [% FOREACH message IN messages %]
+            <li>[% message %]</li>
+        [% END %]
+    </ul>
+</p>
+[% END %]
+
+<p style="padding:10px;">[%l('ENTER REPLY')%]:</p>
+
+<!-- replies may have their own subject line -->
+[% IF c.config.replies_have_own_subject %]
+<div class="yui-gf" style="margin-top:10px;margin-bottom:10px;">
+	<div class="yui-u first">
+        <div style="text-align:right; vertical-align: top;">
+            [%l('Topic')%]:
+        </div>
+	</div>
+	<div class="yui-u">
+        <input type="text" name="thread_subject" size="60" class="input_text" value="[% current_thread.subject %]" />
+	</div>
+</div>
+[% END %]
+
+<!-- possibly quoting an existing post -->
+[% IF quote_post %]
+  <input type="hidden" name="have_quoted_post" value="1" />
+  <input type="hidden" name="__post" value="[% quote_post.id %]" />
+<div class="yui-gf" style="margin-top:10px;margin-bottom:10px;">
+	<div class="yui-u first">
+        &nbsp;
+	</div>
+	<div class="yui-u">
+        <span class="post_creator">
+            [% quote_post.creator.forum_name %] [%l('said')%]:
+        </span>
+        <br />
+        <textarea name="quote_message" cols="60" rows="10" class="quoted_reply_textarea" />[% quote_post.message %]</textarea>
+	</div>
+</div>
+[% END %]
+
+<!-- the reply area -->
+<div class="yui-gf" style="margin-top:10px;margin-bottom:10px;">
+	<div class="yui-u first">
+        <div style="text-align:right; vertical-align: top;">
+            [%l('Message')%]:
+        </div>
+	</div>
+	<div class="yui-u">
+        <textarea name="Xthread_message" id="Xthread_message" cols="60" rows="20" class="input_text" /></textarea>
+	</div>
+</div>
+
+<!-- button row -->
+<div class="yui-g">
+	<div class="yui-g first">
+		<div class="yui-u first">
+			&nbsp;
+		</div>
+		<div class="yui-u" style="text-align:center;">
+            <input type="button" value="[%l('Preview')%]"   accesskey="P" name="post_reply" class="input_button" id="message_preview" />
+		</div>
+	</div>
+	<div class="yui-g">
+		<div class="yui-u first" style="text-align:center;">
+            <input type="submit" value="[%l('Add Reply')%]" accesskey="S" name="post_reply" class="input_button" />
+		</div>
+		<div class="yui-u">
+			&nbsp;
+		</div>
+	</div>
+</div>
+
+<!-- extra actions -->
+<div class="yui-g" style="margin-top:20px;">
+	<div class="yui-g first">
+		<div class="yui-u first">
+			&nbsp;
+		</div>
+		<div class="yui-u" style="text-align:center;">
+            [% IF moderator %]
+            <input type="checkbox" name="lock_thread" value="1" /> [%l('LOCK AFTER POSTING')%] 
+            [% ELSE %]
+            &nbsp;
+            [% END %]
+		</div>
+	</div>
+	<div class="yui-g">
+		<div class="yui-u first" style="text-align:center;">
+            <input type="checkbox" name="watch_on_post" value="1" [% IF authed_user.preference.watch_on_post %]checked="checked" [% END %]/>
+            [%l('ADD THREAD WATCH')%] 
+		</div>
+		<div class="yui-u">
+			&nbsp;
+		</div>
+	</div>
+</div>
+    <textarea name="thread_message" id="yui_message_editor">Foo [b]bar[/b] baz</textarea>
+</form>
+
+<style type="text/css">
+	.yui-overlay { position:absolute;background:transparent;border:none;padding:none;margin:none; }
+</style>
+
+<!-- message preview majick -->
+<script type="text/javascript" src="[%c.uri_for('/static/MessagePreview-min.js')%]"></script>
+<script type="text/javascript">
+/*
+    var MessagePreview = new ParleyMessagePreview();
+
+    MessagePreview.config.label_preview = '[%l('Preview')%]';
+    MessagePreview.config.label_edit    = '[%l('Edit')%]';
+    MessagePreview.config.post_url      = "[%c.uri_for('/post/preview')%]";
+
+    MessagePreview.init();
+*/
+</script>
+<!-- (end) message preview majick -->
+
+[% PROCESS shared/loading_please_wait %]
+
+
+<link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/fonts/fonts-min.css')%]" />
+<link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/editor/assets/skins/sam/simpleeditor.css')%]" />
+<script type="text/javascript" src="[%c.uri_for('/static/yui/yahoo-dom-event/yahoo-dom-event.js')%]"></script>
+<script type="text/javascript" src="[%c.uri_for('/static/yui/element/element-beta-min.js')%]"></script>
+
+<script type="text/javascript" src="[%c.uri_for('/static/yui/container/container_core-min.js')%]"></script>
+<script type="text/javascript" src="[%c.uri_for('/static/yui/editor/simpleeditor-min.js')%]"></script>
+
+<link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/menu/assets/skins/sam/menu.css')%]" />
+<link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/button/assets/skins/sam/button.css')%]" />
+<link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/fonts/fonts-min.css')%]" />
+<link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/container/assets/skins/sam/container.css')%]" />
+<link rel="stylesheet" type="text/css" href="[%c.uri_for('/static/yui/editor/assets/skins/sam/editor.css')%]" />
+<script type="text/javascript" src="[%c.uri_for('/static/yui/yahoo-dom-event/yahoo-dom-event.js')%]"></script>
+
+<script type="text/javascript" src="[%c.uri_for('/static/yui/animation/animation-min.js')%]"></script>
+<script type="text/javascript" src="[%c.uri_for('/static/yui/element/element-beta-min.js')%]"></script>
+<script type="text/javascript" src="[%c.uri_for('/static/yui/container/container-min.js')%]"></script>
+<script type="text/javascript" src="[%c.uri_for('/static/yui/menu/menu-min.js')%]"></script>
+<script type="text/javascript" src="[%c.uri_for('/static/yui/button/button-min.js')%]"></script>
+<script type="text/javascript" src="[%c.uri_for('/static/yui/editor/editor-min.js')%]"></script>
+
+
+<script>
+
+(function() { 
+    //Setup some private variables 
+    var Dom = YAHOO.util.Dom, 
+    Event = YAHOO.util.Event; 
+
+    var myToolbar =  {
+        collapse: true,
+        titlebar: 'Text Editing Tools',
+        draggable: false,
+        buttonType: 'advanced',
+        buttons: [
+            { group: 'textstyle', label: 'Font Style',
+                buttons: [
+                    { type: 'push', label: 'Bold CTRL + SHIFT + B', value: 'bold' },
+                    { type: 'push', label: 'Italic CTRL + SHIFT + I', value: 'italic' },
+                    { type: 'push', label: 'Underline CTRL + SHIFT + U', value: 'underline' },
+                    { type: 'separator' },
+                    { type: 'color', label: 'Font Color', value: 'forecolor', disabled: true },
+                ]
+            },
+            { type: 'separator' },
+            { group: 'indentlist', label: 'Lists',
+                buttons: [
+                    { type: 'push', label: 'Indent', value: 'indent', disabled: true },
+                    { type: 'push', label: 'Outdent', value: 'outdent', disabled: true },
+                    { type: 'push', label: 'Create an Unordered List', value: 'insertunorderedlist' },
+                    { type: 'push', label: 'Create an Ordered List', value: 'insertorderedlist' }
+                ]
+            },
+            { type: 'separator' },
+            { group: 'insertitem', label: 'Insert Item',
+                buttons: [
+                    { type: 'push', label: 'HTML Link CTRL + SHIFT + L', value: 'createlink', disabled: true },
+                    { type: 'push', label: 'Insert Image', value: 'insertimage' }
+                ]
+            }
+        ]
+    };
+
+
+    //The Editor config 
+    var myConfig = { 
+        height: '300px', 
+        width: '600px', 
+        animate: true, 
+        dompath: true, 
+        focusAtStart: true,
+
+        toolbar: myToolbar,
+    }; 
+
+    //Now let's load the Editor.. 
+    var myEditor = new YAHOO.widget.Editor('yui_message_editor', myConfig); 
+    myEditor.render(); 
+})(); 
+
+</script>
+

Added: trunk/root/skin2/thread/view
===================================================================
--- trunk/root/skin2/thread/view	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/thread/view	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,197 @@
+<!-- thread/view -->
+[% SET dummy_value = post_list.reset %]
+
+<h1>Skin 2</h1>
+
+<!-- thread contents -->
+<table class="thread_posts">
+    <tbody>
+        <tr>
+            <td colspan="2" class="thread_header">
+                <a href="forum/view?forum=[% current_forum.id %]">[% ForumCode.escape(current_forum.name) %]</a>
+                &nbsp;:&nbsp;
+                [% ForumCode.escape(current_thread.subject) %]
+            </td>
+        </tr>
+
+        <!-- I'd really like to do this without a nested table -->
+        <tr>
+            <td colspan="2">
+                <table class="thread_info">
+                    <tbody>
+                        <tr>
+                            <td width="50%">
+                                <small>
+                                    [%l('[quant,_1,view]',current_thread.view_count)%].
+                                </small>
+                            </td>
+                            <td width="50%" align="right">
+                                [% PROCESS shared/pager_advanced %]
+                            </td>
+                        </tr>
+                        <tr>
+                            <td width="50%">
+                                [% PROCESS shared/thread_watch %]
+                            </td>
+                            <td width="50%" align="right">
+                                <small>
+                                [% IF current_thread.locked %]
+                                    [%l('Thread Locked')%] 
+                                    <img src="static/images/icons/lock.png" alt="[%l('Locked')%]" title="[%l('Locked Topic')%]" width="16" height="16" />
+                                [% ELSIF authed_user %]
+                                    <span class="yui-button yui-link-button">
+                                        <span class="first-child">
+                                            <a href="thread/reply?thread=[% current_thread.id %]">[%l('Reply')%]</a>
+                                        </span>
+                                    </span>
+                                [% END %]
+                                </small>
+                            </td>
+                        </tr>
+                    </tbody>
+                </table>
+            </td>
+        </tr>
+        <!-- end : nested table evil -->
+
+    <!-- thread posts -->
+    [% WHILE (post = post_list.next) %]
+        <tr class="thread_post_row">
+            <td class="user_post_info">
+                <a name="[%post.id%]"></a>
+                <!-- user avatar -->
+                [% avatar_file = c.path_to('root') _ "/static/user_file/${post.creator.id}/avatar.jpg" %]
+                [% TRY %]
+                    [% USE avatar = Image(avatar_file) %]
+                    [% tmp = avatar.attr %]
+                    <img class="picborder" src="/static/user_file/[% post.creator.id %]/avatar.jpg" border="0" [% avatar.attr %] alt="Avatar" />
+                    <br />
+                [% CATCH %]
+                    <!-- No User Avatar -->
+                [% END %]
+                <!-- end : user avatar -->
+
+                <a href="user/profile?user=[% post.creator.id %]">[% post.creator.forum_name %]</a>
+
+                <br />
+                [%l('[quant,_1,post]', post.creator.post_count)%]
+            </td>
+
+            <td class="post">
+                    [% IF post.admin_editor %]
+                    <div class="admin_edited_post">
+                        [%l('Post Edited By: [_1]', post.admin_editor.forum_name)%]:
+                        [% IF post.locked %]
+                        <img src="static/images/icons/lock.png" alt="[%l('Locked')%]" title="[%l('Locked Post')%]" width="16" height="16" />
+                        [% END %]
+                    </div>
+                    [% END %]
+                <!-- the body of the post -->
+                <div class="innerpost">
+                    [% IF post.quoted_post %]
+                    <div class="quote">
+                    <strong>[%l('[_1] wrote:', post.quoted_post.creator.forum_name)%]</strong><br>
+                    [% ForumCode.forumcode(post.quoted_text) %]<br />
+                    </div>
+                    <br />
+                    [% END %]
+                    [% ForumCode.forumcode(post.message) %]<br />
+                </div>
+                <!-- end : the body of the post -->
+
+                <div class="post_info">
+                    [% post.interval_ago %] ago
+                    <br />
+                    [% nicedate(post.created) %]
+                    [% IF post.edited %]
+                    <br /><span class="post_edited_alert">[%l('Edited')%]: [% nicedate(post.edited) %]</span>
+                    [% END %]
+                    <br />
+                    [% IF post.ip_addr %]
+                        [% IF moderator %]
+                        <a href="[%c.uri_for('/site/ip_info',{address=>post.ip_addr})%]">
+                            [%l('Posted from [_1]', post.ip_addr)%]
+                        </a>
+                        [% ELSE %]
+                           [%l('IP Logged')%] 
+                        [% END %]
+                    [% END %]
+                    [% IF (!current_thread.locked && authed_user) %]
+                        <br />
+                        <br />
+                        [% IF ((authed_user.id == post.creator.id) && !post.locked) || moderator %]
+                        <span class="yui-button yui-link-button">
+                            <span class="first-child">
+                                <a href="post/edit?post=[% post.id %]">[%l('Edit')%]</a>
+                            </span>
+                        </span>
+                        [% END %]
+                        <span class="yui-button yui-link-button">
+                            <span class="first-child">
+                                <a href="thread/reply?post=[% post.id %]">[%l('Quote')%]</a>
+                            </span>
+                        </span>
+                        <span class="yui-button yui-link-button">
+                            <span class="first-child">
+                                <a href="thread/reply?thread=[% current_thread.id %]">[%l('Reply')%]</a>
+                            </span>
+                        </span>
+                    [% END %]
+                </div>
+            </td>
+        </tr>
+    [% END %]
+    <!-- end : thread posts -->
+
+    <!-- post thread info -->
+        <!-- I'd really like to do this without a nested table -->
+        <tr>
+            <td colspan="2">
+                <table class="thread_info">
+                    <tbody>
+                        <tr>
+                            <td width="50%">
+                                [% PROCESS shared/thread_watch %]
+                            </td>
+                            <td width="50%" align="right">
+                                [% PROCESS shared/pager_advanced %]
+                            </td>
+                        </tr>
+                        <tr>
+                            <td width="50%">
+                                <small>
+                                    [% current_thread.view_count %]
+                                    [% IF current_thread.view_count == 1 %][%l('view')%][% ELSE %][%l('views')%][% END %].
+                                </small>
+                            </td>
+                            <td width="50%" align="right">
+                                <small>
+                                [% IF current_thread.locked %]
+                                    [%l('Thread Locked')%] 
+                                    <img src="static/images/icons/lock.png" alt="[%l('Locked')%]" title="[%l('Locked Topic')%]" width="16" height="16" />
+                                [% ELSIF authed_user %]
+                                    <span class="yui-button yui-link-button">
+                                        <span class="first-child">
+                                            <a href="thread/reply?thread=[% current_thread.id %]">[%l('Reply')%]</a>
+                                        </span>
+                                    </span>
+                                [% END %]
+                                </small>
+                            </td>
+                        </tr>
+                    </tbody>
+                </table>
+            </td>
+        </tr>
+        <!-- end : nested table evil -->
+    <!-- end : post thread info -->
+    <tr>
+        <td colspan="2">
+            [% PROCESS shared/moderator_list %]
+        </td>
+    </tr>
+
+    </tbody>
+</table>
+<!-- end : thread contents -->
+<!-- end : thread/view -->

Added: trunk/root/skin2/thread/watches
===================================================================
--- trunk/root/skin2/thread/watches	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/thread/watches	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,94 @@
+<h1>Watched Threads</h1>
+
+[% IF thread_watches > 0 %]
+<form method="post" style="width:98%;max-width:none;">
+    <table class="thread_watches">
+        <tbody>
+            <tr>
+                <th style="width:14px;">&nbsp;</th>
+                <th>Subject</th>
+                <th>Last Post Made</th>
+                <th>Last Post Viewed</th>
+            </tr>
+            [% WHILE (watch = thread_watches.next) %]
+            [% thread = watch.thread %]
+            <tr>
+                <td style="width:14px; vertical-align: middle;">
+                    [% IF (thread.last_post.created > watch.timestamp) %]
+                    <img src="static/images/unread_posts.gif" width="12" height="12" alt="Unread Posts" title="Unread Posts" />
+                    [% ELSE %]
+                    &nbsp;
+                    [% END %]
+                </td>
+                <td>
+                    <a href="thread/view?thread=[% thread.id %]" class="topic_link">
+                    [% ForumCode.escape(watch.thread.subject) |truncate(45) %]
+                    </a>
+                    <br />
+                    <span class="forum_mini_pager">
+                        [%- IF authed_user || mini_pager %]
+                        [
+                            [%- IF authed_user %]
+                            <a href="thread/next_post?thread=[% thread.id %]">Continue</a>
+                            [%- END %]
+                        ]
+                        [%- END %]
+                    </span>
+                </td>
+
+                <td>
+                    [% nicedate(thread.last_post.created) %]
+                    <br /><span class="interval_ago">
+                        [% thread.last_post.interval_ago %] ago
+                        </span>
+                    <br />
+                    <span class="topic_creator">last post by
+                    <span class="post_creator">[% thread.last_post.creator.forum_name %]</span>
+                    </span>
+                </td>
+
+                <td>
+                    [% nicedate(watch.timestamp) %]
+                    <br /><span class="interval_ago">
+                        [% watch.interval_ago %] ago
+                        </span>
+                    <br />
+                    [% IF (thread.last_post.created > watch.timestamp) %]
+                    <span class="topic_creator">Unread posts</span>
+                    [% END %]
+                </td>
+                <td style="width:14px;">
+                    <input type="checkbox" name="stop_watching" value="[% thread.id %]" />
+                </td>
+            </tr>
+            [% END %]
+            <tr>
+                <td colspan="5" class="right_align">
+                    <small>
+                        <a href="javascript:toggle_all('stop_watching',1);">Select All</a>
+                        <a href="javascript:toggle_all('stop_watching',0);">Deselect All</a>
+                    </small>
+                </td>
+            </tr>
+            <tr>
+                <td colspan="5" class="center_align">
+                    <input type="submit" value="Stop Watching Selected Threads" />
+                </td>
+            </tr>
+        </tbody>
+    </table>
+</form>
+[% ELSE %]
+    <p>You are not watching any threads</p>
+[% END %]
+
+<script type="text/javascript">
+    /* set the 'checked' value for all items matching 'name' to 'value' (0|1) */
+    function toggle_all(name,value) {
+        //alert( name );
+        var cboxes = document.getElementsByName( name );
+        for (var i=0;i<cboxes.length;i++) {
+            cboxes[i].checked = value;
+        }
+    }
+</script>

Added: trunk/root/skin2/user/access_ip_banned
===================================================================
--- trunk/root/skin2/user/access_ip_banned	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/access_ip_banned	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,3 @@
+<h1>[%l('Access Denied')%]</h1>
+
+[%l('Access to this application is not permitted from [_1]', c.request.address)%]

Added: trunk/root/skin2/user/auth_emailed
===================================================================
--- trunk/root/skin2/user/auth_emailed	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/auth_emailed	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,8 @@
+<h1>[%l('USER ALMOST THERE')%]</h1>
+
+<p>[%l('Thanks for signing up')%] [% newdata.first_name %]!</p>
+
+<p>
+[%l('An email has been sent to')%] <i>[% newdata.email %]</i>.<br />
+[%l('USER ACTIVATE')%].
+</p>

Added: trunk/root/skin2/user/auth_success
===================================================================
--- trunk/root/skin2/user/auth_success	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/auth_success	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,6 @@
+<h1>[%l('Registration Complete')%]</h1>
+
+<p>
+[%l('Your registration has been authenticated')%].
+[%l('Click on the login link to continue')%].
+</p>

Added: trunk/root/skin2/user/login
===================================================================
--- trunk/root/skin2/user/login	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/login	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,40 @@
+<div class="user_login">
+    <form action="[%c.uri_for('/user/login')%]" method="post" name="login_form">
+        <fieldset>
+            <p>
+                [% IF login_message %]
+                [% login_message %]<br />
+                [% ELSE %]
+                [% message %]<br />
+                [% END %]
+            </p>
+            <label for="username" accesskey="u"><b>[%l('Username')%]:</b></label>
+            <br />
+            <input type="text" id="login_username" name="username" size="40" class="input_text" tabindex="1" />
+            <br />
+            <br />
+
+            <label for="login_password" accesskey="p"><b>[%l('Password')%]:</b></label>
+            <br />
+            <input type="password" id="login_password" name="password" size="40" class="input_text" tabindex="2" />
+            <br />
+
+            <br />
+            <button type="submit" class="input_button" tabindex="3" />[%l('Login')%]</button>
+
+                <p align="right">
+                <a href="[%c.uri_for('/user/password/forgotten')%]">[%l('Forgotten Password')%]</a>
+                |
+                <a href="[%c.uri_for('/user/signup')%]">[%l('Register')%]</a>
+                </p>
+        </fieldset>
+    </form>
+</div>
+
+<!-- put focus into the username field on the form above -->
+<script language="JavaScript">
+	<!-- Begin
+    document.forms['login_form'].elements['username'].focus();
+	// End -->
+</script>
+

Added: trunk/root/skin2/user/login_ip_banned
===================================================================
--- trunk/root/skin2/user/login_ip_banned	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/login_ip_banned	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,3 @@
+<h1>[%l('Login Not Allowed')%]</h1>
+
+[%l('Logins are not permitted from [_1]', c.request.address)%]

Added: trunk/root/skin2/user/lostpassword/lost_password
===================================================================
--- trunk/root/skin2/user/lostpassword/lost_password	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/lostpassword/lost_password	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,77 @@
+<h1>Password Reset</h1>
+
+<div class="yui-gb top_padded">
+    <div class="yui-u first align_right">
+        &nbsp;
+    </div>
+    <div class="yui-u" style="text-align:justify;">
+        [% name %] [%l('PASSWORD STORES')%]
+        &nbsp;
+        [%l('PASSWORD IMPOSSIBLE')%]
+    </div>
+    <div class="yui-u">
+        &nbsp;
+    </div>
+</div>
+
+<div class="yui-gb top_padded">
+    <div class="yui-u first align_right">
+        &nbsp;
+    </div>
+    <div class="yui-u" style="text-align:justify;">
+        [%l('PASSWORD GAIN')%]
+        &nbsp;
+        [%l('PASSWORD PROCEED')%]
+    </div>
+    <div class="yui-u">
+        &nbsp;
+    </div>
+</div>
+
+        [%- IF view.error.messages %]
+        <p>
+            <ul>
+                 [% FOREACH message IN view.error.messages %]
+                    <li>[% message %]</li>
+                [% END %]
+            </ul>
+        </p>
+        [% END %]
+
+<form method="post" action="user/password/forgotten" name="password_reset_form">
+    <fieldset>
+        <div class="yui-gb top_padded">
+            <div class="yui-u first align_right">
+                <label for="pwd_reset_username">[%l('Username')%]:</a></label>
+            </div>
+            <div class="yui-u">
+                <input type="text" id="pwd_reset_username" name="username" class="input_text" tabindex="1" size="40" />
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
+        <div class="yui-gb top_padded">
+            <div class="yui-u first align_right">
+                <label for="pwd_reset_email">[%l('Email Address')%]:</a></label>
+            </div>
+            <div class="yui-u">
+                <input type="text" id="pwd_reset_email" name="email" class="input_text" tabindex="2" size="40" />
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
+        <div class="yui-gb top_padded">
+            <div class="yui-u first">
+                &nbsp;
+            </div>
+            <div class="yui-u">
+                <button name="pwd_reset_submit" class="input_button" tabindex="3" />[%l('Reset My Password')%]</button>
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
+    </fieldset>
+</form>

Added: trunk/root/skin2/user/lostpassword/lost_password_details_sent
===================================================================
--- trunk/root/skin2/user/lostpassword/lost_password_details_sent	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/lostpassword/lost_password_details_sent	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,11 @@
+<div class="yui-gb top_padded">
+    <div class="yui-u first align_right">
+        &nbsp;
+    </div>
+    <div class="yui-u" style="text-align:justify;">
+        [%l('PASSWORD DETAILS SENT')%]
+    </div>
+    <div class="yui-u">
+        &nbsp;
+    </div>
+</div>

Added: trunk/root/skin2/user/lostpassword/reset
===================================================================
--- trunk/root/skin2/user/lostpassword/reset	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/lostpassword/reset	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,94 @@
+<form action="user/password/reset/[% reset_uid %]" method="post" name="password_reset_form">
+
+<div class="yui-gb top_padded">
+    <div class="yui-u first align_right">
+        &nbsp;
+    </div>
+    <div class="yui-u" style="text-align:justify;">
+        [%l('PASSWORD RESET')%]
+    </div>
+    <div class="yui-u">
+        &nbsp;
+    </div>
+</div>
+
+        [%- IF view.error.messages %]
+        <p>
+            <ul>
+                [% FOREACH message IN view.error.messages %]
+                    <li>[% message %]</li>
+                [% END %]
+            </ul>
+        </p>
+        [% END %]
+
+    <fieldset>
+        <div class="yui-gb top_padded">
+            <div class="yui-u first align_right">
+                <label>[%l('Name')%]:</label>
+            </div>
+            <div class="yui-u">
+                <input type="text" value="[% reset_user.first_name %] [% reset_user.last_name %]" tabindex="1" readonly="readonly" disabled="disabled" size="40" />
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
+
+        <div class="yui-gb top_padded">
+            <div class="yui-u first align_right">
+                <label for="reset_username">[%l('Username')%]:</label>
+            </div>
+            <div class="yui-u">
+                <input type="text" name="reset_username" id="reset_username" size="40" tabindex="2" />
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
+
+        <div class="yui-gb top_padded">
+            <div class="yui-u first align_right">
+                <label for="new_password">[%l('New Password')%]:</label>
+            </div>
+            <div class="yui-u">
+                <input type="password" name="new_password" id="new_password" size="40" tabindex="3" />
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
+
+        <div class="yui-gb top_padded">
+            <div class="yui-u first align_right">
+                <label for="confirm_password">[%l('Confirm Password')%]:</label>
+            </div>
+            <div class="yui-u">
+                <input type="password" name="confirm_password" id="confirm_password" size="40" tabindex="4" />
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
+
+        <div class="yui-gb top_padded">
+            <div class="yui-u first">
+                &nbsp;
+            </div>
+            <div class="yui-u">
+                <button type="submit" class="input_button" tabindex="5" name="reset_password" />[%l('Reset My Password')%]</button>
+            </div>
+            <div class="yui-u">
+                &nbsp;
+            </div>
+        </div>
+    </fieldset>
+</form>
+
+<!-- put focus into the username field on the form above -->
+<script language="text/javascript">
+    <!-- Begin
+    document.forms['password_reset_form'].elements['reset_username'].focus();
+    // End -->
+</script>
+

Added: trunk/root/skin2/user/lostpassword/reset_success
===================================================================
--- trunk/root/skin2/user/lostpassword/reset_success	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/lostpassword/reset_success	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,2 @@
+<!-- I don't think we see this page any more -->
+[%l('PASSWORD RESET SUCCESS')%]

Added: trunk/root/skin2/user/posting_ip_banned
===================================================================
--- trunk/root/skin2/user/posting_ip_banned	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/posting_ip_banned	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,3 @@
+<h1>[%l('Posting Not Allowed')%]</h1>
+
+[%l('Posting is not permitted from [_1]', c.request.address)%]

Added: trunk/root/skin2/user/profile
===================================================================
--- trunk/root/skin2/user/profile	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/profile	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,179 @@
+<!-- user/profile -->
+<h1>[%l('User Profile')%]</h1>
+[% IF profiled_user %]
+    <div class="yui-gf top_padded">
+        <div class="yui-u first align_right">
+            [% INCLUDE shared/user_avatar person=profiled_user %]
+        </div>
+        <div class="yui-u">
+
+            <div class="yui-gf">
+                <div class="yui-u first align_right">
+                    [%l('Nickname')%]:
+                </div>
+                <div class="yui-u">
+                    [% profiled_user.forum_name %]
+                </div>
+            </div>
+
+            [% IF profiled_user.suspended %]
+            <div class="yui-gf top_padded">
+                <div class="yui-u first align_right">
+                &nbsp;
+                </div>
+                <div class="yui-u">
+                    [%l('Suspended')%]
+                </div>
+            </div>
+            [% END %]
+
+            <div class="yui-gf top_padded">
+                <div class="yui-u first align_right">
+                    [%l('Posts Made')%]:
+                </div>
+                <div class="yui-u">
+                    [% profiled_user.post_count %]
+                </div>
+            </div>
+
+            <div class="yui-gf top_padded">
+                <div class="yui-u first align_right">
+                    [%l('Last Post')%]:
+                </div>
+                <div class="yui-u">
+                    [% IF profiled_user.last_post %]
+                    <a href="thread/view?thread=[% profiled_user.last_post.thread.id %]">[% ForumCode.escape(profiled_user.last_post.thread.subject) |truncate(55) %]</a>
+                    <br />
+                    [% nicedate(profiled_user.last_post.created) %]
+                    [% ELSE %]
+                    [%l('Never Posted')%] 
+                    [% END %]
+                </div>
+            </div>
+
+        </div>
+    </div>
+
+    [% IF authed_user.is_site_moderator || authed_user.can_suspend_account %]
+        <h2>[%l('Administration')%]</h2>
+
+        [% IF authed_user.can_suspend_account %]
+            <div class="yui-gf top_padded">
+                <div class="yui-u first align_right">
+                [%l('Suspend Account')%]
+                </div>
+                <div class="yui-u">
+                <input
+                    type="checkbox"
+                    name="suspend_account"
+                    id="suspend_account"
+                    value="[%profiled_user.id%]"
+                    [% IF profiled_user.suspended %]checked="true"[% END %]
+                >
+                </div>
+            </div>
+            [% IF profiled_user.suspended %]
+                <div class="yui-gf top_padded">
+                    <div class="yui-u first align_right">
+                        [%l('Reason for suspension')%]:
+                    </div>
+                    <div class="yui-u">
+                        [% ForumCode.escape(profiled_user.last_suspension.message) ||l('No reason given') %]
+                    </div>
+                </div>
+            [% END %]
+        [% END %]
+    [% END %]
+
+    [% IF authed_user.can_ip_ban %]
+        [% SET ips = profiled_user.ips_posted_from %]
+        <h2>[%l('IP Addresses')%]</h2>
+        <div class="yui-gf top_padded">
+            <div class="yui-u first align_right">
+                [% IF ips.size %]
+                    [%l('User has posted from')%]
+                [% ELSE %]
+                    [%l('User has never posted')%]
+                [% END %]
+            </div>
+            <div class="yui-u">
+                [% IF ips.size %]
+                    [% FOR ip IN ips %]
+                    <span id="ctx_[%ip%]">
+                        <a href="[%c.uri_for('/site/ip_info',{'address'=>ip})%]">[% ip %]</a>
+                    </span>[% UNLESS loop.last %], [% END %]
+                    <script type="text/javascript">
+                        YAHOO.namespace("example.container");
+                        [% SET people_posting = c.model('ParleyDB::Post').people_posting_from_ip("$ip") %]
+                        [% SET ttTxt = '' %]
+                        [% WHILE (post = people_posting.next) %]
+                        [% ttTxt = "${ttTxt} <li>$post.creator.forum_name</li>" %]
+                        [% END %]
+                        YAHOO.example.container.tt1 = new YAHOO.widget.Tooltip(
+                            "tt_[%ip%]",
+                            {
+                                context:"ctx_[%ip%]",
+                                text:"Users posting from [%ip%]: <ul>[%ttTxt%]</ul>"
+                            }
+                        );
+                    </script>
+                    [% END %]
+                [% END %]
+            </div>
+        </div>
+    [% END %]
+
+    [% IF authed_user.is_site_moderator %]
+        <h2>[%l('Forum Moderation')%]</h2>
+
+        [% SET dummy=available_forums.reset %]
+        [% WHILE (forum = available_forums.next) %]
+            <div class="yui-gf top_padded forum_moderator_list">
+                <div class="yui-u first align_right">
+                [%forum.name%]
+                </div>
+                <div class="yui-u">
+                <input
+                    type="checkbox"
+                    class="fmod_checkbox"
+                    name="moderate_forum"
+                    id="moderateforum_[%forum.id%]"
+                    [%IF profiled_user.can_moderate_forum(forum.id)%]checked="true"[% END %]
+                >
+                    <span id="status_[%forum.id%]"></span>
+                </div>
+            </div>
+        [% END %]
+    [% END %]
+
+    [% IF authed_user.is_site_moderator %]
+        <h2>[%l('User Roles')%]</h2>
+
+        <a href="[%c.uri_for('/site/user',{pid=>0})%]">[%l('Manage user roles')%]</a>
+    [% END %]
+[% ELSE %]
+    <p>[%l('PROFILE NOT FOUND')%]</p>
+[% END %]
+<!-- end : user/profile -->
+
+
+<script type="text/javascript" src="[%c.uri_for('/static/script/user_suspend.js')%]"></script>
+<script type="text/javascript">
+    var person = {
+        id: [%profiled_user.id%]
+    };
+</script>
+<script type="text/javascript" src="[%c.uri_for('/static/script/user_forum_moderate.js')%]"></script>
+
+<div id="suspend_reason_dialog" style="visibility:hidden;">
+    <div class="hd">Please enter suspension information</div>
+    <div class="bd">
+        <form method="POST" action="assets/post.php">
+            <label for="suspension_reason">[%l('Reason for suspension')%]:</label>
+            <br />
+            <textarea id="suspension_reason" cols="30" rows="6"></textarea>
+        </form>
+    </div>
+</div>
+
+[% PROCESS shared/ajax_dialog %]

Added: trunk/root/skin2/user/signup/signup
===================================================================
--- trunk/root/skin2/user/signup/signup	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/signup/signup	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,154 @@
+<h1>User Signup</h1>
+
+[% IF view.error.message %]
+    [% view.error.message %]
+    <ul>
+        [% FOREACH message IN view.error.messages %]
+            <li>[% message %]</li>
+        [% END %]
+    </ul>
+[% END %]
+
+<form action="[%c.uri_for('user/signup')%]" method="post" name="signup_form">
+    <div>
+        [%l('SIGNUP COMPLETE FORM')%] 
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="username">[%l('SIGNUP USERNAME')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="text" id="new_username" name="new_username" class="input_text" />
+            [% form_error.field_error_new_username %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="password">[%l('SIGNUP PASSWORD')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="password" id="new_password" name="new_password" class="input_text" />
+            [% form_error.field_error_new_password %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="confirm_password">[%l('SIGNUP PASSWORD CONFIRM')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="password" id="confirm_password" name="confirm_password" class="input_text" />
+            [% form_error.field_error_confirm_password %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
+
+    <div class="yui-gd top_padded">
+        <div class="yui-u first">
+            &nbsp;
+        </div>
+        <div class="yui-u" style="text-align:justify;">
+            [%l('SIGNUP EMAIL USAGE')%] 
+        </div>
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="email">[%l('SIGNUP EMAIL')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="text" id="email" name="email" size="40" class="input_text" />
+            [% form_error.field_error_email %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="confirm_email">[%l('SIGNUP EMAIL CONFIRM')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="text" id="confirm_email" name="confirm_email" size="40" class="input_text" />
+            [% form_error.field_error_confirm_email %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
+
+    <div style="background-color:#ccc;margin-top:5px;margin-bottom:5px;">
+        &nbsp;
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="first_name">[%l('First Name')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="text" id="first_name" name="first_name" size="40" class="input_text" />
+            [% form_error.field_error_first_name %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="last_name">[%l('Last Name')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="text" id="last_name" name="last_name" size="40" class="input_text" />
+            [% form_error.field_error_last_name %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
+
+    <div class="yui-gd top_padded">
+        <div class="yui-u first">
+            &nbsp;
+        </div>
+        <div class="yui-u" style="text-align:justify;">
+            [%l('SIGNUP FORUMNAME DESCRIPTION')%] 
+        </div>
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            <label for="forum_name">[%l('SIGNUP FORUMNAME')%]:</label>
+        </div>
+        <div class="yui-u">
+            <input type="text" id="forum_name" name="forum_name" size="40" class="input_text" />
+            [% form_error.field_error_forum_name %]
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
+
+    <div class="yui-gb top_padded">
+        <div class="yui-u first align_right">
+            &nbsp;
+        </div>
+        <div class="yui-u" style="text-align:center;">
+            <input type="submit" name="form_submit" value="[%l('Register')%]" class="input_button" />
+        </div>
+        <div class="yui-u">
+            &nbsp;
+        </div>
+    </div>
+</form>

Added: trunk/root/skin2/user/signup_ip_banned
===================================================================
--- trunk/root/skin2/user/signup_ip_banned	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/signup_ip_banned	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,3 @@
+<h1>[%l('Registration Not Allowed')%]</h1>
+
+[%l('Registrations are not permitted from [_1]', c.request.address)%]

Added: trunk/root/skin2/user/suspended
===================================================================
--- trunk/root/skin2/user/suspended	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin2/user/suspended	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1,21 @@
+<h1 class="top_padded">Your account has been suspended.</h1>
+
+[% IF (profiled_user = authed_user) %]
+    <div class="yui-gf">
+        <div class="yui-u first align_right">
+            [%l('Nickname')%]:
+        </div>
+        <div class="yui-u">
+            [% profiled_user.forum_name %]
+        </div>
+    </div>
+
+    <div class="yui-gf top_padded">
+        <div class="yui-u first align_right">
+            [%l('Reason for suspension')%]:
+        </div>
+        <div class="yui-u">
+            [% ForumCode.escape(profiled_user.last_suspension.message) ||l('No reason given') %]
+        </div>
+    </div>
+[% END %]

Added: trunk/root/skin3/thread/view
===================================================================
--- trunk/root/skin3/thread/view	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/skin3/thread/view	2008-12-22 22:01:00 UTC (rev 991)
@@ -0,0 +1 @@
+<h1>Skin 3</h1>

Modified: trunk/root/static/css/parley-skin1.css
===================================================================
--- trunk/root/static/css/parley-skin1.css	2008-12-22 22:00:47 UTC (rev 990)
+++ trunk/root/static/css/parley-skin1.css	2008-12-22 22:01:00 UTC (rev 991)
@@ -2,7 +2,7 @@
 
 body {
     background-color:   #f0983d;
-    font-family:        fixed;
+    font-family:        monospace;
     color:              red;
 }
 



From chiselwright at mail.berlios.de  Mon Dec 22 23:01:12 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 22 Dec 2008 23:01:12 +0100
Subject: [Parley-svn] r992 - / trunk
Message-ID: <200812222201.mBMM1C4g022787@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-22 23:01:11 +0100 (Mon, 22 Dec 2008)
New Revision: 992

Modified:
   /
   trunk/Changes
   trunk/MANIFEST
Log:
 r8656 at wiggin:  chisel | 2008-12-22 09:15:57 +0000
 Updated Change Log and MANIFEST



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8655
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8656
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-12-22 22:01:00 UTC (rev 991)
+++ trunk/Changes	2008-12-22 22:01:11 UTC (rev 992)
@@ -11,6 +11,10 @@
     - make "Posted from a.b.c.d" a clickable link to site/ip_info
     - CSS/layout tweaks and improvements
     - added template skinning [beta]
+    - added example skins: skin1, skin2, skin3
+      - skin1 - CSS only
+      - skin2 - copy of all template files
+      - skin3 - one template file overridden
 
 1.0.2   Thu Oct  9 14:52:26 BST 2008
     - fixed "vanishing '+' symbol" issue in Message Preview

Modified: trunk/MANIFEST
===================================================================
--- trunk/MANIFEST	2008-12-22 22:01:00 UTC (rev 991)
+++ trunk/MANIFEST	2008-12-22 22:01:11 UTC (rev 992)
@@ -195,6 +195,75 @@
 root/email_templates/nl/thread_update_notify.html
 root/email_templates/nl/username_reminder.eml
 root/favicon.ico
+root/skin2/about/modules
+root/skin2/error/simple
+root/skin2/footer
+root/skin2/forum/list
+root/skin2/forum/view
+root/skin2/header
+root/skin2/help/i_default/contents
+root/skin2/help/i_default/faq
+root/skin2/help/i_default/formatting_posts
+root/skin2/help/i_default/wide
+root/skin2/help/unknown
+root/skin2/menu/left/main
+root/skin2/menu/menubar
+root/skin2/menu/statusbar
+root/skin2/my/preferences
+root/skin2/my/selectplace_ajaxresult
+root/skin2/my/tab_avatar
+root/skin2/my/tab_notifications
+root/skin2/my/tab_time
+root/skin2/my/tab_watch
+root/skin2/my/tab_you
+root/skin2/post/edit
+root/skin2/search/forum
+root/skin2/shared/ajax_dialog
+root/skin2/shared/autocomplete_style
+root/skin2/shared/focus_username_js
+root/skin2/shared/language_dialog
+root/skin2/shared/loading_please_wait
+root/skin2/shared/login_dialog
+root/skin2/shared/moderator_list
+root/skin2/shared/navigation
+root/skin2/shared/pager_advanced
+root/skin2/shared/postinfo_table_row
+root/skin2/shared/search_dialog
+root/skin2/shared/small_loading_please_wait
+root/skin2/shared/thread_watch
+root/skin2/shared/threadcrumbs
+root/skin2/shared/useful_tt_stuff
+root/skin2/shared/user_avatar
+root/skin2/shared/user_status
+root/skin2/site/ip_bans
+root/skin2/site/ip_info
+root/skin2/site/services
+root/skin2/site/user
+root/skin2/site/users
+root/skin2/terms/accept
+root/skin2/terms/add
+root/skin2/terms/index
+root/skin2/thread/add
+root/skin2/thread/recent
+root/skin2/thread/reply
+root/skin2/thread/reply-yuirte
+root/skin2/thread/view
+root/skin2/thread/watches
+root/skin2/user/access_ip_banned
+root/skin2/user/auth_emailed
+root/skin2/user/auth_success
+root/skin2/user/login
+root/skin2/user/login_ip_banned
+root/skin2/user/lostpassword/lost_password
+root/skin2/user/lostpassword/lost_password_details_sent
+root/skin2/user/lostpassword/reset
+root/skin2/user/lostpassword/reset_success
+root/skin2/user/posting_ip_banned
+root/skin2/user/profile
+root/skin2/user/signup/signup
+root/skin2/user/signup_ip_banned
+root/skin2/user/suspended
+root/skin3/thread/view
 root/static/css/common.css
 root/static/css/default.css
 root/static/css/images/bg.gif
@@ -204,6 +273,7 @@
 root/static/css/layout27.css
 root/static/css/layout33.css
 root/static/css/parley-min.css
+root/static/css/parley-skin1.css
 root/static/css/parley.css
 root/static/Editable-min.js
 root/static/Editable.js



From chiselwright at mail.berlios.de  Mon Dec 22 23:01:21 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 22 Dec 2008 23:01:21 +0100
Subject: [Parley-svn] r993 - / trunk trunk/db trunk/lib/Parley/Controller
	trunk/lib/Parley/Schema trunk/root/base/my
	trunk/t_aggregate/schematests
Message-ID: <200812222201.mBMM1LSd022862@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-22 23:01:20 +0100 (Mon, 22 Dec 2008)
New Revision: 993

Modified:
   /
   trunk/TODO
   trunk/db/patch_1.0.0_to_1.0.3.psql
   trunk/lib/Parley/Controller/My.pm
   trunk/lib/Parley/Schema/Preference.pm
   trunk/root/base/my/preferences
   trunk/root/base/my/tab_avatar
   trunk/t_aggregate/schematests/preference.t
Log:
 r8657 at wiggin:  chisel | 2008-12-22 19:10:41 +0000
 + updated TODO
 + added skin column to public.preference
 / use session (instead of flash) for tab to view in user prefs
 + added Skin tab to user pref screen (not functional yet)



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8656
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8657
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-12-22 22:01:11 UTC (rev 992)
+++ trunk/TODO	2008-12-22 22:01:20 UTC (rev 993)
@@ -32,13 +32,14 @@
   - 'smileys'?
   - realtime time-format example update (my/prefs - tab_time)
   - timezone menu usability
-  - skinning (user pref overrides CSS used?)
   - posting page ForumCode help/tips
   - database versioning
   - ForumCode: thumbnail image, lightbox view?
   - investigate: package Your::Schema; sub connect { do the check; next::method }
   - investigate: DBIx::Class::Schema::Versioned
   - investigate: t/model_Post.t / distinct count
+  - skinning (user pref overrides CSS used?)
+D - skinning (config frile driven)
 D - use HTML::ForumCode::Cookbook::Recipe1 for message preview(s)
 D - fix <ul>/<ol> CSS
 D - setup guide; add mailing list details

Modified: trunk/db/patch_1.0.0_to_1.0.3.psql
===================================================================
--- trunk/db/patch_1.0.0_to_1.0.3.psql	2008-12-22 22:01:11 UTC (rev 992)
+++ trunk/db/patch_1.0.0_to_1.0.3.psql	2008-12-22 22:01:20 UTC (rev 993)
@@ -5,6 +5,7 @@
 -- Description:
 --
 --      add table for database based sessions
+--      add skin column in preferences
 
 BEGIN;
 
@@ -24,6 +25,13 @@
     );
     ALTER TABLE sessions OWNER TO parley;
 
+    ALTER TABLE public.preference
+        ADD COLUMN
+            skin        varchar(100)
+                NOT NULL
+                DEFAULT 'base'
+    ;
+
 -- patch ends here --
 
 COMMIT;

Modified: trunk/lib/Parley/Controller/My.pm
===================================================================
--- trunk/lib/Parley/Controller/My.pm	2008-12-22 22:01:11 UTC (rev 992)
+++ trunk/lib/Parley/Controller/My.pm	2008-12-22 22:01:20 UTC (rev 993)
@@ -133,7 +133,8 @@
 
     # show a specific tab?
     if (defined $c->request->param('tab')) {
-        $c->flash->{show_pref_tab} ||= 'tab_' . $c->request->param('tab');
+        $c->session->{show_pref_tab} = 'tab_' . $c->request->param('tab');
+        $c->log->warn( $c->session->{show_pref_tab} );
     }
 
     # formfill/stash data
@@ -168,6 +169,9 @@
     );
     $c->stash->{thread_watches} = $watches;
 
+    # skin
+    $c->stash->{formdata}{skin} = 'base';
+
     return;
 }
 
@@ -205,7 +209,7 @@
     if ('time_format' eq $form_name) {
         # return to the right tab
         # use session flash, or we lose the info with the redirect
-        $c->flash->{show_pref_tab} = 'tab_time';
+        $c->session->{show_pref_tab} = 'tab_time';
 
         $ok_update = $self->_process_form_time_format( $c );
     }
@@ -213,7 +217,7 @@
     elsif ('notifications' eq $form_name) {
         # return to the right tab
         # use session flash, or we lose the info with the redirect
-        $c->flash->{show_pref_tab} = 'tab_notifications';
+        $c->session->{show_pref_tab} = 'tab_notifications';
 
         $ok_update = $self->_process_form_notifications( $c );
     }
@@ -221,11 +225,19 @@
     elsif ('user_avatar' eq $form_name) {
         # return to the right tab
         # use session flash, or we lose the info with the redirect
-        $c->flash->{show_pref_tab} = 'tab_avatar';
+        $c->session->{show_pref_tab} = 'tab_avatar';
 
         $ok_update = $self->_process_form_avatar( $c );
     }
+    # are we updating the avatar
+    elsif ('user_skin' eq $form_name) {
+        # return to the right tab
+        # use session flash, or we lose the info with the redirect
+        $c->session->{show_pref_tab} = 'tab_skin';
 
+        $ok_update = $self->_process_form_skin( $c );
+    }
+
     # otherwise we haven't decided how to handle the specified form ...
     else {
         $c->stash->{error}{message} = "don't know how to handle: $form_name";

Modified: trunk/lib/Parley/Schema/Preference.pm
===================================================================
--- trunk/lib/Parley/Schema/Preference.pm	2008-12-22 22:01:11 UTC (rev 992)
+++ trunk/lib/Parley/Schema/Preference.pm	2008-12-22 22:01:20 UTC (rev 993)
@@ -48,6 +48,13 @@
     default_value => 'false',
     size => 1,
   },
+
+  "skin" => {
+    data_type => "text",
+    default_value => "base",
+    is_nullable => 0,
+    size => 100,
+  },
 );
 __PACKAGE__->set_primary_key("id");
 __PACKAGE__->has_many(

Modified: trunk/root/base/my/preferences
===================================================================
--- trunk/root/base/my/preferences	2008-12-22 22:01:11 UTC (rev 992)
+++ trunk/root/base/my/preferences	2008-12-22 22:01:20 UTC (rev 993)
@@ -17,9 +17,11 @@
             { label => l('Time'),               tab_name => 'tab_time' },
             { label => l('Notifications'),      tab_name => 'tab_notifications' },
             { label => l('Avatar'),             tab_name => 'tab_avatar' },
+            { label => l('Skin'),               tab_name => 'tab_skin' },
        ]
     %]
-    [% SET selected_tab = c.flash.show_pref_tab || 'tab_you' %]
+    [% SET selected_tab = c.session.show_pref_tab || 'tab_you' %]
+    <!-- selected_tab = [%selected_tab%] -->
 
     <ul class="yui-nav">
     [% FOR tab IN tab_info %]

Modified: trunk/root/base/my/tab_avatar
===================================================================
--- trunk/root/base/my/tab_avatar	2008-12-22 22:01:11 UTC (rev 992)
+++ trunk/root/base/my/tab_avatar	2008-12-22 22:01:20 UTC (rev 993)
@@ -1,4 +1,4 @@
-<!-- preferences : tab_you -->
+<!-- preferences : tab_avatar -->
 <form action="my/preferences/update" method="post" enctype="multipart/form-data">
     <input type="hidden" name="form_name" value="user_avatar">
 
@@ -22,4 +22,4 @@
         </div>
     </div>
 </form>
-<!-- (end) preferences : tab_you -->
+<!-- (end) preferences : tab_avatar -->

Modified: trunk/t_aggregate/schematests/preference.t
===================================================================
--- trunk/t_aggregate/schematests/preference.t	2008-12-22 22:01:11 UTC (rev 992)
+++ trunk/t_aggregate/schematests/preference.t	2008-12-22 22:01:20 UTC (rev 993)
@@ -25,6 +25,7 @@
                 show_tz
                 notify_thread_watch
                 watch_on_post
+                skin
             ]
         ],
 



From chiselwright at mail.berlios.de  Mon Dec 22 23:01:30 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 22 Dec 2008 23:01:30 +0100
Subject: [Parley-svn] r994 - / trunk/db trunk/lib/Parley/Controller
	trunk/root/base
Message-ID: <200812222201.mBMM1UZI022945@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-22 23:01:30 +0100 (Mon, 22 Dec 2008)
New Revision: 994

Modified:
   /
   trunk/db/patch_1.0.0_to_1.0.3.psql
   trunk/lib/Parley/Controller/My.pm
   trunk/root/base/header
Log:
 r8658 at wiggin:  chisel | 2008-12-22 19:29:29 +0000
 + added user-pref for skin used (overrides site-wide default)
 / public.preference.skin can now be NULL (== site default)



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8657
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8658
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/db/patch_1.0.0_to_1.0.3.psql
===================================================================
--- trunk/db/patch_1.0.0_to_1.0.3.psql	2008-12-22 22:01:20 UTC (rev 993)
+++ trunk/db/patch_1.0.0_to_1.0.3.psql	2008-12-22 22:01:30 UTC (rev 994)
@@ -27,9 +27,7 @@
 
     ALTER TABLE public.preference
         ADD COLUMN
-            skin        varchar(100)
-                NOT NULL
-                DEFAULT 'base'
+            skin        varchar(100) NULL
     ;
 
 -- patch ends here --

Modified: trunk/lib/Parley/Controller/My.pm
===================================================================
--- trunk/lib/Parley/Controller/My.pm	2008-12-22 22:01:20 UTC (rev 993)
+++ trunk/lib/Parley/Controller/My.pm	2008-12-22 22:01:30 UTC (rev 994)
@@ -59,6 +59,14 @@
         ],
     },
 
+    skin => {
+        required => [
+            qw(
+                skin
+            )
+        ],
+    },
+
     user_avatar => {
         required => [
             qw(
@@ -170,7 +178,16 @@
     $c->stash->{thread_watches} = $watches;
 
     # skin
-    $c->stash->{formdata}{skin} = 'base';
+    $c->stash->{formdata}{skin}
+        = (
+            $c->_authed_user()->preference()->skin()
+                or
+            $c->config->{site_skin}
+                or
+            q{base}
+        )
+    ;
+    $c->log->debug('pref-site-skin: ' . $c->stash->{formdata}{skin});
 
     return;
 }
@@ -221,21 +238,21 @@
 
         $ok_update = $self->_process_form_notifications( $c );
     }
-    # are we updating the avatar
-    elsif ('user_avatar' eq $form_name) {
+    # are we updating the skin
+    elsif ('skin' eq $form_name) {
         # return to the right tab
         # use session flash, or we lose the info with the redirect
-        $c->session->{show_pref_tab} = 'tab_avatar';
+        $c->session->{show_pref_tab} = 'tab_skin';
 
-        $ok_update = $self->_process_form_avatar( $c );
+        $ok_update = $self->_process_form_skin( $c );
     }
     # are we updating the avatar
-    elsif ('user_skin' eq $form_name) {
+    elsif ('user_avatar' eq $form_name) {
         # return to the right tab
         # use session flash, or we lose the info with the redirect
-        $c->session->{show_pref_tab} = 'tab_skin';
+        $c->session->{show_pref_tab} = 'tab_avatar';
 
-        $ok_update = $self->_process_form_skin( $c );
+        $ok_update = $self->_process_form_avatar( $c );
     }
 
     # otherwise we haven't decided how to handle the specified form ...
@@ -405,7 +422,32 @@
     return 1;
 }
 
+sub _process_form_skin {
+    my ($self, $c) = @_;
 
+    if (not $self->_form_data_valid($c)) {
+        return;
+    }
+
+    # if our skin is 'base' set the preference to NULL
+    if (q{base} eq $c->form->valid('skin')) {
+        $c->_authed_user()->preference()->skin(
+            undef
+        );
+    }
+    else {
+        $c->_authed_user()->preference()->skin(
+            $c->form->valid('skin')
+        );
+    }
+
+    # store changes
+    $c->_authed_user()->preference()->update;
+
+    return 1;
+}
+
+
 sub _process_form_time_format {
     my ($self, $c) = @_;
 

Modified: trunk/root/base/header
===================================================================
--- trunk/root/base/header	2008-12-22 22:01:20 UTC (rev 993)
+++ trunk/root/base/header	2008-12-22 22:01:30 UTC (rev 994)
@@ -59,7 +59,7 @@
             <link type="text/css" rel="stylesheet" title="Parley" href="[%c.uri_for('/static/css/parley-min.css')%]" />
             [% END %]
         [% END %]
-        [% IF (skin = c.config.site_skin) %]
+        [% IF ((skin = authed_user.preference.skin) || (skin = c.config.site_skin)) %]
         <!-- Skin : [%skin%] -->
         <link type="text/css" rel="stylesheet" href="[%c.uri_for("/static/css/parley-${skin}.css")%]" />
         [% END %]



From chiselwright at mail.berlios.de  Mon Dec 22 23:01:37 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 22 Dec 2008 23:01:37 +0100
Subject: [Parley-svn] r995 - / trunk/root/base/my
Message-ID: <200812222201.mBMM1bBs023027@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-22 23:01:37 +0100 (Mon, 22 Dec 2008)
New Revision: 995

Added:
   trunk/root/base/my/tab_skin
Modified:
   /
Log:
 r8659 at wiggin:  chisel | 2008-12-22 19:29:53 +0000
 + added template for tab_skin



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8658
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8659
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: trunk/root/base/my/tab_skin
===================================================================
--- trunk/root/base/my/tab_skin	2008-12-22 22:01:30 UTC (rev 994)
+++ trunk/root/base/my/tab_skin	2008-12-22 22:01:37 UTC (rev 995)
@@ -0,0 +1,49 @@
+<!-- preferences : tab_skin -->
+<form action="my/preferences/update" method="post" enctype="multipart/form-data">
+    <input type="hidden" name="form_name" value="skin">
+    <div style="background-color:#ccc;margin-top:5px;margin-bottom:5px;">
+        &nbsp;
+    </div>
+
+    <div class="yui-gf top_padded">
+        <div class="yui-u first align_right">
+            <input type="radio" name="skin" value="base" />
+        </div>
+        <div class="yui-u">
+            <em>[%l('Site Default')%]</em>
+        </div>
+    </div>
+    <div class="yui-gf top_padded">
+        <div class="yui-u first align_right">
+            <input type="radio" name="skin" value="skin1" />
+        </div>
+        <div class="yui-u">
+            Skin1
+        </div>
+    </div>
+    <div class="yui-gf top_padded">
+        <div class="yui-u first align_right">
+            <input type="radio" name="skin" value="skin2" />
+        </div>
+        <div class="yui-u">
+            Skin2
+        </div>
+    </div>
+    <div class="yui-gf top_padded">
+        <div class="yui-u first align_right">
+            <input type="radio" name="skin" value="skin3" />
+        </div>
+        <div class="yui-u">
+            Skin3
+        </div>
+    </div>
+    <div class="yui-gf top_padded">
+        <div class="yui-u first align_right">
+            &nbsp;
+        </div>
+        <div class="yui-u">
+            <input type="submit" value="Use Selected Skin" />
+        </div>
+    </div>
+</form>
+<!-- (end) preferences : tab_skin -->



From chiselwright at mail.berlios.de  Mon Dec 22 23:01:45 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 22 Dec 2008 23:01:45 +0100
Subject: [Parley-svn] r996 - / trunk
Message-ID: <200812222201.mBMM1jhR023100@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-22 23:01:45 +0100 (Mon, 22 Dec 2008)
New Revision: 996

Modified:
   /
   trunk/Changes
   trunk/MANIFEST
   trunk/TODO
Log:
 r8660 at wiggin:  chisel | 2008-12-22 19:31:23 +0000
 Update Change Log, TODO and MANIFEST files



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8659
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8660
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-12-22 22:01:37 UTC (rev 995)
+++ trunk/Changes	2008-12-22 22:01:45 UTC (rev 996)
@@ -15,6 +15,7 @@
       - skin1 - CSS only
       - skin2 - copy of all template files
       - skin3 - one template file overridden
+    - added user "skin" preference choice
 
 1.0.2   Thu Oct  9 14:52:26 BST 2008
     - fixed "vanishing '+' symbol" issue in Message Preview

Modified: trunk/MANIFEST
===================================================================
--- trunk/MANIFEST	2008-12-22 22:01:37 UTC (rev 995)
+++ trunk/MANIFEST	2008-12-22 22:01:45 UTC (rev 996)
@@ -129,6 +129,7 @@
 root/base/my/selectplace_ajaxresult
 root/base/my/tab_avatar
 root/base/my/tab_notifications
+root/base/my/tab_skin
 root/base/my/tab_time
 root/base/my/tab_watch
 root/base/my/tab_you

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-12-22 22:01:37 UTC (rev 995)
+++ trunk/TODO	2008-12-22 22:01:45 UTC (rev 996)
@@ -38,7 +38,7 @@
   - investigate: package Your::Schema; sub connect { do the check; next::method }
   - investigate: DBIx::Class::Schema::Versioned
   - investigate: t/model_Post.t / distinct count
-  - skinning (user pref overrides CSS used?)
+D - skinning (user pref overrides CSS used?)
 D - skinning (config frile driven)
 D - use HTML::ForumCode::Cookbook::Recipe1 for message preview(s)
 D - fix <ul>/<ol> CSS



From chiselwright at mail.berlios.de  Mon Dec 22 23:01:53 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 22 Dec 2008 23:01:53 +0100
Subject: [Parley-svn] r997 - / trunk
Message-ID: <200812222201.mBMM1rD6023172@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-22 23:01:53 +0100 (Mon, 22 Dec 2008)
New Revision: 997

Modified:
   /
   trunk/ROADMAP
Log:
 r8661 at wiggin:  chisel | 2008-12-22 19:35:11 +0000
 Update ROADMAP



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8660
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8661
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/ROADMAP
===================================================================
--- trunk/ROADMAP	2008-12-22 22:01:45 UTC (rev 996)
+++ trunk/ROADMAP	2008-12-22 22:01:53 UTC (rev 997)
@@ -45,6 +45,7 @@
     - [D] use Test::Aggregate [v1.0.3]
     - [D] upgrade to YUI 2.6.x [v1.0.3]
     - [D] use database for sessions [v1.0.3]
+    - [D] skinning support [v1.0.3]
 
 1.1.0:
 



From chiselwright at mail.berlios.de  Tue Dec 23 21:42:23 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 23 Dec 2008 21:42:23 +0100
Subject: [Parley-svn] r998 - / trunk/lib trunk/lib/Parley/Controller
Message-ID: <200812232042.mBNKgNiB021746@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-23 21:42:23 +0100 (Tue, 23 Dec 2008)
New Revision: 998

Modified:
   /
   trunk/lib/Parley.pm
   trunk/lib/Parley/Controller/Root.pm
Log:
 r8672 at wiggin:  chisel | 2008-12-23 09:18:50 +0000
 / fixed TT include path skinning thinko



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8661
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8672
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley/Controller/Root.pm
===================================================================
--- trunk/lib/Parley/Controller/Root.pm	2008-12-22 22:01:53 UTC (rev 997)
+++ trunk/lib/Parley/Controller/Root.pm	2008-12-23 20:42:23 UTC (rev 998)
@@ -282,23 +282,10 @@
 # deal with the end of the phase
 sub render : ActionClass('RenderView') {
     my ($self, $c) = @_;
+    
+    # deal with any skinning
+    $c->forward('skin');
 
-    # are we skinned?
-    if (defined $c->config->{site_skin}) {
-        # we always want root and "skin dir"
-        my $include_path = [
-            $c->path_to( 'root' ),
-            $c->path_to( 'root', $c->config->{site_skin}),
-        ];
-        # we /might/ want to fall back on the default (base)
-        if ($c->config->{skin_default_fallback}) {
-            push @{$include_path}, 
-                $c->path_to( 'root', 'base' );
-        }
-        # set the INCLUDE_PATH for TT
-        $c->view('TT')->{include_path} = $include_path
-    }
-
     # if we have any error(s) in the stash, automatically show the error page
     if (defined $c->stash->{error}) {
         $c->stash->{template} = 'error/simple';
@@ -311,6 +298,38 @@
     }
 }
 
+sub skin : Private {
+    my ($self, $c) = @_;
+
+    my $skin = $c->skin;
+
+    # we always want root (do we?)
+    my $include_path = [
+        $c->path_to( 'root' ),
+    ];
+
+    # if we are skinned?
+    if (defined $skin) {
+        # we always want root and "skin dir"
+        push @{$include_path}, 
+            $c->path_to( 'root', $skin);
+
+        # we /might/ want to fall back on the default (base)
+        if ($c->config->{skin_default_fallback}) {
+            push @{$include_path}, 
+                $c->path_to( 'root', 'base' );
+        }
+    }
+    # use the base/ templates
+    else {
+        push @{$include_path}, 
+            $c->path_to( 'root', 'base' );
+    }
+
+    # always (re)set the INCLUDE_PATH for TT
+    $c->view('TT')->{include_path} = $include_path;
+}
+
 sub end : Private {
     my ($self, $c) = @_;
     $c->forward('render');

Modified: trunk/lib/Parley.pm
===================================================================
--- trunk/lib/Parley.pm	2008-12-22 22:01:53 UTC (rev 997)
+++ trunk/lib/Parley.pm	2008-12-23 20:42:23 UTC (rev 998)
@@ -202,6 +202,32 @@
     );
 }
 
+sub skin {
+    my $c = shift;
+    my $skin;
+
+    # what's the skin?
+    if (
+        defined $c->_authed_user()
+            and
+        $c->_authed_user()->preference()->skin()
+    ) {
+        # user preference
+        $skin = $c->_authed_user()->preference()->skin();
+        $c->log->debug('user-skin');
+    }
+    else {
+        # application config
+        $skin = $c->config->{site_skin};
+        $c->log->debug('app-skin');
+    };
+
+    $c->log->debug(
+        q{skin is: } . ($skin || '[site default]')
+    );
+    return $skin;
+}
+
 1;
 
 __END__



From chiselwright at mail.berlios.de  Tue Dec 23 21:42:32 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 23 Dec 2008 21:42:32 +0100
Subject: [Parley-svn] r999 - / trunk/lib
Message-ID: <200812232042.mBNKgWn7021833@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-23 21:42:32 +0100 (Tue, 23 Dec 2008)
New Revision: 999

Modified:
   /
   trunk/lib/Parley.pm
Log:
 r8673 at wiggin:  chisel | 2008-12-23 09:32:33 +0000
 - removed debugging output



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8672
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8673
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/lib/Parley.pm
===================================================================
--- trunk/lib/Parley.pm	2008-12-23 20:42:23 UTC (rev 998)
+++ trunk/lib/Parley.pm	2008-12-23 20:42:32 UTC (rev 999)
@@ -214,17 +214,12 @@
     ) {
         # user preference
         $skin = $c->_authed_user()->preference()->skin();
-        $c->log->debug('user-skin');
     }
     else {
         # application config
         $skin = $c->config->{site_skin};
-        $c->log->debug('app-skin');
     };
 
-    $c->log->debug(
-        q{skin is: } . ($skin || '[site default]')
-    );
     return $skin;
 }
 



From chiselwright at mail.berlios.de  Tue Dec 23 21:42:40 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 23 Dec 2008 21:42:40 +0100
Subject: [Parley-svn] r1000 - / trunk trunk/t.output
Message-ID: <200812232042.mBNKge6c021904@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-23 21:42:40 +0100 (Tue, 23 Dec 2008)
New Revision: 1000

Added:
   trunk/t.output/1.0.3
Modified:
   /
   trunk/Changes
   trunk/MANIFEST
Log:
 r8674 at wiggin:  chisel | 2008-12-23 09:35:11 +0000
 + added 1.0.3 test output
 + timestamped 1.0.3 in Change Log
 / regenerated MANIFEST



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8673
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8674
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-12-23 20:42:32 UTC (rev 999)
+++ trunk/Changes	2008-12-23 20:42:40 UTC (rev 1000)
@@ -1,6 +1,6 @@
 This file documents the revision history for Parley.
 
-1.0.3
+1.0.3   Tue Dec 23 09:34:32 GMT 2008
     - switch to database store for sessions
     - upgrade to YUI 2.6.0
     - use Test::Aggregate

Modified: trunk/MANIFEST
===================================================================
--- trunk/MANIFEST	2008-12-23 20:42:32 UTC (rev 999)
+++ trunk/MANIFEST	2008-12-23 20:42:40 UTC (rev 1000)
@@ -947,6 +947,7 @@
 t.output/0.59.00
 t.output/0.59.03
 t.output/1.0.0
+t.output/1.0.3
 t/01app.t
 t/02pod.t
 t/03podcoverage.t

Added: trunk/t.output/1.0.3
===================================================================
--- trunk/t.output/1.0.3	2008-12-23 20:42:32 UTC (rev 999)
+++ trunk/t.output/1.0.3	2008-12-23 20:42:40 UTC (rev 1000)
@@ -0,0 +1,21 @@
+PERL_DL_NONLAZY=1 /usr/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'inc', 'blib/lib', 'blib/arch')" t/*.t t/bug/*.t t/mechanize/*.t
+t/01app.........................ok
+t/02pod.........................skipped: set TEST_POD to enable this test
+t/03podcoverage.................skipped: set TEST_POD to enable this test
+t/04_forumcode..................ok
+t/05.userroles..................ok
+t/06.aggregate.controller.......ok
+t/07.aggregate.schematests......ok
+t/50.text_search.sql............ok
+t/bug/01.forum_list_no_posts....ok
+t/mechanize/00.login............ok
+t/mechanize/01.main_page........ok
+t/mechanize/02.forum............ok
+t/model_ParleyDB................ok
+t/model_Post....................ok
+t/view_JSON.....................ok
+t/view_Plain....................ok
+t/view_TT.......................ok
+All tests successful.
+Files=17, Tests=464, 16 wallclock secs ( 0.19 usr  0.04 sys + 13.18 cusr  0.81 csys = 14.22 CPU)
+Result: PASS



From chiselwright at mail.berlios.de  Tue Dec 23 21:42:59 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 23 Dec 2008 21:42:59 +0100
Subject: [Parley-svn] r1001 - / tags
Message-ID: <200812232042.mBNKgx3H022011@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-23 21:42:59 +0100 (Tue, 23 Dec 2008)
New Revision: 1001

Added:
   tags/parley-1.0.3/
Modified:
   /
Log:
 r8675 at wiggin:  chisel | 2008-12-23 09:35:55 +0000
 Tagging v1.0.3



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8674
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8675
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Copied: tags/parley-1.0.3 (from rev 1000, trunk)



From chiselwright at mail.berlios.de  Tue Dec 23 21:43:21 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 23 Dec 2008 21:43:21 +0100
Subject: [Parley-svn] r1002 - / trunk trunk/lib/Parley
Message-ID: <200812232043.mBNKhL8D022129@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-23 21:43:21 +0100 (Tue, 23 Dec 2008)
New Revision: 1002

Modified:
   /
   trunk/Makefile.PL
   trunk/lib/Parley/Version.pm
Log:
 r8676 at wiggin:  chisel | 2008-12-23 09:36:58 +0000
 Bumping version number to 1.0.4 (post tagging)



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8675
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8676
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: trunk/Makefile.PL
===================================================================
--- trunk/Makefile.PL	2008-12-23 20:42:59 UTC (rev 1001)
+++ trunk/Makefile.PL	2008-12-23 20:43:21 UTC (rev 1002)
@@ -8,7 +8,7 @@
 author          ('Chisel Wright<chiselwright at users.berlios.de>');
 abstract        ('Message board / forum application');
 license         ('perl');
-version         ('1.0.3');
+version         ('1.0.4');
 
 requires(
     'Catalyst'                                                  => '5.7014',

Modified: trunk/lib/Parley/Version.pm
===================================================================
--- trunk/lib/Parley/Version.pm	2008-12-23 20:42:59 UTC (rev 1001)
+++ trunk/lib/Parley/Version.pm	2008-12-23 20:43:21 UTC (rev 1002)
@@ -5,7 +5,7 @@
 
 # from mst on #catalyst
 #our $VERSION = '1.000000'; $VERSION = eval $VERSION;
-use version; our $VERSION = qv(1.0.3)->numify;
+use version; our $VERSION = qv(1.0.4)->numify;
 
 
 package Parley::Version;



From chiselwright at mail.berlios.de  Tue Dec 23 21:43:32 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 23 Dec 2008 21:43:32 +0100
Subject: [Parley-svn] r1003 - / branches
Message-ID: <200812232043.mBNKhWb4022202@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-23 21:43:32 +0100 (Tue, 23 Dec 2008)
New Revision: 1003

Added:
   branches/parley-1.1/
Modified:
   /
Log:
 r8677 at wiggin:  chisel | 2008-12-23 19:35:27 +0000
 Branching for 1.1 milestone



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8676
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8677
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Copied: branches/parley-1.1 (from rev 1002, trunk)



From chiselwright at mail.berlios.de  Tue Dec 23 21:43:50 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 23 Dec 2008 21:43:50 +0100
Subject: [Parley-svn] r1004 - / branches/parley-1.1
	branches/parley-1.1/lib/Parley
Message-ID: <200812232043.mBNKhoME022278@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-23 21:43:50 +0100 (Tue, 23 Dec 2008)
New Revision: 1004

Modified:
   /
   branches/parley-1.1/Makefile.PL
   branches/parley-1.1/lib/Parley/Version.pm
Log:
 r8678 at wiggin:  chisel | 2008-12-23 19:36:58 +0000
 / set version to 1.1.0



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8677
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8678
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/Makefile.PL
===================================================================
--- branches/parley-1.1/Makefile.PL	2008-12-23 20:43:32 UTC (rev 1003)
+++ branches/parley-1.1/Makefile.PL	2008-12-23 20:43:50 UTC (rev 1004)
@@ -8,7 +8,7 @@
 author          ('Chisel Wright<chiselwright at users.berlios.de>');
 abstract        ('Message board / forum application');
 license         ('perl');
-version         ('1.0.4');
+version         ('1.1.0');
 
 requires(
     'Catalyst'                                                  => '5.7014',

Modified: branches/parley-1.1/lib/Parley/Version.pm
===================================================================
--- branches/parley-1.1/lib/Parley/Version.pm	2008-12-23 20:43:32 UTC (rev 1003)
+++ branches/parley-1.1/lib/Parley/Version.pm	2008-12-23 20:43:50 UTC (rev 1004)
@@ -3,11 +3,9 @@
 use strict;
 use warnings;
 
-# from mst on #catalyst
-#our $VERSION = '1.000000'; $VERSION = eval $VERSION;
-use version; our $VERSION = qv(1.0.4)->numify;
+# derived from mst suggestion on #catalyst
+use version; our $VERSION = qv(1.1.0)->numify;
 
-
 package Parley::Version;
 
 our $VERSION = $Parley::VERSION;



From chiselwright at mail.berlios.de  Sat Dec 27 00:59:33 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 00:59:33 +0100
Subject: [Parley-svn] r1005 - / tags/parley-1.0.3
Message-ID: <200812262359.mBQNxXPo015598@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 00:59:32 +0100 (Sat, 27 Dec 2008)
New Revision: 1005

Modified:
   /
   tags/parley-1.0.3/MANIFEST
Log:
 r8686 at wiggin:  chisel | 2008-12-23 21:42:24 +0000
 / corrected Manifest



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8678
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8686
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: tags/parley-1.0.3/MANIFEST
===================================================================
--- tags/parley-1.0.3/MANIFEST	2008-12-23 20:43:50 UTC (rev 1004)
+++ tags/parley-1.0.3/MANIFEST	2008-12-26 23:59:32 UTC (rev 1005)
@@ -39,7 +39,6 @@
 inc/Module/Install/Metadata.pm
 inc/Module/Install/Win32.pm
 inc/Module/Install/WriteAll.pm
-lib/Catalyst/Plugin/Dumper.pm
 lib/Parley.pm
 lib/Parley/App/Communication/Email.pm
 lib/Parley/App/DateTime.pm
@@ -120,7 +119,6 @@
 root/base/help/i_default/contents
 root/base/help/i_default/faq
 root/base/help/i_default/formatting_posts
-root/base/help/i_default/wide
 root/base/help/unknown
 root/base/menu/left/main
 root/base/menu/menubar
@@ -163,7 +161,6 @@
 root/base/thread/add
 root/base/thread/recent
 root/base/thread/reply
-root/base/thread/reply-yuirte
 root/base/thread/view
 root/base/thread/watches
 root/base/user/access_ip_banned



From chiselwright at mail.berlios.de  Sat Dec 27 01:00:01 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 01:00:01 +0100
Subject: [Parley-svn] r1006 - / tags
Message-ID: <200812270000.mBR001Is016221@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 01:00:01 +0100 (Sat, 27 Dec 2008)
New Revision: 1006

Added:
   tags/parley-1.0.4/
Modified:
   /
Log:
 r8687 at wiggin:  chisel | 2008-12-24 07:48:05 +0000
 Copying 1.0.3 to make skin2 and yui fix



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8686
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8687
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Copied: tags/parley-1.0.4 (from rev 1005, tags/parley-1.0.3)



From chiselwright at mail.berlios.de  Sat Dec 27 01:01:02 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 01:01:02 +0100
Subject: [Parley-svn] r1007 - / tags/parley-1.0.4/root/static
	tags/parley-1.0.4/root/static/yui
Message-ID: <200812270001.mBR012ht017726@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 01:00:51 +0100 (Sat, 27 Dec 2008)
New Revision: 1007

Added:
   tags/parley-1.0.4/root/static/yui/
   tags/parley-1.0.4/root/static/yui/animation/
   tags/parley-1.0.4/root/static/yui/assets/
   tags/parley-1.0.4/root/static/yui/autocomplete/
   tags/parley-1.0.4/root/static/yui/base/
   tags/parley-1.0.4/root/static/yui/button/
   tags/parley-1.0.4/root/static/yui/calendar/
   tags/parley-1.0.4/root/static/yui/carousel/
   tags/parley-1.0.4/root/static/yui/charts/
   tags/parley-1.0.4/root/static/yui/colorpicker/
   tags/parley-1.0.4/root/static/yui/connection/
   tags/parley-1.0.4/root/static/yui/container/
   tags/parley-1.0.4/root/static/yui/cookie/
   tags/parley-1.0.4/root/static/yui/datasource/
   tags/parley-1.0.4/root/static/yui/datatable/
   tags/parley-1.0.4/root/static/yui/dom/
   tags/parley-1.0.4/root/static/yui/dragdrop/
   tags/parley-1.0.4/root/static/yui/editor/
   tags/parley-1.0.4/root/static/yui/element/
   tags/parley-1.0.4/root/static/yui/event/
   tags/parley-1.0.4/root/static/yui/fonts/
   tags/parley-1.0.4/root/static/yui/get/
   tags/parley-1.0.4/root/static/yui/grids/
   tags/parley-1.0.4/root/static/yui/history/
   tags/parley-1.0.4/root/static/yui/imagecropper/
   tags/parley-1.0.4/root/static/yui/imageloader/
   tags/parley-1.0.4/root/static/yui/json/
   tags/parley-1.0.4/root/static/yui/layout/
   tags/parley-1.0.4/root/static/yui/logger/
   tags/parley-1.0.4/root/static/yui/menu/
   tags/parley-1.0.4/root/static/yui/paginator/
   tags/parley-1.0.4/root/static/yui/profiler/
   tags/parley-1.0.4/root/static/yui/profilerviewer/
   tags/parley-1.0.4/root/static/yui/reset-fonts-grids/
   tags/parley-1.0.4/root/static/yui/reset-fonts/
   tags/parley-1.0.4/root/static/yui/reset/
   tags/parley-1.0.4/root/static/yui/resize/
   tags/parley-1.0.4/root/static/yui/selector/
   tags/parley-1.0.4/root/static/yui/slider/
   tags/parley-1.0.4/root/static/yui/tabview/
   tags/parley-1.0.4/root/static/yui/treeview/
   tags/parley-1.0.4/root/static/yui/uploader/
   tags/parley-1.0.4/root/static/yui/utilities/
   tags/parley-1.0.4/root/static/yui/yahoo-dom-event/
   tags/parley-1.0.4/root/static/yui/yahoo/
   tags/parley-1.0.4/root/static/yui/yuiloader-dom-event/
   tags/parley-1.0.4/root/static/yui/yuiloader/
   tags/parley-1.0.4/root/static/yui/yuitest/
Removed:
   tags/parley-1.0.4/root/static/yui
   tags/parley-1.0.4/root/static/yui_2.6.0/
Modified:
   /
Log:
 r8688 at wiggin:  chisel | 2008-12-24 07:49:43 +0000
 / convert yui_2.6.0 into a real directory; "make dist" doesn't appear to include soft links



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8687
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8688
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Deleted: tags/parley-1.0.4/root/static/yui
===================================================================
--- tags/parley-1.0.4/root/static/yui	2008-12-27 00:00:01 UTC (rev 1006)
+++ tags/parley-1.0.4/root/static/yui	2008-12-27 00:00:51 UTC (rev 1007)
@@ -1 +0,0 @@
-link yui_2.6.0
\ No newline at end of file

Copied: tags/parley-1.0.4/root/static/yui/animation (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/animation)

Copied: tags/parley-1.0.4/root/static/yui/assets (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/assets)

Copied: tags/parley-1.0.4/root/static/yui/autocomplete (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/autocomplete)

Copied: tags/parley-1.0.4/root/static/yui/base (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/base)

Copied: tags/parley-1.0.4/root/static/yui/button (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/button)

Copied: tags/parley-1.0.4/root/static/yui/calendar (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/calendar)

Copied: tags/parley-1.0.4/root/static/yui/carousel (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/carousel)

Copied: tags/parley-1.0.4/root/static/yui/charts (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/charts)

Copied: tags/parley-1.0.4/root/static/yui/colorpicker (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/colorpicker)

Copied: tags/parley-1.0.4/root/static/yui/connection (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/connection)

Copied: tags/parley-1.0.4/root/static/yui/container (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/container)

Copied: tags/parley-1.0.4/root/static/yui/cookie (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/cookie)

Copied: tags/parley-1.0.4/root/static/yui/datasource (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/datasource)

Copied: tags/parley-1.0.4/root/static/yui/datatable (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/datatable)

Copied: tags/parley-1.0.4/root/static/yui/dom (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/dom)

Copied: tags/parley-1.0.4/root/static/yui/dragdrop (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/dragdrop)

Copied: tags/parley-1.0.4/root/static/yui/editor (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/editor)

Copied: tags/parley-1.0.4/root/static/yui/element (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/element)

Copied: tags/parley-1.0.4/root/static/yui/event (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/event)

Copied: tags/parley-1.0.4/root/static/yui/fonts (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/fonts)

Copied: tags/parley-1.0.4/root/static/yui/get (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/get)

Copied: tags/parley-1.0.4/root/static/yui/grids (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/grids)

Copied: tags/parley-1.0.4/root/static/yui/history (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/history)

Copied: tags/parley-1.0.4/root/static/yui/imagecropper (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/imagecropper)

Copied: tags/parley-1.0.4/root/static/yui/imageloader (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/imageloader)

Copied: tags/parley-1.0.4/root/static/yui/json (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/json)

Copied: tags/parley-1.0.4/root/static/yui/layout (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/layout)

Copied: tags/parley-1.0.4/root/static/yui/logger (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/logger)

Copied: tags/parley-1.0.4/root/static/yui/menu (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/menu)

Copied: tags/parley-1.0.4/root/static/yui/paginator (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/paginator)

Copied: tags/parley-1.0.4/root/static/yui/profiler (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/profiler)

Copied: tags/parley-1.0.4/root/static/yui/profilerviewer (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/profilerviewer)

Copied: tags/parley-1.0.4/root/static/yui/reset (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/reset)

Copied: tags/parley-1.0.4/root/static/yui/reset-fonts (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/reset-fonts)

Copied: tags/parley-1.0.4/root/static/yui/reset-fonts-grids (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/reset-fonts-grids)

Copied: tags/parley-1.0.4/root/static/yui/resize (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/resize)

Copied: tags/parley-1.0.4/root/static/yui/selector (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/selector)

Copied: tags/parley-1.0.4/root/static/yui/slider (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/slider)

Copied: tags/parley-1.0.4/root/static/yui/tabview (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/tabview)

Copied: tags/parley-1.0.4/root/static/yui/treeview (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/treeview)

Copied: tags/parley-1.0.4/root/static/yui/uploader (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/uploader)

Copied: tags/parley-1.0.4/root/static/yui/utilities (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/utilities)

Copied: tags/parley-1.0.4/root/static/yui/yahoo (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/yahoo)

Copied: tags/parley-1.0.4/root/static/yui/yahoo-dom-event (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/yahoo-dom-event)

Copied: tags/parley-1.0.4/root/static/yui/yuiloader (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/yuiloader)

Copied: tags/parley-1.0.4/root/static/yui/yuiloader-dom-event (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/yuiloader-dom-event)

Copied: tags/parley-1.0.4/root/static/yui/yuitest (from rev 1006, tags/parley-1.0.4/root/static/yui_2.6.0/yuitest)



From chiselwright at mail.berlios.de  Sat Dec 27 01:02:41 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 01:02:41 +0100
Subject: [Parley-svn] r1008 - / tags/parley-1.0.4/root
	tags/parley-1.0.4/root/skin2 tags/parley-1.0.4/root/skin2/error
	tags/parley-1.0.4/root/skin2/forum tags/parley-1.0.4/root/skin2/help
	tags/parley-1.0.4/root/skin2/menu
	tags/parley-1.0.4/root/skin2/shared
	tags/parley-1.0.4/root/skin2/terms
	tags/parley-1.0.4/root/skin2/thread
	tags/parley-1.0.4/root/skin2/user
Message-ID: <200812270002.mBR02fM0020192@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 01:02:39 +0100 (Sat, 27 Dec 2008)
New Revision: 1008

Added:
   tags/parley-1.0.4/root/skin2/
Removed:
   tags/parley-1.0.4/root/skin2/
Modified:
   /
   tags/parley-1.0.4/root/skin2/error/
   tags/parley-1.0.4/root/skin2/footer
   tags/parley-1.0.4/root/skin2/forum/
   tags/parley-1.0.4/root/skin2/help/
   tags/parley-1.0.4/root/skin2/menu/
   tags/parley-1.0.4/root/skin2/shared/
   tags/parley-1.0.4/root/skin2/terms/
   tags/parley-1.0.4/root/skin2/thread/
   tags/parley-1.0.4/root/skin2/user/
Log:
 r8689 at wiggin:  chisel | 2008-12-24 07:52:14 +0000
 "fix" skin2 (copied from an older base with no Skin prefs tab)



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8688
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8689
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Copied: tags/parley-1.0.4/root/skin2 (from rev 1006, tags/parley-1.0.4/root/base)


Property changes on: tags/parley-1.0.4/root/skin2/error
___________________________________________________________________
Name: svn:ignore
   - *.swp


Modified: tags/parley-1.0.4/root/skin2/footer
===================================================================
--- tags/parley-1.0.4/root/base/footer	2008-12-27 00:00:01 UTC (rev 1006)
+++ tags/parley-1.0.4/root/skin2/footer	2008-12-27 00:02:39 UTC (rev 1008)
@@ -3,6 +3,9 @@
 
             <div id="ft">
                 <p>
+This is a copy of the default skin, with the addition of this annoying message
+int the footer.
+<br />
                 <a href="http://developer.berlios.de/projects/parley">[%c.config.name%]</a>
                 (version [%c.config.version%])
                 &copy; Chisel Wright 2006-2008. [%l('All Rights Reserved')%].


Property changes on: tags/parley-1.0.4/root/skin2/forum
___________________________________________________________________
Name: svn:ignore
   - *.sw?



Property changes on: tags/parley-1.0.4/root/skin2/help
___________________________________________________________________
Name: svn:ignore
   - *.swp



Property changes on: tags/parley-1.0.4/root/skin2/menu
___________________________________________________________________
Name: svn:ignore
   - *.swp



Property changes on: tags/parley-1.0.4/root/skin2/shared
___________________________________________________________________
Name: svn:ignore
   - *.swp



Property changes on: tags/parley-1.0.4/root/skin2/terms
___________________________________________________________________
Name: svn:ignore
   - *.swp



Property changes on: tags/parley-1.0.4/root/skin2/thread
___________________________________________________________________
Name: svn:ignore
   - *.swp



Property changes on: tags/parley-1.0.4/root/skin2/user
___________________________________________________________________
Name: svn:ignore
   - *.swp




From chiselwright at mail.berlios.de  Sat Dec 27 01:02:52 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 01:02:52 +0100
Subject: [Parley-svn] r1009 - / tags/parley-1.0.4
	tags/parley-1.0.4/lib/Parley
Message-ID: <200812270002.mBR02qmI020558@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 01:02:52 +0100 (Sat, 27 Dec 2008)
New Revision: 1009

Modified:
   /
   tags/parley-1.0.4/Makefile.PL
   tags/parley-1.0.4/lib/Parley/Version.pm
Log:
 r8690 at wiggin:  chisel | 2008-12-24 07:54:40 +0000
 / Bumped version number to 1.0.4
 + added dep for Template::Plugin::FoumCode



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8689
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8690
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: tags/parley-1.0.4/Makefile.PL
===================================================================
--- tags/parley-1.0.4/Makefile.PL	2008-12-27 00:02:39 UTC (rev 1008)
+++ tags/parley-1.0.4/Makefile.PL	2008-12-27 00:02:52 UTC (rev 1009)
@@ -8,7 +8,7 @@
 author          ('Chisel Wright<chiselwright at users.berlios.de>');
 abstract        ('Message board / forum application');
 license         ('perl');
-version         ('1.0.3');
+version         ('1.0.4');
 
 requires(
     'Catalyst'                                                  => '5.7014',
@@ -49,6 +49,7 @@
     'Proc::Daemon'                                              => '0.03',
     'Proc::PID::File'                                           => '1.2.4',
     'Readonly'                                                  => 0,
+    'Template::Plugin::ForumCode'                               => '0.0.5',
     'Text::Context::EitherSide'                                 => '1.3',
     'Time::Piece'                                               => '1.11',
 );

Modified: tags/parley-1.0.4/lib/Parley/Version.pm
===================================================================
--- tags/parley-1.0.4/lib/Parley/Version.pm	2008-12-27 00:02:39 UTC (rev 1008)
+++ tags/parley-1.0.4/lib/Parley/Version.pm	2008-12-27 00:02:52 UTC (rev 1009)
@@ -5,7 +5,7 @@
 
 # from mst on #catalyst
 #our $VERSION = '1.000000'; $VERSION = eval $VERSION;
-use version; our $VERSION = qv(1.0.3)->numify;
+use version; our $VERSION = qv(1.0.4)->numify;
 
 
 package Parley::Version;



From chiselwright at mail.berlios.de  Sat Dec 27 01:03:02 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 01:03:02 +0100
Subject: [Parley-svn] r1010 - / tags/parley-1.0.4
Message-ID: <200812270003.mBR032tU020734@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 01:03:00 +0100 (Sat, 27 Dec 2008)
New Revision: 1010

Modified:
   /
   tags/parley-1.0.4/MANIFEST
Log:
 r8691 at wiggin:  chisel | 2008-12-24 07:55:19 +0000
 / regenerated MANIFEST



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8690
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8691
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: tags/parley-1.0.4/MANIFEST
===================================================================
--- tags/parley-1.0.4/MANIFEST	2008-12-27 00:02:52 UTC (rev 1009)
+++ tags/parley-1.0.4/MANIFEST	2008-12-27 00:03:00 UTC (rev 1010)
@@ -202,7 +202,6 @@
 root/skin2/help/i_default/contents
 root/skin2/help/i_default/faq
 root/skin2/help/i_default/formatting_posts
-root/skin2/help/i_default/wide
 root/skin2/help/unknown
 root/skin2/menu/left/main
 root/skin2/menu/menubar
@@ -211,6 +210,7 @@
 root/skin2/my/selectplace_ajaxresult
 root/skin2/my/tab_avatar
 root/skin2/my/tab_notifications
+root/skin2/my/tab_skin
 root/skin2/my/tab_time
 root/skin2/my/tab_watch
 root/skin2/my/tab_you
@@ -244,7 +244,6 @@
 root/skin2/thread/add
 root/skin2/thread/recent
 root/skin2/thread/reply
-root/skin2/thread/reply-yuirte
 root/skin2/thread/view
 root/skin2/thread/watches
 root/skin2/user/access_ip_banned
@@ -551,383 +550,383 @@
 root/static/script/prototype.js
 root/static/script/user_forum_moderate.js
 root/static/script/user_suspend.js
-root/static/yui_2.6.0/animation/animation-debug.js
-root/static/yui_2.6.0/animation/animation-min.js
-root/static/yui_2.6.0/animation/animation.js
-root/static/yui_2.6.0/animation/README
-root/static/yui_2.6.0/assets/skins/sam/asc.gif
-root/static/yui_2.6.0/assets/skins/sam/autocomplete.css
-root/static/yui_2.6.0/assets/skins/sam/blankimage.png
-root/static/yui_2.6.0/assets/skins/sam/button.css
-root/static/yui_2.6.0/assets/skins/sam/calendar.css
-root/static/yui_2.6.0/assets/skins/sam/carousel.css
-root/static/yui_2.6.0/assets/skins/sam/colorpicker.css
-root/static/yui_2.6.0/assets/skins/sam/container.css
-root/static/yui_2.6.0/assets/skins/sam/datatable.css
-root/static/yui_2.6.0/assets/skins/sam/desc.gif
-root/static/yui_2.6.0/assets/skins/sam/dt-arrow-dn.png
-root/static/yui_2.6.0/assets/skins/sam/dt-arrow-up.png
-root/static/yui_2.6.0/assets/skins/sam/editor-knob.gif
-root/static/yui_2.6.0/assets/skins/sam/editor-sprite-active.gif
-root/static/yui_2.6.0/assets/skins/sam/editor-sprite.gif
-root/static/yui_2.6.0/assets/skins/sam/editor.css
-root/static/yui_2.6.0/assets/skins/sam/header_background.png
-root/static/yui_2.6.0/assets/skins/sam/hue_bg.png
-root/static/yui_2.6.0/assets/skins/sam/imagecropper.css
-root/static/yui_2.6.0/assets/skins/sam/layout.css
-root/static/yui_2.6.0/assets/skins/sam/layout_sprite.png
-root/static/yui_2.6.0/assets/skins/sam/loading.gif
-root/static/yui_2.6.0/assets/skins/sam/logger.css
-root/static/yui_2.6.0/assets/skins/sam/menu-button-arrow-disabled.png
-root/static/yui_2.6.0/assets/skins/sam/menu-button-arrow.png
-root/static/yui_2.6.0/assets/skins/sam/menu.css
-root/static/yui_2.6.0/assets/skins/sam/menubaritem_submenuindicator.png
-root/static/yui_2.6.0/assets/skins/sam/menubaritem_submenuindicator_disabled.png
-root/static/yui_2.6.0/assets/skins/sam/menuitem_checkbox.png
-root/static/yui_2.6.0/assets/skins/sam/menuitem_checkbox_disabled.png
-root/static/yui_2.6.0/assets/skins/sam/menuitem_submenuindicator.png
-root/static/yui_2.6.0/assets/skins/sam/menuitem_submenuindicator_disabled.png
-root/static/yui_2.6.0/assets/skins/sam/paginator.css
-root/static/yui_2.6.0/assets/skins/sam/picker_mask.png
-root/static/yui_2.6.0/assets/skins/sam/profilerviewer.css
-root/static/yui_2.6.0/assets/skins/sam/resize.css
-root/static/yui_2.6.0/assets/skins/sam/simpleeditor.css
-root/static/yui_2.6.0/assets/skins/sam/skin.css
-root/static/yui_2.6.0/assets/skins/sam/slider.css
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow-active.png
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow-disabled.png
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow-focus.png
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow-hover.png
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow.png
-root/static/yui_2.6.0/assets/skins/sam/sprite.png
-root/static/yui_2.6.0/assets/skins/sam/sprite.psd
-root/static/yui_2.6.0/assets/skins/sam/tabview.css
-root/static/yui_2.6.0/assets/skins/sam/treeview-loading.gif
-root/static/yui_2.6.0/assets/skins/sam/treeview-sprite.gif
-root/static/yui_2.6.0/assets/skins/sam/treeview.css
-root/static/yui_2.6.0/assets/skins/sam/wait.gif
-root/static/yui_2.6.0/assets/skins/sam/yuitest.css
-root/static/yui_2.6.0/autocomplete/assets/autocomplete-core.css
-root/static/yui_2.6.0/autocomplete/assets/skins/sam/autocomplete-skin.css
-root/static/yui_2.6.0/autocomplete/assets/skins/sam/autocomplete.css
-root/static/yui_2.6.0/autocomplete/autocomplete-debug.js
-root/static/yui_2.6.0/autocomplete/autocomplete-min.js
-root/static/yui_2.6.0/autocomplete/autocomplete.js
-root/static/yui_2.6.0/autocomplete/README
-root/static/yui_2.6.0/base/base-min.css
-root/static/yui_2.6.0/base/base.css
-root/static/yui_2.6.0/base/README
-root/static/yui_2.6.0/button/assets/button-core.css
-root/static/yui_2.6.0/button/assets/skins/sam/button-skin.css
-root/static/yui_2.6.0/button/assets/skins/sam/button.css
-root/static/yui_2.6.0/button/assets/skins/sam/menu-button-arrow-disabled.png
-root/static/yui_2.6.0/button/assets/skins/sam/menu-button-arrow.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow-active.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow-disabled.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow-focus.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow-hover.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow.png
-root/static/yui_2.6.0/button/button-debug.js
-root/static/yui_2.6.0/button/button-min.js
-root/static/yui_2.6.0/button/button.js
-root/static/yui_2.6.0/button/README
-root/static/yui_2.6.0/calendar/assets/calendar-core.css
-root/static/yui_2.6.0/calendar/assets/calendar.css
-root/static/yui_2.6.0/calendar/assets/calgrad.png
-root/static/yui_2.6.0/calendar/assets/callt.gif
-root/static/yui_2.6.0/calendar/assets/calrt.gif
-root/static/yui_2.6.0/calendar/assets/calx.gif
-root/static/yui_2.6.0/calendar/assets/skins/sam/calendar-skin.css
-root/static/yui_2.6.0/calendar/assets/skins/sam/calendar.css
-root/static/yui_2.6.0/calendar/calendar-debug.js
-root/static/yui_2.6.0/calendar/calendar-min.js
-root/static/yui_2.6.0/calendar/calendar.js
-root/static/yui_2.6.0/calendar/README
-root/static/yui_2.6.0/carousel/assets/ajax-loader.gif
-root/static/yui_2.6.0/carousel/assets/carousel-core.css
-root/static/yui_2.6.0/carousel/assets/skins/sam/carousel-skin.css
-root/static/yui_2.6.0/carousel/assets/skins/sam/carousel.css
-root/static/yui_2.6.0/carousel/carousel-beta-debug.js
-root/static/yui_2.6.0/carousel/carousel-beta-min.js
-root/static/yui_2.6.0/carousel/carousel-beta.js
-root/static/yui_2.6.0/carousel/README
-root/static/yui_2.6.0/charts/assets/charts.swf
-root/static/yui_2.6.0/charts/charts-experimental-debug.js
-root/static/yui_2.6.0/charts/charts-experimental-min.js
-root/static/yui_2.6.0/charts/charts-experimental.js
-root/static/yui_2.6.0/charts/README
-root/static/yui_2.6.0/colorpicker/assets/colorpicker-core.css
-root/static/yui_2.6.0/colorpicker/assets/hue_thumb.png
-root/static/yui_2.6.0/colorpicker/assets/picker_mask.png
-root/static/yui_2.6.0/colorpicker/assets/picker_thumb.png
-root/static/yui_2.6.0/colorpicker/assets/skins/sam/colorpicker-skin.css
-root/static/yui_2.6.0/colorpicker/assets/skins/sam/colorpicker.css
-root/static/yui_2.6.0/colorpicker/assets/skins/sam/hue_bg.png
-root/static/yui_2.6.0/colorpicker/assets/skins/sam/picker_mask.png
-root/static/yui_2.6.0/colorpicker/colorpicker-debug.js
-root/static/yui_2.6.0/colorpicker/colorpicker-min.js
-root/static/yui_2.6.0/colorpicker/colorpicker.js
-root/static/yui_2.6.0/colorpicker/README
-root/static/yui_2.6.0/connection/connection-debug.js
-root/static/yui_2.6.0/connection/connection-min.js
-root/static/yui_2.6.0/connection/connection.js
-root/static/yui_2.6.0/connection/README
-root/static/yui_2.6.0/container/assets/alrt16_1.gif
-root/static/yui_2.6.0/container/assets/blck16_1.gif
-root/static/yui_2.6.0/container/assets/close12_1.gif
-root/static/yui_2.6.0/container/assets/container-core.css
-root/static/yui_2.6.0/container/assets/container.css
-root/static/yui_2.6.0/container/assets/hlp16_1.gif
-root/static/yui_2.6.0/container/assets/info16_1.gif
-root/static/yui_2.6.0/container/assets/skins/sam/container-skin.css
-root/static/yui_2.6.0/container/assets/skins/sam/container.css
-root/static/yui_2.6.0/container/assets/tip16_1.gif
-root/static/yui_2.6.0/container/assets/warn16_1.gif
-root/static/yui_2.6.0/container/container-debug.js
-root/static/yui_2.6.0/container/container-min.js
-root/static/yui_2.6.0/container/container.js
-root/static/yui_2.6.0/container/container_core-debug.js
-root/static/yui_2.6.0/container/container_core-min.js
-root/static/yui_2.6.0/container/container_core.js
-root/static/yui_2.6.0/container/README
-root/static/yui_2.6.0/cookie/cookie-debug.js
-root/static/yui_2.6.0/cookie/cookie-min.js
-root/static/yui_2.6.0/cookie/cookie.js
-root/static/yui_2.6.0/cookie/README
-root/static/yui_2.6.0/datasource/datasource-debug.js
-root/static/yui_2.6.0/datasource/datasource-min.js
-root/static/yui_2.6.0/datasource/datasource.js
-root/static/yui_2.6.0/datasource/README
-root/static/yui_2.6.0/datatable/assets/datatable-core.css
-root/static/yui_2.6.0/datatable/assets/datatable.css
-root/static/yui_2.6.0/datatable/assets/skins/sam/datatable-skin.css
-root/static/yui_2.6.0/datatable/assets/skins/sam/datatable.css
-root/static/yui_2.6.0/datatable/assets/skins/sam/dt-arrow-dn.png
-root/static/yui_2.6.0/datatable/assets/skins/sam/dt-arrow-up.png
-root/static/yui_2.6.0/datatable/datatable-debug.js
-root/static/yui_2.6.0/datatable/datatable-min.js
-root/static/yui_2.6.0/datatable/datatable.js
-root/static/yui_2.6.0/datatable/README
-root/static/yui_2.6.0/dom/dom-debug.js
-root/static/yui_2.6.0/dom/dom-min.js
-root/static/yui_2.6.0/dom/dom.js
-root/static/yui_2.6.0/dom/README
-root/static/yui_2.6.0/dragdrop/dragdrop-debug.js
-root/static/yui_2.6.0/dragdrop/dragdrop-min.js
-root/static/yui_2.6.0/dragdrop/dragdrop.js
-root/static/yui_2.6.0/dragdrop/README
-root/static/yui_2.6.0/editor/assets/editor-core.css
-root/static/yui_2.6.0/editor/assets/simpleeditor-core.css
-root/static/yui_2.6.0/editor/assets/skins/sam/blankimage.png
-root/static/yui_2.6.0/editor/assets/skins/sam/editor-knob.gif
-root/static/yui_2.6.0/editor/assets/skins/sam/editor-skin.css
-root/static/yui_2.6.0/editor/assets/skins/sam/editor-sprite-active.gif
-root/static/yui_2.6.0/editor/assets/skins/sam/editor-sprite.gif
-root/static/yui_2.6.0/editor/assets/skins/sam/editor.css
-root/static/yui_2.6.0/editor/assets/skins/sam/simpleeditor-skin.css
-root/static/yui_2.6.0/editor/assets/skins/sam/simpleeditor.css
-root/static/yui_2.6.0/editor/editor-debug.js
-root/static/yui_2.6.0/editor/editor-min.js
-root/static/yui_2.6.0/editor/editor.js
-root/static/yui_2.6.0/editor/README
-root/static/yui_2.6.0/editor/simpleeditor-debug.js
-root/static/yui_2.6.0/editor/simpleeditor-min.js
-root/static/yui_2.6.0/editor/simpleeditor.js
-root/static/yui_2.6.0/element/element-beta-debug.js
-root/static/yui_2.6.0/element/element-beta-min.js
-root/static/yui_2.6.0/element/element-beta.js
-root/static/yui_2.6.0/element/README
-root/static/yui_2.6.0/event/event-debug.js
-root/static/yui_2.6.0/event/event-min.js
-root/static/yui_2.6.0/event/event.js
-root/static/yui_2.6.0/event/README
-root/static/yui_2.6.0/fonts/fonts-min.css
-root/static/yui_2.6.0/fonts/fonts.css
-root/static/yui_2.6.0/fonts/README
-root/static/yui_2.6.0/get/get-debug.js
-root/static/yui_2.6.0/get/get-min.js
-root/static/yui_2.6.0/get/get.js
-root/static/yui_2.6.0/get/README
-root/static/yui_2.6.0/grids/grids-min.css
-root/static/yui_2.6.0/grids/grids.css
-root/static/yui_2.6.0/grids/README
-root/static/yui_2.6.0/history/assets/blank.html
-root/static/yui_2.6.0/history/history-debug.js
-root/static/yui_2.6.0/history/history-min.js
-root/static/yui_2.6.0/history/history.js
-root/static/yui_2.6.0/history/README
-root/static/yui_2.6.0/imagecropper/assets/imagecropper-core.css
-root/static/yui_2.6.0/imagecropper/assets/skins/sam/imagecropper-skin.css
-root/static/yui_2.6.0/imagecropper/assets/skins/sam/imagecropper.css
-root/static/yui_2.6.0/imagecropper/imagecropper-beta-debug.js
-root/static/yui_2.6.0/imagecropper/imagecropper-beta-min.js
-root/static/yui_2.6.0/imagecropper/imagecropper-beta.js
-root/static/yui_2.6.0/imagecropper/README
-root/static/yui_2.6.0/imageloader/imageloader-debug.js
-root/static/yui_2.6.0/imageloader/imageloader-min.js
-root/static/yui_2.6.0/imageloader/imageloader.js
-root/static/yui_2.6.0/imageloader/README
-root/static/yui_2.6.0/json/json-debug.js
-root/static/yui_2.6.0/json/json-min.js
-root/static/yui_2.6.0/json/json.js
-root/static/yui_2.6.0/json/README
-root/static/yui_2.6.0/layout/assets/layout-core.css
-root/static/yui_2.6.0/layout/assets/skins/sam/layout-skin.css
-root/static/yui_2.6.0/layout/assets/skins/sam/layout.css
-root/static/yui_2.6.0/layout/assets/skins/sam/layout_sprite.png
-root/static/yui_2.6.0/layout/layout-debug.js
-root/static/yui_2.6.0/layout/layout-min.js
-root/static/yui_2.6.0/layout/layout.js
-root/static/yui_2.6.0/layout/README
-root/static/yui_2.6.0/logger/assets/logger-core.css
-root/static/yui_2.6.0/logger/assets/logger.css
-root/static/yui_2.6.0/logger/assets/skins/sam/logger-skin.css
-root/static/yui_2.6.0/logger/assets/skins/sam/logger.css
-root/static/yui_2.6.0/logger/logger-debug.js
-root/static/yui_2.6.0/logger/logger-min.js
-root/static/yui_2.6.0/logger/logger.js
-root/static/yui_2.6.0/logger/README
-root/static/yui_2.6.0/menu/assets/menu-core.css
-root/static/yui_2.6.0/menu/assets/menu.css
-root/static/yui_2.6.0/menu/assets/menu_down_arrow.png
-root/static/yui_2.6.0/menu/assets/menu_down_arrow_disabled.png
-root/static/yui_2.6.0/menu/assets/menu_up_arrow.png
-root/static/yui_2.6.0/menu/assets/menu_up_arrow_disabled.png
-root/static/yui_2.6.0/menu/assets/menubaritem_submenuindicator.png
-root/static/yui_2.6.0/menu/assets/menubaritem_submenuindicator_disabled.png
-root/static/yui_2.6.0/menu/assets/menubaritem_submenuindicator_selected.png
-root/static/yui_2.6.0/menu/assets/menuitem_checkbox.png
-root/static/yui_2.6.0/menu/assets/menuitem_checkbox_disabled.png
-root/static/yui_2.6.0/menu/assets/menuitem_checkbox_selected.png
-root/static/yui_2.6.0/menu/assets/menuitem_submenuindicator.png
-root/static/yui_2.6.0/menu/assets/menuitem_submenuindicator_disabled.png
-root/static/yui_2.6.0/menu/assets/menuitem_submenuindicator_selected.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menu-skin.css
-root/static/yui_2.6.0/menu/assets/skins/sam/menu.css
-root/static/yui_2.6.0/menu/assets/skins/sam/menubaritem_submenuindicator.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menubaritem_submenuindicator_disabled.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menuitem_checkbox.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menuitem_checkbox_disabled.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menuitem_submenuindicator.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menuitem_submenuindicator_disabled.png
-root/static/yui_2.6.0/menu/menu-debug.js
-root/static/yui_2.6.0/menu/menu-min.js
-root/static/yui_2.6.0/menu/menu.js
-root/static/yui_2.6.0/menu/README
-root/static/yui_2.6.0/paginator/assets/paginator-core.css
-root/static/yui_2.6.0/paginator/assets/skins/sam/paginator-skin.css
-root/static/yui_2.6.0/paginator/assets/skins/sam/paginator.css
-root/static/yui_2.6.0/paginator/paginator-debug.js
-root/static/yui_2.6.0/paginator/paginator-min.js
-root/static/yui_2.6.0/paginator/paginator.js
-root/static/yui_2.6.0/paginator/README
-root/static/yui_2.6.0/profiler/profiler-debug.js
-root/static/yui_2.6.0/profiler/profiler-min.js
-root/static/yui_2.6.0/profiler/profiler.js
-root/static/yui_2.6.0/profiler/README
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/asc.gif
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/desc.gif
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/header_background.png
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/profilerviewer.css
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/wait.gif
-root/static/yui_2.6.0/profilerviewer/profilerviewer-beta-debug.js
-root/static/yui_2.6.0/profilerviewer/profilerviewer-beta-min.js
-root/static/yui_2.6.0/profilerviewer/profilerviewer-beta.js
-root/static/yui_2.6.0/profilerviewer/README
-root/static/yui_2.6.0/reset-fonts-grids/README
-root/static/yui_2.6.0/reset-fonts-grids/reset-fonts-grids.css
-root/static/yui_2.6.0/reset-fonts/README
-root/static/yui_2.6.0/reset-fonts/reset-fonts.css
-root/static/yui_2.6.0/reset/README
-root/static/yui_2.6.0/reset/reset-min.css
-root/static/yui_2.6.0/reset/reset.css
-root/static/yui_2.6.0/resize/assets/resize-core.css
-root/static/yui_2.6.0/resize/assets/skins/sam/layout_sprite.png
-root/static/yui_2.6.0/resize/assets/skins/sam/resize-skin.css
-root/static/yui_2.6.0/resize/assets/skins/sam/resize.css
-root/static/yui_2.6.0/resize/README
-root/static/yui_2.6.0/resize/resize-debug.js
-root/static/yui_2.6.0/resize/resize-min.js
-root/static/yui_2.6.0/resize/resize.js
-root/static/yui_2.6.0/selector/README
-root/static/yui_2.6.0/selector/selector-beta-debug.js
-root/static/yui_2.6.0/selector/selector-beta-min.js
-root/static/yui_2.6.0/selector/selector-beta.js
-root/static/yui_2.6.0/slider/assets/bg-fader.gif
-root/static/yui_2.6.0/slider/assets/bg-h.gif
-root/static/yui_2.6.0/slider/assets/bg-v-e.gif
-root/static/yui_2.6.0/slider/assets/bg-v.gif
-root/static/yui_2.6.0/slider/assets/left-thumb.png
-root/static/yui_2.6.0/slider/assets/right-thumb.png
-root/static/yui_2.6.0/slider/assets/skins/sam/slider-skin.css
-root/static/yui_2.6.0/slider/assets/skins/sam/slider.css
-root/static/yui_2.6.0/slider/assets/slider-core.css
-root/static/yui_2.6.0/slider/assets/thumb-bar.gif
-root/static/yui_2.6.0/slider/assets/thumb-e.gif
-root/static/yui_2.6.0/slider/assets/thumb-fader.gif
-root/static/yui_2.6.0/slider/assets/thumb-n.gif
-root/static/yui_2.6.0/slider/assets/thumb-s.gif
-root/static/yui_2.6.0/slider/assets/thumb-w.gif
-root/static/yui_2.6.0/slider/README
-root/static/yui_2.6.0/slider/slider-debug.js
-root/static/yui_2.6.0/slider/slider-min.js
-root/static/yui_2.6.0/slider/slider.js
-root/static/yui_2.6.0/tabview/assets/border_tabs.css
-root/static/yui_2.6.0/tabview/assets/loading.gif
-root/static/yui_2.6.0/tabview/assets/skin-sam.css
-root/static/yui_2.6.0/tabview/assets/skins/sam/tabview-skin.css
-root/static/yui_2.6.0/tabview/assets/skins/sam/tabview.css
-root/static/yui_2.6.0/tabview/assets/tabview-core.css
-root/static/yui_2.6.0/tabview/assets/tabview.css
-root/static/yui_2.6.0/tabview/README
-root/static/yui_2.6.0/tabview/tabview-debug.js
-root/static/yui_2.6.0/tabview/tabview-min.js
-root/static/yui_2.6.0/tabview/tabview.js
-root/static/yui_2.6.0/treeview/assets/skins/sam/loading.gif
-root/static/yui_2.6.0/treeview/assets/skins/sam/treeview-loading.gif
-root/static/yui_2.6.0/treeview/assets/skins/sam/treeview-skin.css
-root/static/yui_2.6.0/treeview/assets/skins/sam/treeview-sprite.gif
-root/static/yui_2.6.0/treeview/assets/skins/sam/treeview.css
-root/static/yui_2.6.0/treeview/assets/sprite-menu.gif
-root/static/yui_2.6.0/treeview/assets/sprite-orig.gif
-root/static/yui_2.6.0/treeview/assets/treeview-core.css
-root/static/yui_2.6.0/treeview/assets/treeview-loading.gif
-root/static/yui_2.6.0/treeview/assets/treeview-menu.css
-root/static/yui_2.6.0/treeview/assets/treeview.css
-root/static/yui_2.6.0/treeview/README
-root/static/yui_2.6.0/treeview/treeview-debug.js
-root/static/yui_2.6.0/treeview/treeview-min.js
-root/static/yui_2.6.0/treeview/treeview.js
-root/static/yui_2.6.0/uploader/assets/uploader.swf
-root/static/yui_2.6.0/uploader/README
-root/static/yui_2.6.0/uploader/uploader-experimental-debug.js
-root/static/yui_2.6.0/uploader/uploader-experimental-min.js
-root/static/yui_2.6.0/uploader/uploader-experimental.js
-root/static/yui_2.6.0/utilities/README
-root/static/yui_2.6.0/utilities/utilities.js
-root/static/yui_2.6.0/yahoo-dom-event/README
-root/static/yui_2.6.0/yahoo-dom-event/yahoo-dom-event.js
-root/static/yui_2.6.0/yahoo/README
-root/static/yui_2.6.0/yahoo/yahoo-debug.js
-root/static/yui_2.6.0/yahoo/yahoo-min.js
-root/static/yui_2.6.0/yahoo/yahoo.js
-root/static/yui_2.6.0/yuiloader-dom-event/README
-root/static/yui_2.6.0/yuiloader-dom-event/yuiloader-dom-event.js
-root/static/yui_2.6.0/yuiloader/README
-root/static/yui_2.6.0/yuiloader/yuiloader-debug.js
-root/static/yui_2.6.0/yuiloader/yuiloader-min.js
-root/static/yui_2.6.0/yuiloader/yuiloader.js
-root/static/yui_2.6.0/yuitest/assets/skins/sam/yuitest-skin.css
-root/static/yui_2.6.0/yuitest/assets/skins/sam/yuitest.css
-root/static/yui_2.6.0/yuitest/assets/testlogger.css
-root/static/yui_2.6.0/yuitest/assets/yuitest-core.css
-root/static/yui_2.6.0/yuitest/README
-root/static/yui_2.6.0/yuitest/yuitest-debug.js
-root/static/yui_2.6.0/yuitest/yuitest-min.js
-root/static/yui_2.6.0/yuitest/yuitest.js
-root/static/yui_2.6.0/yuitest/yuitest_core-debug.js
-root/static/yui_2.6.0/yuitest/yuitest_core-min.js
-root/static/yui_2.6.0/yuitest/yuitest_core.js
+root/static/yui/animation/animation-debug.js
+root/static/yui/animation/animation-min.js
+root/static/yui/animation/animation.js
+root/static/yui/animation/README
+root/static/yui/assets/skins/sam/asc.gif
+root/static/yui/assets/skins/sam/autocomplete.css
+root/static/yui/assets/skins/sam/blankimage.png
+root/static/yui/assets/skins/sam/button.css
+root/static/yui/assets/skins/sam/calendar.css
+root/static/yui/assets/skins/sam/carousel.css
+root/static/yui/assets/skins/sam/colorpicker.css
+root/static/yui/assets/skins/sam/container.css
+root/static/yui/assets/skins/sam/datatable.css
+root/static/yui/assets/skins/sam/desc.gif
+root/static/yui/assets/skins/sam/dt-arrow-dn.png
+root/static/yui/assets/skins/sam/dt-arrow-up.png
+root/static/yui/assets/skins/sam/editor-knob.gif
+root/static/yui/assets/skins/sam/editor-sprite-active.gif
+root/static/yui/assets/skins/sam/editor-sprite.gif
+root/static/yui/assets/skins/sam/editor.css
+root/static/yui/assets/skins/sam/header_background.png
+root/static/yui/assets/skins/sam/hue_bg.png
+root/static/yui/assets/skins/sam/imagecropper.css
+root/static/yui/assets/skins/sam/layout.css
+root/static/yui/assets/skins/sam/layout_sprite.png
+root/static/yui/assets/skins/sam/loading.gif
+root/static/yui/assets/skins/sam/logger.css
+root/static/yui/assets/skins/sam/menu-button-arrow-disabled.png
+root/static/yui/assets/skins/sam/menu-button-arrow.png
+root/static/yui/assets/skins/sam/menu.css
+root/static/yui/assets/skins/sam/menubaritem_submenuindicator.png
+root/static/yui/assets/skins/sam/menubaritem_submenuindicator_disabled.png
+root/static/yui/assets/skins/sam/menuitem_checkbox.png
+root/static/yui/assets/skins/sam/menuitem_checkbox_disabled.png
+root/static/yui/assets/skins/sam/menuitem_submenuindicator.png
+root/static/yui/assets/skins/sam/menuitem_submenuindicator_disabled.png
+root/static/yui/assets/skins/sam/paginator.css
+root/static/yui/assets/skins/sam/picker_mask.png
+root/static/yui/assets/skins/sam/profilerviewer.css
+root/static/yui/assets/skins/sam/resize.css
+root/static/yui/assets/skins/sam/simpleeditor.css
+root/static/yui/assets/skins/sam/skin.css
+root/static/yui/assets/skins/sam/slider.css
+root/static/yui/assets/skins/sam/split-button-arrow-active.png
+root/static/yui/assets/skins/sam/split-button-arrow-disabled.png
+root/static/yui/assets/skins/sam/split-button-arrow-focus.png
+root/static/yui/assets/skins/sam/split-button-arrow-hover.png
+root/static/yui/assets/skins/sam/split-button-arrow.png
+root/static/yui/assets/skins/sam/sprite.png
+root/static/yui/assets/skins/sam/sprite.psd
+root/static/yui/assets/skins/sam/tabview.css
+root/static/yui/assets/skins/sam/treeview-loading.gif
+root/static/yui/assets/skins/sam/treeview-sprite.gif
+root/static/yui/assets/skins/sam/treeview.css
+root/static/yui/assets/skins/sam/wait.gif
+root/static/yui/assets/skins/sam/yuitest.css
+root/static/yui/autocomplete/assets/autocomplete-core.css
+root/static/yui/autocomplete/assets/skins/sam/autocomplete-skin.css
+root/static/yui/autocomplete/assets/skins/sam/autocomplete.css
+root/static/yui/autocomplete/autocomplete-debug.js
+root/static/yui/autocomplete/autocomplete-min.js
+root/static/yui/autocomplete/autocomplete.js
+root/static/yui/autocomplete/README
+root/static/yui/base/base-min.css
+root/static/yui/base/base.css
+root/static/yui/base/README
+root/static/yui/button/assets/button-core.css
+root/static/yui/button/assets/skins/sam/button-skin.css
+root/static/yui/button/assets/skins/sam/button.css
+root/static/yui/button/assets/skins/sam/menu-button-arrow-disabled.png
+root/static/yui/button/assets/skins/sam/menu-button-arrow.png
+root/static/yui/button/assets/skins/sam/split-button-arrow-active.png
+root/static/yui/button/assets/skins/sam/split-button-arrow-disabled.png
+root/static/yui/button/assets/skins/sam/split-button-arrow-focus.png
+root/static/yui/button/assets/skins/sam/split-button-arrow-hover.png
+root/static/yui/button/assets/skins/sam/split-button-arrow.png
+root/static/yui/button/button-debug.js
+root/static/yui/button/button-min.js
+root/static/yui/button/button.js
+root/static/yui/button/README
+root/static/yui/calendar/assets/calendar-core.css
+root/static/yui/calendar/assets/calendar.css
+root/static/yui/calendar/assets/calgrad.png
+root/static/yui/calendar/assets/callt.gif
+root/static/yui/calendar/assets/calrt.gif
+root/static/yui/calendar/assets/calx.gif
+root/static/yui/calendar/assets/skins/sam/calendar-skin.css
+root/static/yui/calendar/assets/skins/sam/calendar.css
+root/static/yui/calendar/calendar-debug.js
+root/static/yui/calendar/calendar-min.js
+root/static/yui/calendar/calendar.js
+root/static/yui/calendar/README
+root/static/yui/carousel/assets/ajax-loader.gif
+root/static/yui/carousel/assets/carousel-core.css
+root/static/yui/carousel/assets/skins/sam/carousel-skin.css
+root/static/yui/carousel/assets/skins/sam/carousel.css
+root/static/yui/carousel/carousel-beta-debug.js
+root/static/yui/carousel/carousel-beta-min.js
+root/static/yui/carousel/carousel-beta.js
+root/static/yui/carousel/README
+root/static/yui/charts/assets/charts.swf
+root/static/yui/charts/charts-experimental-debug.js
+root/static/yui/charts/charts-experimental-min.js
+root/static/yui/charts/charts-experimental.js
+root/static/yui/charts/README
+root/static/yui/colorpicker/assets/colorpicker-core.css
+root/static/yui/colorpicker/assets/hue_thumb.png
+root/static/yui/colorpicker/assets/picker_mask.png
+root/static/yui/colorpicker/assets/picker_thumb.png
+root/static/yui/colorpicker/assets/skins/sam/colorpicker-skin.css
+root/static/yui/colorpicker/assets/skins/sam/colorpicker.css
+root/static/yui/colorpicker/assets/skins/sam/hue_bg.png
+root/static/yui/colorpicker/assets/skins/sam/picker_mask.png
+root/static/yui/colorpicker/colorpicker-debug.js
+root/static/yui/colorpicker/colorpicker-min.js
+root/static/yui/colorpicker/colorpicker.js
+root/static/yui/colorpicker/README
+root/static/yui/connection/connection-debug.js
+root/static/yui/connection/connection-min.js
+root/static/yui/connection/connection.js
+root/static/yui/connection/README
+root/static/yui/container/assets/alrt16_1.gif
+root/static/yui/container/assets/blck16_1.gif
+root/static/yui/container/assets/close12_1.gif
+root/static/yui/container/assets/container-core.css
+root/static/yui/container/assets/container.css
+root/static/yui/container/assets/hlp16_1.gif
+root/static/yui/container/assets/info16_1.gif
+root/static/yui/container/assets/skins/sam/container-skin.css
+root/static/yui/container/assets/skins/sam/container.css
+root/static/yui/container/assets/tip16_1.gif
+root/static/yui/container/assets/warn16_1.gif
+root/static/yui/container/container-debug.js
+root/static/yui/container/container-min.js
+root/static/yui/container/container.js
+root/static/yui/container/container_core-debug.js
+root/static/yui/container/container_core-min.js
+root/static/yui/container/container_core.js
+root/static/yui/container/README
+root/static/yui/cookie/cookie-debug.js
+root/static/yui/cookie/cookie-min.js
+root/static/yui/cookie/cookie.js
+root/static/yui/cookie/README
+root/static/yui/datasource/datasource-debug.js
+root/static/yui/datasource/datasource-min.js
+root/static/yui/datasource/datasource.js
+root/static/yui/datasource/README
+root/static/yui/datatable/assets/datatable-core.css
+root/static/yui/datatable/assets/datatable.css
+root/static/yui/datatable/assets/skins/sam/datatable-skin.css
+root/static/yui/datatable/assets/skins/sam/datatable.css
+root/static/yui/datatable/assets/skins/sam/dt-arrow-dn.png
+root/static/yui/datatable/assets/skins/sam/dt-arrow-up.png
+root/static/yui/datatable/datatable-debug.js
+root/static/yui/datatable/datatable-min.js
+root/static/yui/datatable/datatable.js
+root/static/yui/datatable/README
+root/static/yui/dom/dom-debug.js
+root/static/yui/dom/dom-min.js
+root/static/yui/dom/dom.js
+root/static/yui/dom/README
+root/static/yui/dragdrop/dragdrop-debug.js
+root/static/yui/dragdrop/dragdrop-min.js
+root/static/yui/dragdrop/dragdrop.js
+root/static/yui/dragdrop/README
+root/static/yui/editor/assets/editor-core.css
+root/static/yui/editor/assets/simpleeditor-core.css
+root/static/yui/editor/assets/skins/sam/blankimage.png
+root/static/yui/editor/assets/skins/sam/editor-knob.gif
+root/static/yui/editor/assets/skins/sam/editor-skin.css
+root/static/yui/editor/assets/skins/sam/editor-sprite-active.gif
+root/static/yui/editor/assets/skins/sam/editor-sprite.gif
+root/static/yui/editor/assets/skins/sam/editor.css
+root/static/yui/editor/assets/skins/sam/simpleeditor-skin.css
+root/static/yui/editor/assets/skins/sam/simpleeditor.css
+root/static/yui/editor/editor-debug.js
+root/static/yui/editor/editor-min.js
+root/static/yui/editor/editor.js
+root/static/yui/editor/README
+root/static/yui/editor/simpleeditor-debug.js
+root/static/yui/editor/simpleeditor-min.js
+root/static/yui/editor/simpleeditor.js
+root/static/yui/element/element-beta-debug.js
+root/static/yui/element/element-beta-min.js
+root/static/yui/element/element-beta.js
+root/static/yui/element/README
+root/static/yui/event/event-debug.js
+root/static/yui/event/event-min.js
+root/static/yui/event/event.js
+root/static/yui/event/README
+root/static/yui/fonts/fonts-min.css
+root/static/yui/fonts/fonts.css
+root/static/yui/fonts/README
+root/static/yui/get/get-debug.js
+root/static/yui/get/get-min.js
+root/static/yui/get/get.js
+root/static/yui/get/README
+root/static/yui/grids/grids-min.css
+root/static/yui/grids/grids.css
+root/static/yui/grids/README
+root/static/yui/history/assets/blank.html
+root/static/yui/history/history-debug.js
+root/static/yui/history/history-min.js
+root/static/yui/history/history.js
+root/static/yui/history/README
+root/static/yui/imagecropper/assets/imagecropper-core.css
+root/static/yui/imagecropper/assets/skins/sam/imagecropper-skin.css
+root/static/yui/imagecropper/assets/skins/sam/imagecropper.css
+root/static/yui/imagecropper/imagecropper-beta-debug.js
+root/static/yui/imagecropper/imagecropper-beta-min.js
+root/static/yui/imagecropper/imagecropper-beta.js
+root/static/yui/imagecropper/README
+root/static/yui/imageloader/imageloader-debug.js
+root/static/yui/imageloader/imageloader-min.js
+root/static/yui/imageloader/imageloader.js
+root/static/yui/imageloader/README
+root/static/yui/json/json-debug.js
+root/static/yui/json/json-min.js
+root/static/yui/json/json.js
+root/static/yui/json/README
+root/static/yui/layout/assets/layout-core.css
+root/static/yui/layout/assets/skins/sam/layout-skin.css
+root/static/yui/layout/assets/skins/sam/layout.css
+root/static/yui/layout/assets/skins/sam/layout_sprite.png
+root/static/yui/layout/layout-debug.js
+root/static/yui/layout/layout-min.js
+root/static/yui/layout/layout.js
+root/static/yui/layout/README
+root/static/yui/logger/assets/logger-core.css
+root/static/yui/logger/assets/logger.css
+root/static/yui/logger/assets/skins/sam/logger-skin.css
+root/static/yui/logger/assets/skins/sam/logger.css
+root/static/yui/logger/logger-debug.js
+root/static/yui/logger/logger-min.js
+root/static/yui/logger/logger.js
+root/static/yui/logger/README
+root/static/yui/menu/assets/menu-core.css
+root/static/yui/menu/assets/menu.css
+root/static/yui/menu/assets/menu_down_arrow.png
+root/static/yui/menu/assets/menu_down_arrow_disabled.png
+root/static/yui/menu/assets/menu_up_arrow.png
+root/static/yui/menu/assets/menu_up_arrow_disabled.png
+root/static/yui/menu/assets/menubaritem_submenuindicator.png
+root/static/yui/menu/assets/menubaritem_submenuindicator_disabled.png
+root/static/yui/menu/assets/menubaritem_submenuindicator_selected.png
+root/static/yui/menu/assets/menuitem_checkbox.png
+root/static/yui/menu/assets/menuitem_checkbox_disabled.png
+root/static/yui/menu/assets/menuitem_checkbox_selected.png
+root/static/yui/menu/assets/menuitem_submenuindicator.png
+root/static/yui/menu/assets/menuitem_submenuindicator_disabled.png
+root/static/yui/menu/assets/menuitem_submenuindicator_selected.png
+root/static/yui/menu/assets/skins/sam/menu-skin.css
+root/static/yui/menu/assets/skins/sam/menu.css
+root/static/yui/menu/assets/skins/sam/menubaritem_submenuindicator.png
+root/static/yui/menu/assets/skins/sam/menubaritem_submenuindicator_disabled.png
+root/static/yui/menu/assets/skins/sam/menuitem_checkbox.png
+root/static/yui/menu/assets/skins/sam/menuitem_checkbox_disabled.png
+root/static/yui/menu/assets/skins/sam/menuitem_submenuindicator.png
+root/static/yui/menu/assets/skins/sam/menuitem_submenuindicator_disabled.png
+root/static/yui/menu/menu-debug.js
+root/static/yui/menu/menu-min.js
+root/static/yui/menu/menu.js
+root/static/yui/menu/README
+root/static/yui/paginator/assets/paginator-core.css
+root/static/yui/paginator/assets/skins/sam/paginator-skin.css
+root/static/yui/paginator/assets/skins/sam/paginator.css
+root/static/yui/paginator/paginator-debug.js
+root/static/yui/paginator/paginator-min.js
+root/static/yui/paginator/paginator.js
+root/static/yui/paginator/README
+root/static/yui/profiler/profiler-debug.js
+root/static/yui/profiler/profiler-min.js
+root/static/yui/profiler/profiler.js
+root/static/yui/profiler/README
+root/static/yui/profilerviewer/assets/skins/sam/asc.gif
+root/static/yui/profilerviewer/assets/skins/sam/desc.gif
+root/static/yui/profilerviewer/assets/skins/sam/header_background.png
+root/static/yui/profilerviewer/assets/skins/sam/profilerviewer.css
+root/static/yui/profilerviewer/assets/skins/sam/wait.gif
+root/static/yui/profilerviewer/profilerviewer-beta-debug.js
+root/static/yui/profilerviewer/profilerviewer-beta-min.js
+root/static/yui/profilerviewer/profilerviewer-beta.js
+root/static/yui/profilerviewer/README
+root/static/yui/reset-fonts-grids/README
+root/static/yui/reset-fonts-grids/reset-fonts-grids.css
+root/static/yui/reset-fonts/README
+root/static/yui/reset-fonts/reset-fonts.css
+root/static/yui/reset/README
+root/static/yui/reset/reset-min.css
+root/static/yui/reset/reset.css
+root/static/yui/resize/assets/resize-core.css
+root/static/yui/resize/assets/skins/sam/layout_sprite.png
+root/static/yui/resize/assets/skins/sam/resize-skin.css
+root/static/yui/resize/assets/skins/sam/resize.css
+root/static/yui/resize/README
+root/static/yui/resize/resize-debug.js
+root/static/yui/resize/resize-min.js
+root/static/yui/resize/resize.js
+root/static/yui/selector/README
+root/static/yui/selector/selector-beta-debug.js
+root/static/yui/selector/selector-beta-min.js
+root/static/yui/selector/selector-beta.js
+root/static/yui/slider/assets/bg-fader.gif
+root/static/yui/slider/assets/bg-h.gif
+root/static/yui/slider/assets/bg-v-e.gif
+root/static/yui/slider/assets/bg-v.gif
+root/static/yui/slider/assets/left-thumb.png
+root/static/yui/slider/assets/right-thumb.png
+root/static/yui/slider/assets/skins/sam/slider-skin.css
+root/static/yui/slider/assets/skins/sam/slider.css
+root/static/yui/slider/assets/slider-core.css
+root/static/yui/slider/assets/thumb-bar.gif
+root/static/yui/slider/assets/thumb-e.gif
+root/static/yui/slider/assets/thumb-fader.gif
+root/static/yui/slider/assets/thumb-n.gif
+root/static/yui/slider/assets/thumb-s.gif
+root/static/yui/slider/assets/thumb-w.gif
+root/static/yui/slider/README
+root/static/yui/slider/slider-debug.js
+root/static/yui/slider/slider-min.js
+root/static/yui/slider/slider.js
+root/static/yui/tabview/assets/border_tabs.css
+root/static/yui/tabview/assets/loading.gif
+root/static/yui/tabview/assets/skin-sam.css
+root/static/yui/tabview/assets/skins/sam/tabview-skin.css
+root/static/yui/tabview/assets/skins/sam/tabview.css
+root/static/yui/tabview/assets/tabview-core.css
+root/static/yui/tabview/assets/tabview.css
+root/static/yui/tabview/README
+root/static/yui/tabview/tabview-debug.js
+root/static/yui/tabview/tabview-min.js
+root/static/yui/tabview/tabview.js
+root/static/yui/treeview/assets/skins/sam/loading.gif
+root/static/yui/treeview/assets/skins/sam/treeview-loading.gif
+root/static/yui/treeview/assets/skins/sam/treeview-skin.css
+root/static/yui/treeview/assets/skins/sam/treeview-sprite.gif
+root/static/yui/treeview/assets/skins/sam/treeview.css
+root/static/yui/treeview/assets/sprite-menu.gif
+root/static/yui/treeview/assets/sprite-orig.gif
+root/static/yui/treeview/assets/treeview-core.css
+root/static/yui/treeview/assets/treeview-loading.gif
+root/static/yui/treeview/assets/treeview-menu.css
+root/static/yui/treeview/assets/treeview.css
+root/static/yui/treeview/README
+root/static/yui/treeview/treeview-debug.js
+root/static/yui/treeview/treeview-min.js
+root/static/yui/treeview/treeview.js
+root/static/yui/uploader/assets/uploader.swf
+root/static/yui/uploader/README
+root/static/yui/uploader/uploader-experimental-debug.js
+root/static/yui/uploader/uploader-experimental-min.js
+root/static/yui/uploader/uploader-experimental.js
+root/static/yui/utilities/README
+root/static/yui/utilities/utilities.js
+root/static/yui/yahoo-dom-event/README
+root/static/yui/yahoo-dom-event/yahoo-dom-event.js
+root/static/yui/yahoo/README
+root/static/yui/yahoo/yahoo-debug.js
+root/static/yui/yahoo/yahoo-min.js
+root/static/yui/yahoo/yahoo.js
+root/static/yui/yuiloader-dom-event/README
+root/static/yui/yuiloader-dom-event/yuiloader-dom-event.js
+root/static/yui/yuiloader/README
+root/static/yui/yuiloader/yuiloader-debug.js
+root/static/yui/yuiloader/yuiloader-min.js
+root/static/yui/yuiloader/yuiloader.js
+root/static/yui/yuitest/assets/skins/sam/yuitest-skin.css
+root/static/yui/yuitest/assets/skins/sam/yuitest.css
+root/static/yui/yuitest/assets/testlogger.css
+root/static/yui/yuitest/assets/yuitest-core.css
+root/static/yui/yuitest/README
+root/static/yui/yuitest/yuitest-debug.js
+root/static/yui/yuitest/yuitest-min.js
+root/static/yui/yuitest/yuitest.js
+root/static/yui/yuitest/yuitest_core-debug.js
+root/static/yui/yuitest/yuitest_core-min.js
+root/static/yui/yuitest/yuitest_core.js
 script/deploy.sh
 script/i18n_todo.pl
 script/parley_cgi.pl



From chiselwright at mail.berlios.de  Sat Dec 27 01:03:12 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 01:03:12 +0100
Subject: [Parley-svn] r1011 - / tags/parley-1.0.4/t.output
Message-ID: <200812270003.mBR03C5A020988@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 01:03:11 +0100 (Sat, 27 Dec 2008)
New Revision: 1011

Added:
   tags/parley-1.0.4/t.output/1.0.4
Modified:
   /
Log:
 r8692 at wiggin:  chisel | 2008-12-24 07:57:15 +0000
 + added output from: CATALYST_DEBUG=0 make test > t.output/1.0.4



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8691
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8692
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: tags/parley-1.0.4/t.output/1.0.4
===================================================================
--- tags/parley-1.0.4/t.output/1.0.4	2008-12-27 00:03:00 UTC (rev 1010)
+++ tags/parley-1.0.4/t.output/1.0.4	2008-12-27 00:03:11 UTC (rev 1011)
@@ -0,0 +1,21 @@
+PERL_DL_NONLAZY=1 /usr/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'inc', 'blib/lib', 'blib/arch')" t/*.t t/bug/*.t t/mechanize/*.t
+t/01app.........................ok
+t/02pod.........................skipped: set TEST_POD to enable this test
+t/03podcoverage.................skipped: set TEST_POD to enable this test
+t/04_forumcode..................ok
+t/05.userroles..................ok
+t/06.aggregate.controller.......ok
+t/07.aggregate.schematests......ok
+t/50.text_search.sql............ok
+t/bug/01.forum_list_no_posts....ok
+t/mechanize/00.login............ok
+t/mechanize/01.main_page........ok
+t/mechanize/02.forum............ok
+t/model_ParleyDB................ok
+t/model_Post....................ok
+t/view_JSON.....................ok
+t/view_Plain....................ok
+t/view_TT.......................ok
+All tests successful.
+Files=17, Tests=464, 17 wallclock secs ( 0.20 usr  0.03 sys + 13.47 cusr  0.96 csys = 14.66 CPU)
+Result: PASS



From chiselwright at mail.berlios.de  Sat Dec 27 01:03:30 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 01:03:30 +0100
Subject: [Parley-svn] r1012 - / tags/parley-1.0.4
Message-ID: <200812270003.mBR03UKA021326@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 01:03:29 +0100 (Sat, 27 Dec 2008)
New Revision: 1012

Modified:
   /
   tags/parley-1.0.4/MANIFEST
Log:
 r8693 at wiggin:  chisel | 2008-12-24 07:57:44 +0000
 / updated manifest again; I ought to run the tests earlier



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8692
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8693
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: tags/parley-1.0.4/MANIFEST
===================================================================
--- tags/parley-1.0.4/MANIFEST	2008-12-27 00:03:11 UTC (rev 1011)
+++ tags/parley-1.0.4/MANIFEST	2008-12-27 00:03:29 UTC (rev 1012)
@@ -944,6 +944,7 @@
 t.output/0.59.03
 t.output/1.0.0
 t.output/1.0.3
+t.output/1.0.4
 t/01app.t
 t/02pod.t
 t/03podcoverage.t



From chiselwright at mail.berlios.de  Sat Dec 27 01:03:39 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 01:03:39 +0100
Subject: [Parley-svn] r1013 - / branches/parley-1.1/root/static/css
Message-ID: <200812270003.mBR03dWe021531@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 01:03:38 +0100 (Sat, 27 Dec 2008)
New Revision: 1013

Modified:
   /
   branches/parley-1.1/root/static/css/parley-min.css
   branches/parley-1.1/root/static/css/parley.css
Log:
 r8694 at wiggin:  chisel | 2008-12-24 08:02:10 +0000
 + added CSS for validation message feedback



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8693
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8694
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/root/static/css/parley-min.css
===================================================================
--- branches/parley-1.1/root/static/css/parley-min.css	2008-12-27 00:03:29 UTC (rev 1012)
+++ branches/parley-1.1/root/static/css/parley-min.css	2008-12-27 00:03:38 UTC (rev 1013)
@@ -1 +1 @@
-body{background-color:#fff;font-family:Verdana,Arial,Helvetica,sans-serif;}#hd{height:80px;line-height:80px;margin:0;padding-left:10px;background:#EEE url('/static/images/parley_logo.jpg') no-repeat left;color:#79B30B color:#36C;}#hd h1{font-size:200%;text-align:left;}div#ft{background:#666;color:#FFF;font-size:77%;margin-top:20px;}div#ft p{border:none;margin-top:30px;padding:5px 10px 5px 10px;text-align:right;display:block;}div#ft a{color:#ccc;}div#user_information{line-height:1em;font-size:85%;color:#000;background-color:transparent;position:absolute;top:0;right:10px;height:70px;width:200px;padding-top:3px;text-align:center;}div#user_information .user_info_actions{margin-top:3px;}.caretfix{overflow:auto;}#bd h1{font-weight:bold;background:#666;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h2{font-weight:bold;background:#999;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h3{font-weight:bold;background:#eee;padding:4px;text-align:left;!
 margin-top:5px;margin-bottom:5px;color:#79B30B color:#36C;}a.nav:hover{background:#000;color:#fff;}a,a:link,a:visited,a:active{background:transparent;color:blue;text-decoration:none;}ol>li,ul>li{margin-left:8px;list-style-position:inside;}ol>li{list-style-type:decimal;}ul>li{list-style-type:disc;}th{font-size:100%;text-align:left;font-weight:bold;}#login_dialog form{margin:0;padding:0;min-width:400px;max-width:600px;}#login_dialog form fieldset{/ * clear:both;note that this clear causes inputs to break to left in ie5.x mac,commented out */ padding:10px;margin:0;border:none;}#login_dialog form label{display:block;float:left;width:150px;padding:0;margin:5px 0 0;text-align:right;font-weight:bold;margin-bottom:0;}#login_dialog form input,form textarea{width:auto;margin:5px 0 0 10px;}#login_dialog form p{font-size:85%;}.row{border-top:1px dotted #666;border-bottom:1px dotted #666;}.row_odd{background:#eee;}.row_even{background:#ddd;}.admin_edited_post{color:#000;background:#ccc;!
 padding:2px;padding-left:10px;padding-right:10px;border:1px da!
 shed #00
0;margin-left:15px;font-size:93%;text-align:right;}.align_right{text-align:right;}.error_messages{margin-top:5px;display:block;line-height:1.7em;padding:5px;background-color:#930;color:#fff;text-transform:none;font-family:Arial,Avenir,"Lucida Grande",Verdana,"Bitstream Vera Sans",Helvetica,sans-serif;font-weight:bold;voice-family:"\"}\"";voice-family:inherit;font-size:1.0em;border:none;}.forum_description{font-size:93%;}.forum_lastpost{font-size:85%;text-align:right;}.forum_lastpost_subject a{color:#79B30B color:#36C;}.forum_link{font-size:100%;font-weight:bold;}.forum_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.forum_mini_pager{font-size:85%;}.forum_mini_pager a{color:#666;}.forum_name{font-size:100%;text-align:left;font-weight:bold;margin-top:5px;}.forum_name a{color:#79B30B color:#36C;}.forum_postcount{font-size!
 :85%;text-align:right;margin-top:5px;}.forum_view{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_view td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.help li{margin-top:25px;margin-right:25px;list-style-type:none;border-left:2px solid #666;padding-top:5px;padding-bottom:5px;padding-left:10px;background-color:#ddd;}.help li ul li,.help li ol li{margin-top:5px;margin-left:10px;list-style-type:disc;border-left:none;padding-left:none;padding-top:none;padding-bottom:none;background-color:transparent;}.innerpost{margin-left:10px;padding:5px;overflow:auto;font-size:93%;}.moderator_list{font-size:77%;margin-bottom:5px;margin-top:5px;text-align:right;}.pager_advanced{font-size:77%;margin-bottom:5px;margin-top:5px;}.post{padding-top:5px;vertical-align:top;border-left:1px solid #ddd;}.post_created{text-align:right;font-size:85%;}.post_creator{font-weight:bold;font-style:italic;font-si!
 ze:85%;}.post_edited_alert{font-weight:bold;font-style:italic;!
 }.post_i
nfo{font-size:77%;line-height:1.1em;margin-top:10px;margin-bottom:2px;text-align:right;}.post_subject{font-weight:bold;}.quote{background-color:#F9FBFF;border:1px solid #333;font-size:85%;margin:0 0 2px 4px;padding:6px;width:85%;overflow:hidden;}.recently_updated{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.recently_updated td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.reply_post_message{border:1px dashed #666;}.search_match_context{font-size:85%;}.search_results{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.search_results td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.service_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.service_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;pa!
 dding-left:10px;padding-right:10px;}.site_terms{width:80%;margin-left:auto;margin-right:auto;margin-bottom:10px;padding:5px;border:1px solid #666;}.thread_add{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_add td{padding-top:4px;padding-bottom:4px;}.thread_add .input_text{width:450px;margin-left:10px;}.thread_add_topic{text-align:right;padding-right:5px;}.thread_add_message{text-align:right;vertical-align:top;padding-right:5px;}.thread_header{font-weight:bold;background:#666;padding:4px;text-align:left;}.thread_header a{color:#ccc;}.thread_info{margin:0;width:100%;border:none;padding:0;margin-bottom:10px;}.thread_info td{border:none;padding:0;}.thread_lastpost{font-size:85%;text-align:right;}.thread_post_row{border-top:1px solid #ddd;border-bottom:1px solid #ddd;}.thread_post_row td{margin-top:10px;margin-bottom:10px;}.thread_posts{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_recent_forum{float:ri!
 ght;font-size:85%;}.thread_recent_forum a{color:#333;}.thread_!
 reply{fo
nt-size:93%;}.thread_reply tr{vertical-align:top;}.thread_reply td{padding-top:10px;padding-left:10px;}.thread_reply textarea{background-color:transparent;border:2px inset black;}.thread_subject a{font-size:93%;color:#79B30B color:#36C;}.thread_watch{margin-top:5px;font-size:77%;text-align:left;}.top_padded{margin-top:10px;}.topic_creator{display:block;font-size:85%;text-align:right;}.user_login form{width:350px;margin-left:auto;margin-right:auto;margin-top:20px;}.user_login p{margin-top:5px;margin-bottom:5px;}.user_permission_list{margin-left:auto;margin-right:auto;margin-top:15px;font-size:93%;width:100%;}.user_permission_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:150%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.user_permission_list img{vertical-align:middle;}.forum_moderator_list div input{height:150%;}.forum_moderator_list img{vertical-align:middle;}.user_post_info{background:#ccc;background:transparent;font-si!
 ze:77%;margin-left:auto;margin-right:auto;text-align:center;vertical-align:top;width:110px;}a[href $='.jpg']{padding-left:20px;background:transparent url(/static/images/filetypes/image.png) no-repeat center left;}a[href $='.pdf']{padding-left:20px;background:transparent url(/static/images/filetypes/pdf.png) no-repeat center left;}#loader_wait.yui-overlay{position:fixed;float:right;top:10px;right:10px;border:none;text-align:right;}#preview_overlay{border:1px dashed #ccc;text-align:left;padding:0;}#thread_message{font-family:monospace;text-align:left;padding:0;background-color:#eee;font-size:93%;width:450px;}#ysearch{text-align:center;}#ysearchinput{position:static;width:20em;}#ysearchcontainer{text-align:left;width:20em;}.forumcode_code{font-family:monospace;border:1px solid #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;color:#ff0;background-color:#333;border:1px solid #666;white-space:pre;}.forumcode_pre{background-color:transparent;font-!
 family:monospace;border:1px dashed #333;font-size:85%;margin:1!
 5px 20px
 15px 20px;padding:6px;width:85%;overflow:auto;white-space:pre;}.forumcode_quote{background-color:#eee;font-family:monospace;font-style:italic;border:1px dotted #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;}.forumcode_quoting{font-weight:bold;margin-bottom:3px;}.yuimenuitem .disabled{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-navset .yui-nav,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav{border:solid #333;border-width:0 0 5px;Xposition:relative;zoom:1;}.yui-skin-sam .yui-navset .yui-content{background:transparent;}.yui-skin-sam .yui-navset .yui-nav a,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav a{background-image:none;background-color:#999;border:solid #a3a3a3;border-width:0 1px;color:#fff;text-decoration:none;}.yui-skin-sam .yui-navset .yui-nav .selected a,.yui-skin-sam .yui-navset .yui-nav .selected a:focus,.yui-skin-sam .yui-navset .yui-nav .selected a:hover{background:#333;color:#fff;}.yui-skin-sam .yui-navset .yui-nav!
  a:hover,.yui-skin-sam .yui-navset .yui-nav a:focus{background:#666;color:#fff;outline:0;}
\ No newline at end of file
+body{background-color:#fff;font-family:Verdana,Arial,Helvetica,sans-serif;}#hd{height:80px;line-height:80px;margin:0;padding-left:10px;background:#EEE url('/static/images/parley_logo.jpg') no-repeat left;color:#79B30B color:#36C;}#hd h1{font-size:200%;text-align:left;}div#ft{background:#666;color:#FFF;font-size:77%;margin-top:20px;}div#ft p{border:none;margin-top:30px;padding:5px 10px 5px 10px;text-align:right;display:block;}div#ft a{color:#ccc;}div#user_information{line-height:1em;font-size:85%;color:#000;background-color:transparent;position:absolute;top:0;right:10px;height:70px;width:200px;padding-top:3px;text-align:center;}div#user_information .user_info_actions{margin-top:3px;}.caretfix{overflow:auto;}#bd h1{font-weight:bold;background:#666;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h2{font-weight:bold;background:#999;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h3{font-weight:bold;background:#eee;padding:4px;text-align:left;!
 margin-top:5px;margin-bottom:5px;color:#79B30B color:#36C;}a.nav:hover{background:#000;color:#fff;}a,a:link,a:visited,a:active{background:transparent;color:blue;text-decoration:none;}ol>li,ul>li{margin-left:8px;list-style-position:inside;}ol>li{list-style-type:decimal;}ul>li{list-style-type:disc;}th{font-size:100%;text-align:left;font-weight:bold;}#login_dialog form{margin:0;padding:0;min-width:400px;max-width:600px;}#login_dialog form fieldset{/ * clear:both;note that this clear causes inputs to break to left in ie5.x mac,commented out */ padding:10px;margin:0;border:none;}#login_dialog form label{display:block;float:left;width:150px;padding:0;margin:5px 0 0;text-align:right;font-weight:bold;margin-bottom:0;}#login_dialog form input,form textarea{width:auto;margin:5px 0 0 10px;}#login_dialog form p{font-size:85%;}.row{border-top:1px dotted #666;border-bottom:1px dotted #666;}.row_odd{background:#eee;}.row_even{background:#ddd;}.admin_edited_post{color:#000;background:#ccc;!
 padding:2px;padding-left:10px;padding-right:10px;border:1px da!
 shed #00
0;margin-left:15px;font-size:93%;text-align:right;}.align_right{text-align:right;}.error_messages{margin-top:5px;display:block;line-height:1.7em;padding:5px;background-color:#930;color:#fff;text-transform:none;font-family:Arial,Avenir,"Lucida Grande",Verdana,"Bitstream Vera Sans",Helvetica,sans-serif;font-weight:bold;voice-family:"\"}\"";voice-family:inherit;font-size:1.0em;border:none;}.forum_description{font-size:93%;}.forum_lastpost{font-size:85%;text-align:right;}.forum_lastpost_subject a{color:#79B30B color:#36C;}.forum_link{font-size:100%;font-weight:bold;}.forum_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.forum_mini_pager{font-size:85%;}.forum_mini_pager a{color:#666;}.forum_name{font-size:100%;text-align:left;font-weight:bold;margin-top:5px;}.forum_name a{color:#79B30B color:#36C;}.forum_postcount{font-size!
 :85%;text-align:right;margin-top:5px;}.forum_view{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_view td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.help li{margin-top:25px;margin-right:25px;list-style-type:none;border-left:2px solid #666;padding-top:5px;padding-bottom:5px;padding-left:10px;background-color:#ddd;}.help li ul li,.help li ol li{margin-top:5px;margin-left:10px;list-style-type:disc;border-left:none;padding-left:none;padding-top:none;padding-bottom:none;background-color:transparent;}.innerpost{margin-left:10px;padding:5px;overflow:auto;font-size:93%;}.moderator_list{font-size:77%;margin-bottom:5px;margin-top:5px;text-align:right;}.pager_advanced{font-size:77%;margin-bottom:5px;margin-top:5px;}.post{padding-top:5px;vertical-align:top;border-left:1px solid #ddd;}.post_created{text-align:right;font-size:85%;}.post_creator{font-weight:bold;font-style:italic;font-si!
 ze:85%;}.post_edited_alert{font-weight:bold;font-style:italic;!
 }.post_i
nfo{font-size:77%;line-height:1.1em;margin-top:10px;margin-bottom:2px;text-align:right;}.post_subject{font-weight:bold;}.quote{background-color:#F9FBFF;border:1px solid #333;font-size:85%;margin:0 0 2px 4px;padding:6px;width:85%;overflow:hidden;}.recently_updated{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.recently_updated td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.reply_post_message{border:1px dashed #666;}.search_match_context{font-size:85%;}.search_results{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.search_results td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.service_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.service_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;pa!
 dding-left:10px;padding-right:10px;}.site_terms{width:80%;margin-left:auto;margin-right:auto;margin-bottom:10px;padding:5px;border:1px solid #666;}.thread_add{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_add td{padding-top:4px;padding-bottom:4px;}.thread_add .input_text{width:450px;margin-left:10px;}.thread_add_topic{text-align:right;padding-right:5px;}.thread_add_message{text-align:right;vertical-align:top;padding-right:5px;}.thread_header{font-weight:bold;background:#666;padding:4px;text-align:left;}.thread_header a{color:#ccc;}.thread_info{margin:0;width:100%;border:none;padding:0;margin-bottom:10px;}.thread_info td{border:none;padding:0;}.thread_lastpost{font-size:85%;text-align:right;}.thread_post_row{border-top:1px solid #ddd;border-bottom:1px solid #ddd;}.thread_post_row td{margin-top:10px;margin-bottom:10px;}.thread_posts{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_recent_forum{float:ri!
 ght;font-size:85%;}.thread_recent_forum a{color:#333;}.thread_!
 reply{fo
nt-size:93%;}.thread_reply tr{vertical-align:top;}.thread_reply td{padding-top:10px;padding-left:10px;}.thread_reply textarea{background-color:transparent;border:2px inset black;}.thread_subject a{font-size:93%;color:#79B30B color:#36C;}.thread_watch{margin-top:5px;font-size:77%;text-align:left;}.top_padded{margin-top:10px;}.topic_creator{display:block;font-size:85%;text-align:right;}.user_login form{width:350px;margin-left:auto;margin-right:auto;margin-top:20px;}.user_login p{margin-top:5px;margin-bottom:5px;}.user_permission_list{margin-left:auto;margin-right:auto;margin-top:15px;font-size:93%;width:100%;}.user_permission_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:150%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.user_permission_list img{vertical-align:middle;}.forum_moderator_list div input{height:150%;}.forum_moderator_list img{vertical-align:middle;}.user_post_info{background:#ccc;background:transparent;font-si!
 ze:77%;margin-left:auto;margin-right:auto;text-align:center;vertical-align:top;width:110px;}a[href $='.jpg']{padding-left:20px;background:transparent url(/static/images/filetypes/image.png) no-repeat center left;}a[href $='.pdf']{padding-left:20px;background:transparent url(/static/images/filetypes/pdf.png) no-repeat center left;}#loader_wait.yui-overlay{position:fixed;float:right;top:10px;right:10px;border:none;text-align:right;}#preview_overlay{border:1px dashed #ccc;text-align:left;padding:0;}#thread_message{font-family:monospace;text-align:left;padding:0;background-color:#eee;font-size:93%;width:450px;}#validation_errors{display:block;font-size:83%;border:1px dashed #89d;margin-top:10px;margin-bottom:10px;margin-left:25px;margin-right:25px;padding:3px;}#ysearch{text-align:center;}#ysearchinput{position:static;width:20em;}#ysearchcontainer{text-align:left;width:20em;}.forumcode_code{font-family:monospace;border:1px solid #333;font-size:85%;margin:15px 20px 15px 20px;padd!
 ing:6px;width:85%;overflow:auto;color:#ff0;background-color:#3!
 33;borde
r:1px solid #666;white-space:pre;}.forumcode_pre{background-color:transparent;font-family:monospace;border:1px dashed #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;white-space:pre;}.forumcode_quote{background-color:#eee;font-family:monospace;font-style:italic;border:1px dotted #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;}.forumcode_quoting{font-weight:bold;margin-bottom:3px;}.yuimenuitem .disabled{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-navset .yui-nav,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav{border:solid #333;border-width:0 0 5px;Xposition:relative;zoom:1;}.yui-skin-sam .yui-navset .yui-content{background:transparent;}.yui-skin-sam .yui-navset .yui-nav a,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav a{background-image:none;background-color:#999;border:solid #a3a3a3;border-width:0 1px;color:#fff;text-decoration:none;}.yui-skin-sam .yui-navset .yui-nav .selected a,.yui-skin-sam .!
 yui-navset .yui-nav .selected a:focus,.yui-skin-sam .yui-navset .yui-nav .selected a:hover{background:#333;color:#fff;}.yui-skin-sam .yui-navset .yui-nav a:hover,.yui-skin-sam .yui-navset .yui-nav a:focus{background:#666;color:#fff;outline:0;}
\ No newline at end of file

Modified: branches/parley-1.1/root/static/css/parley.css
===================================================================
--- branches/parley-1.1/root/static/css/parley.css	2008-12-27 00:03:29 UTC (rev 1012)
+++ branches/parley-1.1/root/static/css/parley.css	2008-12-27 00:03:38 UTC (rev 1013)
@@ -620,6 +620,17 @@
     width:              450px;
 }
 
+#validation_errors {
+    display:            block;
+    font-size:          83%;
+    border:             1px dashed #89d;
+    margin-top:         10px;
+    margin-bottom:      10px;
+    margin-left:        25px;
+    margin-right:       25px;
+    padding:            3px;
+}
+
 #ysearch {
     text-align:         center;
 }



From chiselwright at mail.berlios.de  Sat Dec 27 01:03:50 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 01:03:50 +0100
Subject: [Parley-svn] r1014 - / branches/parley-1.1/root/base
	branches/parley-1.1/root/base/dfv
Message-ID: <200812270003.mBR03nwL021765@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 01:03:49 +0100 (Sat, 27 Dec 2008)
New Revision: 1014

Added:
   branches/parley-1.1/root/base/dfv/
   branches/parley-1.1/root/base/dfv/display_validation_messages
   branches/parley-1.1/root/base/dfv/validation_messages_data
Modified:
   /
Log:
 r8695 at wiggin:  chisel | 2008-12-24 08:02:51 +0000
 + added DFV validation templates



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8694
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8695
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: branches/parley-1.1/root/base/dfv/display_validation_messages
===================================================================
--- branches/parley-1.1/root/base/dfv/display_validation_messages	2008-12-27 00:03:38 UTC (rev 1013)
+++ branches/parley-1.1/root/base/dfv/display_validation_messages	2008-12-27 00:03:49 UTC (rev 1014)
@@ -0,0 +1,22 @@
+[% # deal with validation errors %]
+[% IF validation.defined AND not validation.success %]
+    [% # import message data %] [% PROCESS dfv/validation_messages_data %]
+<span id="validation_errors">
+    [% IF validation.missing %]
+        [% FOR msg_key IN validation.missing %]
+        [% l(error_message.missing.$msg_key) || l('Missing form field: [_1]', msg_key) %]<br />
+        [% END %]
+    [% END %]
+
+    [% IF validation.invalid %]
+        [% FOR field_name IN validation.invalid %]
+            [% nice_field_name = error_message.name.$field_name || field_name%]
+            [% FOR invalid_key IN validation.invalid(field_name) %]
+                [% l(nice_field_name) %]:
+                [% l(error_message.invalid.$invalid_key) || invalid_key %]
+                <br />
+            [% END %]
+        [% END %]
+    [% END %]
+</span>
+[% END %]

Added: branches/parley-1.1/root/base/dfv/validation_messages_data
===================================================================
--- branches/parley-1.1/root/base/dfv/validation_messages_data	2008-12-27 00:03:38 UTC (rev 1013)
+++ branches/parley-1.1/root/base/dfv/validation_messages_data	2008-12-27 00:03:49 UTC (rev 1014)
@@ -0,0 +1,20 @@
+[%
+    SET error_message = {
+        # messages for missing fields
+        missing => {
+            moon_stick                  => 'I demand the MOON! On a STICK!',
+        },
+
+        # messages for invalid fields (failed constraints)
+        invalid => {
+            # reCAPTCHA messages (from: http://recaptcha.net/apidocs/captcha/)
+            'incorrect-captcha-sol'     => 'the CAPTCHA solution was incorrect',
+            'recaptcha-not-reachable'   => 'unable to contact the reCAPTCHA verify server',
+        },
+
+        # mappings from field names to something we'd like to show the user
+        name => {
+            email_address               => 'Email Address',
+        },
+    }
+%]



From chiselwright at mail.berlios.de  Sat Dec 27 01:03:58 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 01:03:58 +0100
Subject: [Parley-svn] r1015 - / branches/parley-1.1/root/base
Message-ID: <200812270003.mBR03wtQ021995@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 01:03:58 +0100 (Sat, 27 Dec 2008)
New Revision: 1015

Modified:
   /
   branches/parley-1.1/root/base/header
Log:
 r8696 at wiggin:  chisel | 2008-12-24 08:03:42 +0000
 + add DFV (dfv/display_validation_messages) processing/error display



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8695
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8696
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/root/base/header
===================================================================
--- branches/parley-1.1/root/base/header	2008-12-27 00:03:49 UTC (rev 1014)
+++ branches/parley-1.1/root/base/header	2008-12-27 00:03:58 UTC (rev 1015)
@@ -112,4 +112,6 @@
                     [% END %]
                 </div>
                 [% END %]
+
+                [% PROCESS dfv/display_validation_messages %]
 <!-- Header : End -->



From chiselwright at mail.berlios.de  Sat Dec 27 01:04:12 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 01:04:12 +0100
Subject: [Parley-svn] r1016 - / branches/parley-1.1/lib
	branches/parley-1.1/lib/Catalyst
	branches/parley-1.1/lib/Catalyst/Controller
Message-ID: <200812270004.mBR04Cp8022253@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 01:04:12 +0100 (Sat, 27 Dec 2008)
New Revision: 1016

Added:
   branches/parley-1.1/lib/Catalyst/
   branches/parley-1.1/lib/Catalyst/Controller/
   branches/parley-1.1/lib/Catalyst/Controller/FormValidator.pm
Modified:
   /
Log:
 r8697 at wiggin:  chisel | 2008-12-24 08:04:13 +0000
 + add DFV controller class



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8696
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8697
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: branches/parley-1.1/lib/Catalyst/Controller/FormValidator.pm
===================================================================
--- branches/parley-1.1/lib/Catalyst/Controller/FormValidator.pm	2008-12-27 00:03:58 UTC (rev 1015)
+++ branches/parley-1.1/lib/Catalyst/Controller/FormValidator.pm	2008-12-27 00:04:12 UTC (rev 1016)
@@ -0,0 +1,108 @@
+package Catalyst::Controller::FormValidator;
+# vim: ts=8 sts=4 et sw=4 sr sta
+use strict;
+use warnings;
+
+use version; our $VERSION = qv(0.0.1)->numify;
+
+use base 'Catalyst::Controller';
+
+use Carp;
+use Data::Dump qw(pp);
+use Data::FormValidator '4.50';
+use Data::FormValidator::Constraints qw(:closures);
+
+sub form_check :Private {
+    my ($self, $c, $dfv_profile) = @_;
+
+    my $results = Data::FormValidator->check(
+        $c->request->body_parameters,
+        $dfv_profile
+    );
+
+    # if we have any failures ...
+    #if ($results->has_invalid or $results->has_missing) {
+        $c->stash->{validation} = $results;
+        #}
+
+    return;
+}
+
+sub add_form_invalid :Private {
+    my ($self, $c, $invalid_key, $invalid_value) = @_;
+
+    # if we haven't checked hte form yet, we can't add to the results
+    if (not defined $c->stash->{validation}) {
+        carp('form must be validated first');
+        return;
+    }
+
+    # the invalids are a keyed list of constraint names
+    push
+        @{ $c->stash->{validation}{invalid}{$invalid_key} },
+        $invalid_value
+    ;
+
+    return;
+}
+
+sub validation_errors_to_html :Private {
+    my ($self, $c) = @_;
+}
+
+1;
+
+__END__
+
+=pod
+
+=head1 NAME
+
+Catalyst::Controller::FormValidator - check form data
+
+=head1 SUMMARY
+
+Form-validation using a Catalyst controller and Data::FormValidator
+
+=head1 SYNOPSIS
+
+    use base 'Catalyst::Controller::FormValidator';
+    use Data::FormValidator::Constraints qw(:closures);
+
+    # define a DFV profile
+    my $dfv_profile = {
+        required => [qw<
+            email_address
+            phone_home
+            phone_mobile
+        >],
+
+        constraint_methods => {
+            email_address   => email(),
+            phone_home      => american_phone(),
+            phone_mobile    => american_phone(),
+        },
+    };
+
+    # check the form for errors
+    $c->forward('form_check', [$dfv_profile]);
+
+    # perform custom/complex checking and
+    # add to form validation failures
+    if (not is_complex_test_ok()) {
+        $c->forward(
+            'add_form_invalid',
+            [ $error_key, $error_constraint_name ]
+        );
+    }
+
+=head1 AUTHOR
+
+Chisel Wright
+
+=head1 LICENSE
+
+This library is free software, you can redistribute it and/or modify
+it under the same terms as Perl itself.
+
+=cut



From chiselwright at mail.berlios.de  Sat Dec 27 01:04:27 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sat, 27 Dec 2008 01:04:27 +0100
Subject: [Parley-svn] r1017 - / tags/parley-1.0.4
Message-ID: <200812270004.mBR04RFd022438@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-27 01:04:22 +0100 (Sat, 27 Dec 2008)
New Revision: 1017

Modified:
   /
   tags/parley-1.0.4/Changes
Log:
 r8698 at wiggin:  chisel | 2008-12-24 18:55:20 +0000
 Updated Changes



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8697
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8698
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: tags/parley-1.0.4/Changes
===================================================================
--- tags/parley-1.0.4/Changes	2008-12-27 00:04:12 UTC (rev 1016)
+++ tags/parley-1.0.4/Changes	2008-12-27 00:04:22 UTC (rev 1017)
@@ -1,5 +1,10 @@
 This file documents the revision history for Parley.
 
+1.0.4   Wed Dec 24 18:54:24 GMT 2008
+    - fixed skin2
+    - remove yui/ softlink
+    - made yui_2.6.0/ into yui/
+
 1.0.3   Tue Dec 23 09:34:32 GMT 2008
     - switch to database store for sessions
     - upgrade to YUI 2.6.0



From chiselwright at mail.berlios.de  Sun Dec 28 02:21:48 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sun, 28 Dec 2008 02:21:48 +0100
Subject: [Parley-svn] r1018 - / branches/parley-1.1
Message-ID: <200812280121.mBS1LmKV008387@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-28 02:21:46 +0100 (Sun, 28 Dec 2008)
New Revision: 1018

Modified:
   /
   branches/parley-1.1/ROADMAP
Log:
 r8712 at wiggin:  chisel | 2008-12-28 01:20:03 +0000
 + added reCaptcha to roadmap



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8698
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8712
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/ROADMAP
===================================================================
--- branches/parley-1.1/ROADMAP	2008-12-27 00:04:22 UTC (rev 1017)
+++ branches/parley-1.1/ROADMAP	2008-12-28 01:21:46 UTC (rev 1018)
@@ -50,6 +50,7 @@
 1.1.0:
 
     - advanced search
+    - reCaptcha during registration
 
 1.2.0:
 



From chiselwright at mail.berlios.de  Sun Dec 28 20:28:01 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sun, 28 Dec 2008 20:28:01 +0100
Subject: [Parley-svn] r1019 - / branches/parley-1.1/lib/Catalyst/Controller
	branches/parley-1.1/lib/Parley/Controller
	branches/parley-1.1/lib/Parley/I18N
	branches/parley-1.1/root/base/dfv
	branches/parley-1.1/root/base/search
Message-ID: <200812281928.mBSJS06w022459@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-28 20:28:00 +0100 (Sun, 28 Dec 2008)
New Revision: 1019

Added:
   branches/parley-1.1/root/base/search/advanced
   branches/parley-1.1/root/base/search/results
Modified:
   /
   branches/parley-1.1/lib/Catalyst/Controller/FormValidator.pm
   branches/parley-1.1/lib/Parley/Controller/Search.pm
   branches/parley-1.1/lib/Parley/I18N/i_default.po
   branches/parley-1.1/root/base/dfv/validation_messages_data
Log:
 r8713 at wiggin:  chisel | 2008-12-28 19:22:08 +0000
 / extend ::FormValidator to work with differennt parameter types (GET as well as POST)
 + add the guts of "advanced search" to /search controller
 + add a couple of i18n phrases
 / update DFV/TT messages
 + added template for search/advanced
 + added template for search/results



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8712
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8713
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/lib/Catalyst/Controller/FormValidator.pm
===================================================================
--- branches/parley-1.1/lib/Catalyst/Controller/FormValidator.pm	2008-12-28 01:21:46 UTC (rev 1018)
+++ branches/parley-1.1/lib/Catalyst/Controller/FormValidator.pm	2008-12-28 19:28:00 UTC (rev 1019)
@@ -13,10 +13,29 @@
 use Data::FormValidator::Constraints qw(:closures);
 
 sub form_check :Private {
-    my ($self, $c, $dfv_profile) = @_;
+    my ($self, $c, $dfv_profile, $param_type) = @_;
+    my $parameters;
 
+    # Which parameters? GET / POST or "all"?
+    # - POST [default]
+    if (
+        not defined $param_type
+            or
+        q{POST} eq $param_type
+    ) {
+        $parameters = $c->request->body_parameters;
+    }
+    # - GET
+    elsif (q{GET} eq $param_type) {
+        $parameters = $c->request->query_parameters;
+    }
+    # - "all"
+    elsif (q{all} eq $param_type) {
+        $parameters = $c->request->parameters;
+    }
+
     my $results = Data::FormValidator->check(
-        $c->request->body_parameters,
+        $parameters,
         $dfv_profile
     );
 

Modified: branches/parley-1.1/lib/Parley/Controller/Search.pm
===================================================================
--- branches/parley-1.1/lib/Parley/Controller/Search.pm	2008-12-28 01:21:46 UTC (rev 1018)
+++ branches/parley-1.1/lib/Parley/Controller/Search.pm	2008-12-28 19:28:00 UTC (rev 1019)
@@ -1,19 +1,53 @@
 package Parley::Controller::Search;
-
+# vim: ts=8 sts=4 et sw=4 sr sta
 use strict;
 use warnings;
 
 use Parley::Version;  our $VERSION = $Parley::VERSION;
 use base 'Catalyst::Controller';
+use base 'Catalyst::Controller::FormValidator';
 
+use Data::Dump qw(pp);
 use Text::Search::SQL;
 use URI;
 use URI::QueryParam;
+# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+# Global class data
+# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 
+my %dfv_profile_for = (
+    # DFV validation profile for adding a new topic
+    advanced => {
+        required    => [qw< match_type >],
+        require_some => {
+            search_terms => [
+                1,
+                qw<
+                    author_search_terms
+                    message_search_terms
+                    subject_search_terms
+                >
+            ]
+        },
+        optional    => [qw<
+            author_search_terms
+            message_search_terms
+            subject_search_terms
+            author_search_type
+            message_search_type
+            subject_search_type
+        >],
+        filters     => [qw< trim >],
+    },
+);
+
+# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+# Controller Actions
+# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+
 sub index : Private {
     my ( $self, $c ) = @_;
-
-    $c->response->body('Matched Parley::Controller::Search in Search.');
+    $c->forward('advanced');
 }
 
 sub end :Private {
@@ -26,6 +60,33 @@
     $c->forward('/end');
 }
 
+sub advanced : Local {
+    my ($self, $c) = @_;
+    # because we're potentially being forwarded to from / set the template
+    # explicitly
+    $c->stash->{template} = q{search/advanced};
+
+    if (
+        defined $c->request->method
+    ) {
+        $c->forward('form_check', [$dfv_profile_for{advanced}, 'GET']);
+
+        # everything passed (DFV) validation
+        if ($c->stash->{validation}->success) {
+            my $foo = $c->stash->{search_results};
+            $c->forward('do_advanced_search');
+        }
+        # something didn't validate
+        else {
+            $c->log->debug(
+                pp($c->stash->{validation})
+            );
+        }
+    }
+
+    return;
+}
+
 sub forum :Local {
     my ($self, $c) = @_;
     my ($search_terms, $resultset, $tss, $search_where, $where, @join);
@@ -63,6 +124,7 @@
         # we want to OR the items in $sql_where
         -or => $search_where,
     };
+    $c->log->debug(pp($where));
 
     # if we have a search_forum, limit to that
     if (defined $c->request->param('search_forum')) {
@@ -101,13 +163,197 @@
     }
 }
 
+sub do_advanced_search : Private {
+    my ($self, $c) = @_;
+    my $results = $c->stash->{validation};
+    my ($where, $search_where, $resultset, @join, $order_by);
+
+    # default ORDER BY
+    $order_by = [\'created DESC'];
+
+    # page to show - either a param, or show the first
+    $c->stash->{current_page}= $c->request->param('page') || 1;
+
+    $search_where = undef;
+    foreach my $search_field (qw<author message subject>) {
+        # process the search field
+        my ($extra_clauses, $extra_joins) =
+            @{$c->forward(q{search_clauses_} . $search_field)};
+        # add any search clauses
+        if ($extra_clauses) {
+            push @{$search_where}, @$extra_clauses;
+        }
+        # add any required table joins
+        if ($extra_joins) {
+            push @join, @$extra_joins;
+        }
+    }
+
+    # make sure we're searching for something
+    # if it turns out we're searching for nothingness, return an empty
+    # result set
+    if (not defined $search_where) {
+        return; # no need to do anything else
+    }
+
+    # build the where clause to pass to our search
+    if (q{any} eq $results->valid('match_type')) {
+        $where = {
+            # we want to OR the items in $sql_where
+            -or => $search_where,
+        };
+    }
+    elsif (q{all} eq $results->valid('match_type')) {
+        $where = {
+            # we want to OR the items in $sql_where
+            -and => $search_where,
+        };
+    }
+
+    $c->log->debug('SEARCH TERMS: ' . pp($where));
+
+    $resultset = $c->model('ParleyDB')->resultset('Post')->search(
+        $where,
+        {
+            join        => \@join,
+            order_by    => $order_by,
+            # results paging
+            rows        => $c->config->{search_results_per_page},
+            page        => $c->stash->{current_page},
+        }
+    );
+
+    # if we have any matches, stash them
+    if ($resultset->count() > 0) {
+        $c->stash->{search_results} = $resultset;
+    }
+
+    return;
+}
+
+sub add_search_clauses : Private {
+    my ($self, $c, $current_clauses, $type, $search_field, $terms) = @_;
+    my @search_where;
+
+    # do we have any terms to search for?
+    if ($terms) {
+        if (q{contains} eq $type) {
+            push @search_where,
+                $search_field,
+                { ilike => q{%} . $terms .  q{%} }
+            ;
+        }
+        elsif (q{exact} eq $type) {
+            push @search_where,
+                $search_field,
+                { q{=}  => $terms }
+            ;
+        }
+        else {
+            $c->log->error(qq{fsc/$search_field: hmm, what's the search type?});
+            return;
+        }
+    }
+    # no terms, nothing to do
+    else {
+        return;
+    }
+
+    # add to the current list of search clauses
+    push @{$current_clauses}, @search_where;
+
+    return;
+}
+
+sub search_clauses_author : Private {
+    my ($self, $c) = @_;
+    my $results = $c->stash->{validation};
+    my $search_field = 'author';
+    my @search_where;
+    my @joins;
+
+    my $terms = $results->valid(
+            $search_field
+        . q{_search_terms}
+    );
+    my $type = $results->valid(
+            $search_field
+        . q{_search_type}
+    ) || q{};
+
+    # add search clauses for the forum_name of the post's creator
+    $c->forward(
+        add_search_clauses => [\@search_where, $type, 'creator.forum_name', $terms]
+    );
+    # add the required JOIN relation name
+    push @joins, 'creator';
+
+    return [\@search_where, \@joins];
+}
+
+sub search_clauses_message : Private {
+    my ($self, $c) = @_;
+    my $results = $c->stash->{validation};
+    my $search_field = 'message';
+    my @search_where;
+
+    my $terms = $results->valid(
+            $search_field
+        . q{_search_terms}
+    );
+    my $type = $results->valid(
+            $search_field
+        . q{_search_type}
+    ) || q{};
+
+    # nice and easy - we're just searching the message body
+    $c->forward(
+        add_search_clauses => [\@search_where, $type, $search_field, $terms]
+    );
+
+    return [\@search_where, undef];
+}
+
+sub search_clauses_subject : Private {
+    my ($self, $c) = @_;
+    my $results = $c->stash->{validation};
+    my $search_field = 'subject';
+    my @search_where;
+    my @joins;
+
+    my $terms = $results->valid(
+            $search_field
+        . q{_search_terms}
+    );
+    my $type = $results->valid(
+            $search_field
+        . q{_search_type}
+    ) || q{};
+
+    # post subjects
+    $c->forward(
+        add_search_clauses => [\@search_where, $type, 'me.subject', $terms]
+    );
+
+    # thread subjects
+    $c->forward(
+        add_search_clauses => [\@search_where, $type, 'thread.subject', $terms]
+    );
+    # add the required JOIN relation name
+    push @joins, 'thread';
+
+    return [\@search_where, \@joins];
+}
+
 sub _results_view_pager {
     my ($self, $c) = @_;
 
+    # if we don't have any search results, do nothing
     if (not $c->stash->{search_results}) {
         return;
     }
 
+    # get the pager (from the search results)
     $c->stash->{page} = $c->stash->{search_results}->pager();
 
     # TODO - find a better way to do this if possible

Modified: branches/parley-1.1/lib/Parley/I18N/i_default.po
===================================================================
--- branches/parley-1.1/lib/Parley/I18N/i_default.po	2008-12-28 01:21:46 UTC (rev 1018)
+++ branches/parley-1.1/lib/Parley/I18N/i_default.po	2008-12-28 19:28:00 UTC (rev 1019)
@@ -333,6 +333,12 @@
 msgid "Logout"
 msgstr "Logout"
 
+msgid "MISSING_SEARCH_MATCH_TYPE"
+msgstr "Please specify the method you would like to match by"
+
+msgid "MISSING_SEARCH_TERMS"
+msgstr "Please provide something to search for"
+
 msgid "Manage"
 msgstr "Manage"
 

Modified: branches/parley-1.1/root/base/dfv/validation_messages_data
===================================================================
--- branches/parley-1.1/root/base/dfv/validation_messages_data	2008-12-28 01:21:46 UTC (rev 1018)
+++ branches/parley-1.1/root/base/dfv/validation_messages_data	2008-12-28 19:28:00 UTC (rev 1019)
@@ -2,6 +2,9 @@
     SET error_message = {
         # messages for missing fields
         missing => {
+            match_type                  => 'MISSING_SEARCH_MATCH_TYPE',
+            search_terms                => 'MISSING_SEARCH_TERMS',
+
             moon_stick                  => 'I demand the MOON! On a STICK!',
         },
 

Added: branches/parley-1.1/root/base/search/advanced
===================================================================
--- branches/parley-1.1/root/base/search/advanced	2008-12-28 01:21:46 UTC (rev 1018)
+++ branches/parley-1.1/root/base/search/advanced	2008-12-28 19:28:00 UTC (rev 1019)
@@ -0,0 +1,38 @@
+<h1>Search Forums</h1>
+
+<form>
+
+Search for messages matching
+<select name="match_type">
+    <option value="any">any</option>
+    <option value="all">all</option>
+</select>
+of the following criteria:
+<br />
+
+Subject
+[% INCLUDE search_type name="subject_search_type" %]
+<input type="text" name="subject_search_terms" />
+<br />
+
+Message
+[% INCLUDE search_type name="message_search_type" %]
+<input type="text" name="message_search_terms" />
+<br />
+
+Author's name
+[% INCLUDE search_type name="author_search_type" %]
+<input type="text" name="author_search_terms" />
+<br />
+
+<input type="submit" value="Search" />
+
+[% PROCESS search/results %]
+
+[% BLOCK search_type %]
+<select name="[%name%]">
+    <option value="contains">contains</option>
+    <option value="exact">is</option>
+</select>
+[% END %]
+

Added: branches/parley-1.1/root/base/search/results
===================================================================
--- branches/parley-1.1/root/base/search/results	2008-12-28 01:21:46 UTC (rev 1018)
+++ branches/parley-1.1/root/base/search/results	2008-12-28 19:28:00 UTC (rev 1019)
@@ -0,0 +1,19 @@
+<h1>[%l('Search Results')%]</h1>
+
+[% IF search_terms.raw %]
+<h2>[%l('Searching for')%] <em>[% search_terms.raw || '[nothing]' %]</em> in <em>[% search_forum.name || 'all forums' %]</em></h2>
+[% END %]
+
+[% IF search_results %]
+    <table class="search_results">
+        <tbody>
+            [% dummy_value = search_results.reset %]
+            [%- WHILE (post = search_results.next) %]
+            [% thread = post.thread %]
+            [% PROCESS shared/postinfo_table_row show_search_data=post %]
+            [% END %]
+        </tbody>
+    </table>
+[% ELSE %]
+[%l('No results found matching specified terms')%].
+[% END %]



From chiselwright at mail.berlios.de  Sun Dec 28 23:55:45 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Sun, 28 Dec 2008 23:55:45 +0100
Subject: [Parley-svn] r1020 - / branches/parley-1.1
	branches/parley-1.1/lib/Parley/Controller
	branches/parley-1.1/root/base/search
Message-ID: <200812282255.mBSMtjtf010254@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-28 23:55:44 +0100 (Sun, 28 Dec 2008)
New Revision: 1020

Modified:
   /
   branches/parley-1.1/Makefile.PL
   branches/parley-1.1/lib/Parley/Controller/Search.pm
   branches/parley-1.1/root/base/search/advanced
Log:
 r8871 at wiggin:  chisel | 2008-12-28 22:55:31 +0000
 + add date restrictions to search



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8713
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8871
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/Makefile.PL
===================================================================
--- branches/parley-1.1/Makefile.PL	2008-12-28 19:28:00 UTC (rev 1019)
+++ branches/parley-1.1/Makefile.PL	2008-12-28 22:55:44 UTC (rev 1020)
@@ -34,6 +34,7 @@
     'Config::General'                                           => '2.37',
     'Data::FormValidator'                                       => '4.50',
     'Data::SpreadPagination'                                    => '0.1.2',
+    'Date::Manip'                                               => '5.54',
     'DateTime'                                                  => '0.41',
     'DateTime::Format::Pg'                                      => '0.16001',
     'DateTime::TimeZone'                                        => '0.70',

Modified: branches/parley-1.1/lib/Parley/Controller/Search.pm
===================================================================
--- branches/parley-1.1/lib/Parley/Controller/Search.pm	2008-12-28 19:28:00 UTC (rev 1019)
+++ branches/parley-1.1/lib/Parley/Controller/Search.pm	2008-12-28 22:55:44 UTC (rev 1020)
@@ -8,6 +8,7 @@
 use base 'Catalyst::Controller::FormValidator';
 
 use Data::Dump qw(pp);
+use Date::Manip;
 use Text::Search::SQL;
 use URI;
 use URI::QueryParam;
@@ -36,6 +37,7 @@
             author_search_type
             message_search_type
             subject_search_type
+            search_post_date
         >],
         filters     => [qw< trim >],
     },
@@ -175,18 +177,22 @@
     $c->stash->{current_page}= $c->request->param('page') || 1;
 
     $search_where = undef;
-    foreach my $search_field (qw<author message subject>) {
+    foreach my $search_field (qw<author message subject date>) {
         # process the search field
-        my ($extra_clauses, $extra_joins) =
-            @{$c->forward(q{search_clauses_} . $search_field)};
-        # add any search clauses
-        if ($extra_clauses) {
-            push @{$search_where}, @$extra_clauses;
+        my $results = 
+            $c->forward(q{search_clauses_} . $search_field);
+        if (defined $results) {
+            my ($extra_clauses, $extra_joins) = @{ $results };
+
+            # add any search clauses
+            if ($extra_clauses) {
+                push @{$search_where}, @$extra_clauses;
+            }
+            # add any required table joins
+            if ($extra_joins) {
+                push @join, @$extra_joins;
+            }
         }
-        # add any required table joins
-        if ($extra_joins) {
-            push @join, @$extra_joins;
-        }
     }
 
     # make sure we're searching for something
@@ -291,6 +297,59 @@
     return [\@search_where, \@joins];
 }
 
+sub search_clauses_date : Private {
+    my ($self, $c) = @_;
+    my $results = $c->stash->{validation};
+    my $terms = $results->valid('search_post_date');
+    my (@search_where);
+
+    # if we don't have date "stuff", don't add any terms
+    if (not $terms) {
+        $c->log->debug('no date crap');
+        return []; # add nothing at all
+    }
+
+    use Date::Manip;
+    # UnixDate($_, "%Y-%m-%d %H:%M:%S")
+
+    my %search_clauses = (
+        last_hour => {
+            '>=' => UnixDate('1 hour ago', "%Y-%m-%d %H:%M:%S")
+        },
+        last_day => {
+            '>=' => UnixDate('1 day ago', "%Y-%m-%d %H:%M:%S")
+        },
+        last_month => {
+            '>=' => UnixDate('1 month ago', "%Y-%m-%d %H:%M:%S")
+        },
+        last_six_months => {
+            '>=' => UnixDate('6 months ago', "%Y-%m-%d %H:%M:%S")
+        },
+        last_year => {
+            '>=' => UnixDate('1 year ago', "%Y-%m-%d %H:%M:%S")
+        },
+        over_a_year => {
+            '<' => UnixDate('1 year ago', "%Y-%m-%d %H:%M:%S")
+        },
+    );
+
+    # if we don't have a matching search clause, abort ...
+    if (not exists $search_clauses{'$terms'}) {
+        $c->log->error(
+              $terms
+            . q{ is not a valid date label in search_clauses_date()}
+        );
+        return [];
+    };
+
+    push @search_where,
+        'me.created',
+        $search_clauses{$terms}
+    ;
+
+    return [\@search_where, undef];
+}
+
 sub search_clauses_message : Private {
     my ($self, $c) = @_;
     my $results = $c->stash->{validation};

Modified: branches/parley-1.1/root/base/search/advanced
===================================================================
--- branches/parley-1.1/root/base/search/advanced	2008-12-28 19:28:00 UTC (rev 1019)
+++ branches/parley-1.1/root/base/search/advanced	2008-12-28 22:55:44 UTC (rev 1020)
@@ -25,6 +25,18 @@
 <input type="text" name="author_search_terms" />
 <br />
 
+Posted
+<select name="search_post_date">
+    <option value="">at any time</option>
+    <option value="last_hour">in the last hour</option>
+    <option value="last_day">in the last day</option>
+    <option value="last_month">in the last month</option>
+    <option value="last_six_months">in the last six months</option>
+    <option value="last_year">in the last year</option>
+    <option value="over_a_year">over a year ago</option>
+</select>
+<br />
+
 <input type="submit" value="Search" />
 
 [% PROCESS search/results %]



From chiselwright at mail.berlios.de  Mon Dec 29 01:22:31 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 29 Dec 2008 01:22:31 +0100
Subject: [Parley-svn] r1021 - / branches/parley-1.1
	branches/parley-1.1/root/base/shared
	branches/parley-1.1/root/base/thread
	branches/parley-1.1/root/static/css
Message-ID: <200812290022.mBT0MV1m007873@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-29 01:22:29 +0100 (Mon, 29 Dec 2008)
New Revision: 1021

Added:
   branches/parley-1.1/root/base/shared/add_this
Modified:
   /
   branches/parley-1.1/Changes
   branches/parley-1.1/root/base/thread/view
   branches/parley-1.1/root/static/css/parley-min.css
   branches/parley-1.1/root/static/css/parley.css
Log:
 r8873 at wiggin:  chisel | 2008-12-29 00:18:45 +0000
 + added "Add This" to thread/view pages [www.addthis.com]



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8871
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8873
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/Changes
===================================================================
--- branches/parley-1.1/Changes	2008-12-28 22:55:44 UTC (rev 1020)
+++ branches/parley-1.1/Changes	2008-12-29 00:22:29 UTC (rev 1021)
@@ -1,5 +1,10 @@
 This file documents the revision history for Parley.
 
+1.1.0
+    - added Advanced Search page
+    - added Add This (www.addthis.com) to thread/view page
+      (if username set in configuration)
+
 1.0.3   Tue Dec 23 09:34:32 GMT 2008
     - switch to database store for sessions
     - upgrade to YUI 2.6.0

Added: branches/parley-1.1/root/base/shared/add_this
===================================================================
--- branches/parley-1.1/root/base/shared/add_this	2008-12-28 22:55:44 UTC (rev 1020)
+++ branches/parley-1.1/root/base/shared/add_this	2008-12-29 00:22:29 UTC (rev 1021)
@@ -0,0 +1,14 @@
+[% IF c.config.add_this_account %]
+<!-- ADDTHIS BUTTON BEGIN -->
+<script type="text/javascript">
+addthis_pub             = '[%c.config.add_this_account%]'; 
+//addthis_logo            = 'http://www.addthis.com/images/yourlogo.png';
+addthis_logo_background = 'EFEFFF';
+addthis_logo_color      = '666699';
+addthis_brand           = '[%c.config.name%]';
+addthis_options         = 'delicious, twitter, favorites, email, more';
+</script>
+<a href="http://www.addthis.com/bookmark.php" onmouseover="return addthis_open(this, '', '[URL]', '[TITLE]')" onmouseout="addthis_close()" onclick="return addthis_sendto()"><img src="http://s7.addthis.com/static/btn/lg-share-en.gif" width="125" height="16" border="0" alt="Share" /></a>
+<script type="text/javascript" src="http://s7.addthis.com/js/152/addthis_widget.js"></script>
+<!-- ADDTHIS BUTTON END -->
+[% END %]

Modified: branches/parley-1.1/root/base/thread/view
===================================================================
--- branches/parley-1.1/root/base/thread/view	2008-12-28 22:55:44 UTC (rev 1020)
+++ branches/parley-1.1/root/base/thread/view	2008-12-29 00:22:29 UTC (rev 1021)
@@ -189,6 +189,12 @@
         </td>
     </tr>
 
+    <tr>
+        <td colspan="2" class="add_this">
+            [% PROCESS shared/add_this %]
+        </td>
+    </tr>
+
     </tbody>
 </table>
 <!-- end : thread contents -->

Modified: branches/parley-1.1/root/static/css/parley-min.css
===================================================================
--- branches/parley-1.1/root/static/css/parley-min.css	2008-12-28 22:55:44 UTC (rev 1020)
+++ branches/parley-1.1/root/static/css/parley-min.css	2008-12-29 00:22:29 UTC (rev 1021)
@@ -1 +1 @@
-body{background-color:#fff;font-family:Verdana,Arial,Helvetica,sans-serif;}#hd{height:80px;line-height:80px;margin:0;padding-left:10px;background:#EEE url('/static/images/parley_logo.jpg') no-repeat left;color:#79B30B color:#36C;}#hd h1{font-size:200%;text-align:left;}div#ft{background:#666;color:#FFF;font-size:77%;margin-top:20px;}div#ft p{border:none;margin-top:30px;padding:5px 10px 5px 10px;text-align:right;display:block;}div#ft a{color:#ccc;}div#user_information{line-height:1em;font-size:85%;color:#000;background-color:transparent;position:absolute;top:0;right:10px;height:70px;width:200px;padding-top:3px;text-align:center;}div#user_information .user_info_actions{margin-top:3px;}.caretfix{overflow:auto;}#bd h1{font-weight:bold;background:#666;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h2{font-weight:bold;background:#999;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h3{font-weight:bold;background:#eee;padding:4px;text-align:left;!
 margin-top:5px;margin-bottom:5px;color:#79B30B color:#36C;}a.nav:hover{background:#000;color:#fff;}a,a:link,a:visited,a:active{background:transparent;color:blue;text-decoration:none;}ol>li,ul>li{margin-left:8px;list-style-position:inside;}ol>li{list-style-type:decimal;}ul>li{list-style-type:disc;}th{font-size:100%;text-align:left;font-weight:bold;}#login_dialog form{margin:0;padding:0;min-width:400px;max-width:600px;}#login_dialog form fieldset{/ * clear:both;note that this clear causes inputs to break to left in ie5.x mac,commented out */ padding:10px;margin:0;border:none;}#login_dialog form label{display:block;float:left;width:150px;padding:0;margin:5px 0 0;text-align:right;font-weight:bold;margin-bottom:0;}#login_dialog form input,form textarea{width:auto;margin:5px 0 0 10px;}#login_dialog form p{font-size:85%;}.row{border-top:1px dotted #666;border-bottom:1px dotted #666;}.row_odd{background:#eee;}.row_even{background:#ddd;}.admin_edited_post{color:#000;background:#ccc;!
 padding:2px;padding-left:10px;padding-right:10px;border:1px da!
 shed #00
0;margin-left:15px;font-size:93%;text-align:right;}.align_right{text-align:right;}.error_messages{margin-top:5px;display:block;line-height:1.7em;padding:5px;background-color:#930;color:#fff;text-transform:none;font-family:Arial,Avenir,"Lucida Grande",Verdana,"Bitstream Vera Sans",Helvetica,sans-serif;font-weight:bold;voice-family:"\"}\"";voice-family:inherit;font-size:1.0em;border:none;}.forum_description{font-size:93%;}.forum_lastpost{font-size:85%;text-align:right;}.forum_lastpost_subject a{color:#79B30B color:#36C;}.forum_link{font-size:100%;font-weight:bold;}.forum_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.forum_mini_pager{font-size:85%;}.forum_mini_pager a{color:#666;}.forum_name{font-size:100%;text-align:left;font-weight:bold;margin-top:5px;}.forum_name a{color:#79B30B color:#36C;}.forum_postcount{font-size!
 :85%;text-align:right;margin-top:5px;}.forum_view{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_view td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.help li{margin-top:25px;margin-right:25px;list-style-type:none;border-left:2px solid #666;padding-top:5px;padding-bottom:5px;padding-left:10px;background-color:#ddd;}.help li ul li,.help li ol li{margin-top:5px;margin-left:10px;list-style-type:disc;border-left:none;padding-left:none;padding-top:none;padding-bottom:none;background-color:transparent;}.innerpost{margin-left:10px;padding:5px;overflow:auto;font-size:93%;}.moderator_list{font-size:77%;margin-bottom:5px;margin-top:5px;text-align:right;}.pager_advanced{font-size:77%;margin-bottom:5px;margin-top:5px;}.post{padding-top:5px;vertical-align:top;border-left:1px solid #ddd;}.post_created{text-align:right;font-size:85%;}.post_creator{font-weight:bold;font-style:italic;font-si!
 ze:85%;}.post_edited_alert{font-weight:bold;font-style:italic;!
 }.post_i
nfo{font-size:77%;line-height:1.1em;margin-top:10px;margin-bottom:2px;text-align:right;}.post_subject{font-weight:bold;}.quote{background-color:#F9FBFF;border:1px solid #333;font-size:85%;margin:0 0 2px 4px;padding:6px;width:85%;overflow:hidden;}.recently_updated{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.recently_updated td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.reply_post_message{border:1px dashed #666;}.search_match_context{font-size:85%;}.search_results{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.search_results td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.service_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.service_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;pa!
 dding-left:10px;padding-right:10px;}.site_terms{width:80%;margin-left:auto;margin-right:auto;margin-bottom:10px;padding:5px;border:1px solid #666;}.thread_add{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_add td{padding-top:4px;padding-bottom:4px;}.thread_add .input_text{width:450px;margin-left:10px;}.thread_add_topic{text-align:right;padding-right:5px;}.thread_add_message{text-align:right;vertical-align:top;padding-right:5px;}.thread_header{font-weight:bold;background:#666;padding:4px;text-align:left;}.thread_header a{color:#ccc;}.thread_info{margin:0;width:100%;border:none;padding:0;margin-bottom:10px;}.thread_info td{border:none;padding:0;}.thread_lastpost{font-size:85%;text-align:right;}.thread_post_row{border-top:1px solid #ddd;border-bottom:1px solid #ddd;}.thread_post_row td{margin-top:10px;margin-bottom:10px;}.thread_posts{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_recent_forum{float:ri!
 ght;font-size:85%;}.thread_recent_forum a{color:#333;}.thread_!
 reply{fo
nt-size:93%;}.thread_reply tr{vertical-align:top;}.thread_reply td{padding-top:10px;padding-left:10px;}.thread_reply textarea{background-color:transparent;border:2px inset black;}.thread_subject a{font-size:93%;color:#79B30B color:#36C;}.thread_watch{margin-top:5px;font-size:77%;text-align:left;}.top_padded{margin-top:10px;}.topic_creator{display:block;font-size:85%;text-align:right;}.user_login form{width:350px;margin-left:auto;margin-right:auto;margin-top:20px;}.user_login p{margin-top:5px;margin-bottom:5px;}.user_permission_list{margin-left:auto;margin-right:auto;margin-top:15px;font-size:93%;width:100%;}.user_permission_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:150%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.user_permission_list img{vertical-align:middle;}.forum_moderator_list div input{height:150%;}.forum_moderator_list img{vertical-align:middle;}.user_post_info{background:#ccc;background:transparent;font-si!
 ze:77%;margin-left:auto;margin-right:auto;text-align:center;vertical-align:top;width:110px;}a[href $='.jpg']{padding-left:20px;background:transparent url(/static/images/filetypes/image.png) no-repeat center left;}a[href $='.pdf']{padding-left:20px;background:transparent url(/static/images/filetypes/pdf.png) no-repeat center left;}#loader_wait.yui-overlay{position:fixed;float:right;top:10px;right:10px;border:none;text-align:right;}#preview_overlay{border:1px dashed #ccc;text-align:left;padding:0;}#thread_message{font-family:monospace;text-align:left;padding:0;background-color:#eee;font-size:93%;width:450px;}#validation_errors{display:block;font-size:83%;border:1px dashed #89d;margin-top:10px;margin-bottom:10px;margin-left:25px;margin-right:25px;padding:3px;}#ysearch{text-align:center;}#ysearchinput{position:static;width:20em;}#ysearchcontainer{text-align:left;width:20em;}.forumcode_code{font-family:monospace;border:1px solid #333;font-size:85%;margin:15px 20px 15px 20px;padd!
 ing:6px;width:85%;overflow:auto;color:#ff0;background-color:#3!
 33;borde
r:1px solid #666;white-space:pre;}.forumcode_pre{background-color:transparent;font-family:monospace;border:1px dashed #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;white-space:pre;}.forumcode_quote{background-color:#eee;font-family:monospace;font-style:italic;border:1px dotted #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;}.forumcode_quoting{font-weight:bold;margin-bottom:3px;}.yuimenuitem .disabled{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-navset .yui-nav,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav{border:solid #333;border-width:0 0 5px;Xposition:relative;zoom:1;}.yui-skin-sam .yui-navset .yui-content{background:transparent;}.yui-skin-sam .yui-navset .yui-nav a,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav a{background-image:none;background-color:#999;border:solid #a3a3a3;border-width:0 1px;color:#fff;text-decoration:none;}.yui-skin-sam .yui-navset .yui-nav .selected a,.yui-skin-sam .!
 yui-navset .yui-nav .selected a:focus,.yui-skin-sam .yui-navset .yui-nav .selected a:hover{background:#333;color:#fff;}.yui-skin-sam .yui-navset .yui-nav a:hover,.yui-skin-sam .yui-navset .yui-nav a:focus{background:#666;color:#fff;outline:0;}
\ No newline at end of file
+body{background-color:#fff;font-family:Verdana,Arial,Helvetica,sans-serif;}#hd{height:80px;line-height:80px;margin:0;padding-left:10px;background:#EEE url('/static/images/parley_logo.jpg') no-repeat left;color:#79B30B color:#36C;}#hd h1{font-size:200%;text-align:left;}div#ft{background:#666;color:#FFF;font-size:77%;margin-top:20px;}div#ft p{border:none;margin-top:30px;padding:5px 10px 5px 10px;text-align:right;display:block;}div#ft a{color:#ccc;}div#user_information{line-height:1em;font-size:85%;color:#000;background-color:transparent;position:absolute;top:0;right:10px;height:70px;width:200px;padding-top:3px;text-align:center;}div#user_information .user_info_actions{margin-top:3px;}.caretfix{overflow:auto;}#bd h1{font-weight:bold;background:#666;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h2{font-weight:bold;background:#999;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h3{font-weight:bold;background:#eee;padding:4px;text-align:left;!
 margin-top:5px;margin-bottom:5px;color:#79B30B color:#36C;}a.nav:hover{background:#000;color:#fff;}a,a:link,a:visited,a:active{background:transparent;color:blue;text-decoration:none;}ol>li,ul>li{margin-left:8px;list-style-position:inside;}ol>li{list-style-type:decimal;}ul>li{list-style-type:disc;}th{font-size:100%;text-align:left;font-weight:bold;}#login_dialog form{margin:0;padding:0;min-width:400px;max-width:600px;}#login_dialog form fieldset{/ * clear:both;note that this clear causes inputs to break to left in ie5.x mac,commented out */ padding:10px;margin:0;border:none;}#login_dialog form label{display:block;float:left;width:150px;padding:0;margin:5px 0 0;text-align:right;font-weight:bold;margin-bottom:0;}#login_dialog form input,form textarea{width:auto;margin:5px 0 0 10px;}#login_dialog form p{font-size:85%;}.row{border-top:1px dotted #666;border-bottom:1px dotted #666;}.row_odd{background:#eee;}.row_even{background:#ddd;}.add_this{text-align:right;}.admin_edited_post!
 {color:#000;background:#ccc;padding:2px;padding-left:10px;padd!
 ing-righ
t:10px;border:1px dashed #000;margin-left:15px;font-size:93%;text-align:right;}.align_right{text-align:right;}.error_messages{margin-top:5px;display:block;line-height:1.7em;padding:5px;background-color:#930;color:#fff;text-transform:none;font-family:Arial,Avenir,"Lucida Grande",Verdana,"Bitstream Vera Sans",Helvetica,sans-serif;font-weight:bold;voice-family:"\"}\"";voice-family:inherit;font-size:1.0em;border:none;}.forum_description{font-size:93%;}.forum_lastpost{font-size:85%;text-align:right;}.forum_lastpost_subject a{color:#79B30B color:#36C;}.forum_link{font-size:100%;font-weight:bold;}.forum_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.forum_mini_pager{font-size:85%;}.forum_mini_pager a{color:#666;}.forum_name{font-size:100%;text-align:left;font-weight:bold;margin-top:5px;}.forum_name a{color:#79B30B color:#36C!
 ;}.forum_postcount{font-size:85%;text-align:right;margin-top:5px;}.forum_view{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_view td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.help li{margin-top:25px;margin-right:25px;list-style-type:none;border-left:2px solid #666;padding-top:5px;padding-bottom:5px;padding-left:10px;background-color:#ddd;}.help li ul li,.help li ol li{margin-top:5px;margin-left:10px;list-style-type:disc;border-left:none;padding-left:none;padding-top:none;padding-bottom:none;background-color:transparent;}.innerpost{margin-left:10px;padding:5px;overflow:auto;font-size:93%;}.moderator_list{font-size:77%;margin-bottom:5px;margin-top:5px;text-align:right;}.pager_advanced{font-size:77%;margin-bottom:5px;margin-top:5px;}.post{padding-top:5px;vertical-align:top;border-left:1px solid #ddd;}.post_created{text-align:right;font-size:85%;}.post_creator{font-weight:bo!
 ld;font-style:italic;font-size:85%;}.post_edited_alert{font-we!
 ight:bol
d;font-style:italic;}.post_info{font-size:77%;line-height:1.1em;margin-top:10px;margin-bottom:2px;text-align:right;}.post_subject{font-weight:bold;}.quote{background-color:#F9FBFF;border:1px solid #333;font-size:85%;margin:0 0 2px 4px;padding:6px;width:85%;overflow:hidden;}.recently_updated{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.recently_updated td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.reply_post_message{border:1px dashed #666;}.search_match_context{font-size:85%;}.search_results{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.search_results td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.service_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.service_list td{vertical-align:top;border:1px dashed #ddd;bor!
 der:none;line-height:120%;padding-left:10px;padding-right:10px;}.site_terms{width:80%;margin-left:auto;margin-right:auto;margin-bottom:10px;padding:5px;border:1px solid #666;}.thread_add{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_add td{padding-top:4px;padding-bottom:4px;}.thread_add .input_text{width:450px;margin-left:10px;}.thread_add_topic{text-align:right;padding-right:5px;}.thread_add_message{text-align:right;vertical-align:top;padding-right:5px;}.thread_header{font-weight:bold;background:#666;padding:4px;text-align:left;}.thread_header a{color:#ccc;}.thread_info{margin:0;width:100%;border:none;padding:0;margin-bottom:10px;}.thread_info td{border:none;padding:0;}.thread_lastpost{font-size:85%;text-align:right;}.thread_post_row{border-top:1px solid #ddd;border-bottom:1px solid #ddd;}.thread_post_row td{margin-top:10px;margin-bottom:10px;}.thread_posts{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.!
 thread_recent_forum{float:right;font-size:85%;}.thread_recent_!
 forum a{
color:#333;}.thread_reply{font-size:93%;}.thread_reply tr{vertical-align:top;}.thread_reply td{padding-top:10px;padding-left:10px;}.thread_reply textarea{background-color:transparent;border:2px inset black;}.thread_subject a{font-size:93%;color:#79B30B color:#36C;}.thread_watch{margin-top:5px;font-size:77%;text-align:left;}.top_padded{margin-top:10px;}.topic_creator{display:block;font-size:85%;text-align:right;}.user_login form{width:350px;margin-left:auto;margin-right:auto;margin-top:20px;}.user_login p{margin-top:5px;margin-bottom:5px;}.user_permission_list{margin-left:auto;margin-right:auto;margin-top:15px;font-size:93%;width:100%;}.user_permission_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:150%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.user_permission_list img{vertical-align:middle;}.forum_moderator_list div input{height:150%;}.forum_moderator_list img{vertical-align:middle;}.user_post_info{background:#ccc;ba!
 ckground:transparent;font-size:77%;margin-left:auto;margin-right:auto;text-align:center;vertical-align:top;width:110px;}a[href $='.jpg']{padding-left:20px;background:transparent url(/static/images/filetypes/image.png) no-repeat center left;}a[href $='.pdf']{padding-left:20px;background:transparent url(/static/images/filetypes/pdf.png) no-repeat center left;}#loader_wait.yui-overlay{position:fixed;float:right;top:10px;right:10px;border:none;text-align:right;}#preview_overlay{border:1px dashed #ccc;text-align:left;padding:0;}#thread_message{font-family:monospace;text-align:left;padding:0;background-color:#eee;font-size:93%;width:450px;}#validation_errors{display:block;font-size:83%;border:1px dashed #89d;margin-top:10px;margin-bottom:10px;margin-left:25px;margin-right:25px;padding:3px;}#ysearch{text-align:center;}#ysearchinput{position:static;width:20em;}#ysearchcontainer{text-align:left;width:20em;}.forumcode_code{font-family:monospace;border:1px solid #333;font-size:85%;mar!
 gin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;co!
 lor:#ff0
;background-color:#333;border:1px solid #666;white-space:pre;}.forumcode_pre{background-color:transparent;font-family:monospace;border:1px dashed #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;white-space:pre;}.forumcode_quote{background-color:#eee;font-family:monospace;font-style:italic;border:1px dotted #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;}.forumcode_quoting{font-weight:bold;margin-bottom:3px;}.yuimenuitem .disabled{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-navset .yui-nav,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav{border:solid #333;border-width:0 0 5px;Xposition:relative;zoom:1;}.yui-skin-sam .yui-navset .yui-content{background:transparent;}.yui-skin-sam .yui-navset .yui-nav a,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav a{background-image:none;background-color:#999;border:solid #a3a3a3;border-width:0 1px;color:#fff;text-decoration:none;}.yui-skin-sam .yui-navset .yui-nav!
  .selected a,.yui-skin-sam .yui-navset .yui-nav .selected a:focus,.yui-skin-sam .yui-navset .yui-nav .selected a:hover{background:#333;color:#fff;}.yui-skin-sam .yui-navset .yui-nav a:hover,.yui-skin-sam .yui-navset .yui-nav a:focus{background:#666;color:#fff;outline:0;}
\ No newline at end of file

Modified: branches/parley-1.1/root/static/css/parley.css
===================================================================
--- branches/parley-1.1/root/static/css/parley.css	2008-12-28 22:55:44 UTC (rev 1020)
+++ branches/parley-1.1/root/static/css/parley.css	2008-12-29 00:22:29 UTC (rev 1021)
@@ -159,6 +159,10 @@
 
 /* style classes */
 
+.add_this {
+    text-align:         right;
+}
+
 .admin_edited_post {
     color:              #000;
     background:         #ccc;



From chiselwright at mail.berlios.de  Mon Dec 29 01:22:40 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 29 Dec 2008 01:22:40 +0100
Subject: [Parley-svn] r1022 - / branches/parley-1.1
	branches/parley-1.1/lib/Parley/Controller
	branches/parley-1.1/root/base/search
	branches/parley-1.1/root/base/shared
Message-ID: <200812290022.mBT0MeGU007945@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-29 01:22:39 +0100 (Mon, 29 Dec 2008)
New Revision: 1022

Modified:
   /
   branches/parley-1.1/TODO
   branches/parley-1.1/lib/Parley/Controller/Search.pm
   branches/parley-1.1/root/base/search/advanced
   branches/parley-1.1/root/base/shared/search_dialog
Log:
 r8874 at wiggin:  chisel | 2008-12-29 00:21:39 +0000
 + apdate To Do list
 / make search/advanced DTRT when there's nothing being searched for
 / fixed some stupidities left in while developing/experimenting
 / extended <form> tag for Advanced Search
 + added missing </form> tag for Advanced Search
 + add Advanced Search for (simple) search dialog
 / tweka layout of (simple) search dialog



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8873
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8874
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/TODO
===================================================================
--- branches/parley-1.1/TODO	2008-12-29 00:22:29 UTC (rev 1021)
+++ branches/parley-1.1/TODO	2008-12-29 00:22:39 UTC (rev 1022)
@@ -1,5 +1,7 @@
 TODO LIST
 
+  - update i18n from Advanced Search additions
+  - move search_dialog inline styles into CSS file
   - fix "oversized image" bug
   - fix "user information" CSS location
   - local file permissions (for avatar uploads)

Modified: branches/parley-1.1/lib/Parley/Controller/Search.pm
===================================================================
--- branches/parley-1.1/lib/Parley/Controller/Search.pm	2008-12-29 00:22:29 UTC (rev 1021)
+++ branches/parley-1.1/lib/Parley/Controller/Search.pm	2008-12-29 00:22:39 UTC (rev 1022)
@@ -27,6 +27,7 @@
                     author_search_terms
                     message_search_terms
                     subject_search_terms
+                    search_post_date
                 >
             ]
         },
@@ -68,7 +69,10 @@
     # explicitly
     $c->stash->{template} = q{search/advanced};
 
+    # if we have a method and any (GET) parameters, do the searchy stuff
     if (
+        keys %{$c->request->query_parameters}
+            and
         defined $c->request->method
     ) {
         $c->forward('form_check', [$dfv_profile_for{advanced}, 'GET']);
@@ -120,6 +124,9 @@
     );
     $tss->parse();
     $search_where = $tss->get_sql_where();
+    $c->log->debug(
+        pp $search_where
+    );
 
     # build the where clause to pass to our search
     $where = {
@@ -309,9 +316,7 @@
         return []; # add nothing at all
     }
 
-    use Date::Manip;
-    # UnixDate($_, "%Y-%m-%d %H:%M:%S")
-
+    # the mapping from form values to search clauses
     my %search_clauses = (
         last_hour => {
             '>=' => UnixDate('1 hour ago', "%Y-%m-%d %H:%M:%S")
@@ -334,7 +339,7 @@
     );
 
     # if we don't have a matching search clause, abort ...
-    if (not exists $search_clauses{'$terms'}) {
+    if (not exists $search_clauses{$terms}) {
         $c->log->error(
               $terms
             . q{ is not a valid date label in search_clauses_date()}

Modified: branches/parley-1.1/root/base/search/advanced
===================================================================
--- branches/parley-1.1/root/base/search/advanced	2008-12-29 00:22:29 UTC (rev 1021)
+++ branches/parley-1.1/root/base/search/advanced	2008-12-29 00:22:39 UTC (rev 1022)
@@ -1,6 +1,6 @@
 <h1>Search Forums</h1>
 
-<form>
+<form method="get" action="[%c.uri_for('/search/advanced')%]">
 
 Search for messages matching
 <select name="match_type">
@@ -48,3 +48,4 @@
 </select>
 [% END %]
 
+</form>

Modified: branches/parley-1.1/root/base/shared/search_dialog
===================================================================
--- branches/parley-1.1/root/base/shared/search_dialog	2008-12-29 00:22:29 UTC (rev 1021)
+++ branches/parley-1.1/root/base/shared/search_dialog	2008-12-29 00:22:39 UTC (rev 1022)
@@ -64,7 +64,7 @@
             <br />
         </fieldset>
 
-        <fieldset>
+        <fieldset style="background-color:transparent; text-align: center; margin-top: 5px;">
             <label for="search_forum"><em>[%l('in')%]:</em></label>
             <select id="search_forum" name="search_forum">
                 <optgroup label="[%l('General')%]">
@@ -83,6 +83,10 @@
             <br />
         </fieldset>
     </form>
+
+    <div style="background-color:transparent; text-align: right;">
+        <a href="[%c.uri_for('/search/advanced')%]">Advanced Search</a>
+    </div>
 </div>
 </div>
 <!-- SEARCH DIALOG -->



From chiselwright at mail.berlios.de  Mon Dec 29 01:22:48 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 29 Dec 2008 01:22:48 +0100
Subject: [Parley-svn] r1023 - / branches/parley-1.1
Message-ID: <200812290022.mBT0MmuQ008041@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-29 01:22:48 +0100 (Mon, 29 Dec 2008)
New Revision: 1023

Modified:
   /
   branches/parley-1.1/parley.conf
Log:
 r8875 at wiggin:  chisel | 2008-12-29 00:22:03 +0000
 + added 'chiselwright' as the AddThis account to use



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8874
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8875
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/parley.conf
===================================================================
--- branches/parley-1.1/parley.conf	2008-12-29 00:22:39 UTC (rev 1022)
+++ branches/parley-1.1/parley.conf	2008-12-29 00:22:48 UTC (rev 1023)
@@ -19,6 +19,10 @@
 # set this to "0"
 skin_default_css            1
 
+# "Add This"
+add_this_account            chiselwright
+
+
 # comment out any log levels you don't want to see in your logs
 # 'info' and 'debug' are common choices for suppresing in a live environment
 log_levels                  info



From chiselwright at mail.berlios.de  Mon Dec 29 01:32:18 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Mon, 29 Dec 2008 01:32:18 +0100
Subject: [Parley-svn] r1024 - / branches/parley-1.1
	branches/parley-1.1/root/static/css
Message-ID: <200812290032.mBT0WIbq020488@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-29 01:32:16 +0100 (Mon, 29 Dec 2008)
New Revision: 1024

Modified:
   /
   branches/parley-1.1/Changes
   branches/parley-1.1/root/static/css/parley-min.css
   branches/parley-1.1/root/static/css/parley.css
Log:
 r8879 at wiggin:  chisel | 2008-12-29 00:32:00 +0000
 / CSS tweak to #user_information



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8875
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8879
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/Changes
===================================================================
--- branches/parley-1.1/Changes	2008-12-29 00:22:48 UTC (rev 1023)
+++ branches/parley-1.1/Changes	2008-12-29 00:32:16 UTC (rev 1024)
@@ -4,6 +4,9 @@
     - added Advanced Search page
     - added Add This (www.addthis.com) to thread/view page
       (if username set in configuration)
+    - modified CSS for "user information"; now the header is a fixed-width we
+      can place this div inside it (instead of flushed to the RHS of the
+      page/window)
 
 1.0.3   Tue Dec 23 09:34:32 GMT 2008
     - switch to database store for sessions

Modified: branches/parley-1.1/root/static/css/parley-min.css
===================================================================
--- branches/parley-1.1/root/static/css/parley-min.css	2008-12-29 00:22:48 UTC (rev 1023)
+++ branches/parley-1.1/root/static/css/parley-min.css	2008-12-29 00:32:16 UTC (rev 1024)
@@ -1 +1 @@
-body{background-color:#fff;font-family:Verdana,Arial,Helvetica,sans-serif;}#hd{height:80px;line-height:80px;margin:0;padding-left:10px;background:#EEE url('/static/images/parley_logo.jpg') no-repeat left;color:#79B30B color:#36C;}#hd h1{font-size:200%;text-align:left;}div#ft{background:#666;color:#FFF;font-size:77%;margin-top:20px;}div#ft p{border:none;margin-top:30px;padding:5px 10px 5px 10px;text-align:right;display:block;}div#ft a{color:#ccc;}div#user_information{line-height:1em;font-size:85%;color:#000;background-color:transparent;position:absolute;top:0;right:10px;height:70px;width:200px;padding-top:3px;text-align:center;}div#user_information .user_info_actions{margin-top:3px;}.caretfix{overflow:auto;}#bd h1{font-weight:bold;background:#666;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h2{font-weight:bold;background:#999;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h3{font-weight:bold;background:#eee;padding:4px;text-align:left;!
 margin-top:5px;margin-bottom:5px;color:#79B30B color:#36C;}a.nav:hover{background:#000;color:#fff;}a,a:link,a:visited,a:active{background:transparent;color:blue;text-decoration:none;}ol>li,ul>li{margin-left:8px;list-style-position:inside;}ol>li{list-style-type:decimal;}ul>li{list-style-type:disc;}th{font-size:100%;text-align:left;font-weight:bold;}#login_dialog form{margin:0;padding:0;min-width:400px;max-width:600px;}#login_dialog form fieldset{/ * clear:both;note that this clear causes inputs to break to left in ie5.x mac,commented out */ padding:10px;margin:0;border:none;}#login_dialog form label{display:block;float:left;width:150px;padding:0;margin:5px 0 0;text-align:right;font-weight:bold;margin-bottom:0;}#login_dialog form input,form textarea{width:auto;margin:5px 0 0 10px;}#login_dialog form p{font-size:85%;}.row{border-top:1px dotted #666;border-bottom:1px dotted #666;}.row_odd{background:#eee;}.row_even{background:#ddd;}.add_this{text-align:right;}.admin_edited_post!
 {color:#000;background:#ccc;padding:2px;padding-left:10px;padd!
 ing-righ
t:10px;border:1px dashed #000;margin-left:15px;font-size:93%;text-align:right;}.align_right{text-align:right;}.error_messages{margin-top:5px;display:block;line-height:1.7em;padding:5px;background-color:#930;color:#fff;text-transform:none;font-family:Arial,Avenir,"Lucida Grande",Verdana,"Bitstream Vera Sans",Helvetica,sans-serif;font-weight:bold;voice-family:"\"}\"";voice-family:inherit;font-size:1.0em;border:none;}.forum_description{font-size:93%;}.forum_lastpost{font-size:85%;text-align:right;}.forum_lastpost_subject a{color:#79B30B color:#36C;}.forum_link{font-size:100%;font-weight:bold;}.forum_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.forum_mini_pager{font-size:85%;}.forum_mini_pager a{color:#666;}.forum_name{font-size:100%;text-align:left;font-weight:bold;margin-top:5px;}.forum_name a{color:#79B30B color:#36C!
 ;}.forum_postcount{font-size:85%;text-align:right;margin-top:5px;}.forum_view{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_view td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.help li{margin-top:25px;margin-right:25px;list-style-type:none;border-left:2px solid #666;padding-top:5px;padding-bottom:5px;padding-left:10px;background-color:#ddd;}.help li ul li,.help li ol li{margin-top:5px;margin-left:10px;list-style-type:disc;border-left:none;padding-left:none;padding-top:none;padding-bottom:none;background-color:transparent;}.innerpost{margin-left:10px;padding:5px;overflow:auto;font-size:93%;}.moderator_list{font-size:77%;margin-bottom:5px;margin-top:5px;text-align:right;}.pager_advanced{font-size:77%;margin-bottom:5px;margin-top:5px;}.post{padding-top:5px;vertical-align:top;border-left:1px solid #ddd;}.post_created{text-align:right;font-size:85%;}.post_creator{font-weight:bo!
 ld;font-style:italic;font-size:85%;}.post_edited_alert{font-we!
 ight:bol
d;font-style:italic;}.post_info{font-size:77%;line-height:1.1em;margin-top:10px;margin-bottom:2px;text-align:right;}.post_subject{font-weight:bold;}.quote{background-color:#F9FBFF;border:1px solid #333;font-size:85%;margin:0 0 2px 4px;padding:6px;width:85%;overflow:hidden;}.recently_updated{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.recently_updated td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.reply_post_message{border:1px dashed #666;}.search_match_context{font-size:85%;}.search_results{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.search_results td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.service_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.service_list td{vertical-align:top;border:1px dashed #ddd;bor!
 der:none;line-height:120%;padding-left:10px;padding-right:10px;}.site_terms{width:80%;margin-left:auto;margin-right:auto;margin-bottom:10px;padding:5px;border:1px solid #666;}.thread_add{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_add td{padding-top:4px;padding-bottom:4px;}.thread_add .input_text{width:450px;margin-left:10px;}.thread_add_topic{text-align:right;padding-right:5px;}.thread_add_message{text-align:right;vertical-align:top;padding-right:5px;}.thread_header{font-weight:bold;background:#666;padding:4px;text-align:left;}.thread_header a{color:#ccc;}.thread_info{margin:0;width:100%;border:none;padding:0;margin-bottom:10px;}.thread_info td{border:none;padding:0;}.thread_lastpost{font-size:85%;text-align:right;}.thread_post_row{border-top:1px solid #ddd;border-bottom:1px solid #ddd;}.thread_post_row td{margin-top:10px;margin-bottom:10px;}.thread_posts{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.!
 thread_recent_forum{float:right;font-size:85%;}.thread_recent_!
 forum a{
color:#333;}.thread_reply{font-size:93%;}.thread_reply tr{vertical-align:top;}.thread_reply td{padding-top:10px;padding-left:10px;}.thread_reply textarea{background-color:transparent;border:2px inset black;}.thread_subject a{font-size:93%;color:#79B30B color:#36C;}.thread_watch{margin-top:5px;font-size:77%;text-align:left;}.top_padded{margin-top:10px;}.topic_creator{display:block;font-size:85%;text-align:right;}.user_login form{width:350px;margin-left:auto;margin-right:auto;margin-top:20px;}.user_login p{margin-top:5px;margin-bottom:5px;}.user_permission_list{margin-left:auto;margin-right:auto;margin-top:15px;font-size:93%;width:100%;}.user_permission_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:150%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.user_permission_list img{vertical-align:middle;}.forum_moderator_list div input{height:150%;}.forum_moderator_list img{vertical-align:middle;}.user_post_info{background:#ccc;ba!
 ckground:transparent;font-size:77%;margin-left:auto;margin-right:auto;text-align:center;vertical-align:top;width:110px;}a[href $='.jpg']{padding-left:20px;background:transparent url(/static/images/filetypes/image.png) no-repeat center left;}a[href $='.pdf']{padding-left:20px;background:transparent url(/static/images/filetypes/pdf.png) no-repeat center left;}#loader_wait.yui-overlay{position:fixed;float:right;top:10px;right:10px;border:none;text-align:right;}#preview_overlay{border:1px dashed #ccc;text-align:left;padding:0;}#thread_message{font-family:monospace;text-align:left;padding:0;background-color:#eee;font-size:93%;width:450px;}#validation_errors{display:block;font-size:83%;border:1px dashed #89d;margin-top:10px;margin-bottom:10px;margin-left:25px;margin-right:25px;padding:3px;}#ysearch{text-align:center;}#ysearchinput{position:static;width:20em;}#ysearchcontainer{text-align:left;width:20em;}.forumcode_code{font-family:monospace;border:1px solid #333;font-size:85%;mar!
 gin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;co!
 lor:#ff0
;background-color:#333;border:1px solid #666;white-space:pre;}.forumcode_pre{background-color:transparent;font-family:monospace;border:1px dashed #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;white-space:pre;}.forumcode_quote{background-color:#eee;font-family:monospace;font-style:italic;border:1px dotted #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;}.forumcode_quoting{font-weight:bold;margin-bottom:3px;}.yuimenuitem .disabled{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-navset .yui-nav,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav{border:solid #333;border-width:0 0 5px;Xposition:relative;zoom:1;}.yui-skin-sam .yui-navset .yui-content{background:transparent;}.yui-skin-sam .yui-navset .yui-nav a,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav a{background-image:none;background-color:#999;border:solid #a3a3a3;border-width:0 1px;color:#fff;text-decoration:none;}.yui-skin-sam .yui-navset .yui-nav!
  .selected a,.yui-skin-sam .yui-navset .yui-nav .selected a:focus,.yui-skin-sam .yui-navset .yui-nav .selected a:hover{background:#333;color:#fff;}.yui-skin-sam .yui-navset .yui-nav a:hover,.yui-skin-sam .yui-navset .yui-nav a:focus{background:#666;color:#fff;outline:0;}
\ No newline at end of file
+body{background-color:#fff;font-family:Verdana,Arial,Helvetica,sans-serif;}#hd{height:80px;line-height:80px;margin:0;padding-left:10px;background:#EEE url('/static/images/parley_logo.jpg') no-repeat left;color:#79B30B color:#36C;}#hd h1{font-size:200%;text-align:left;}div#ft{background:#666;color:#FFF;font-size:77%;margin-top:20px;}div#ft p{border:none;margin-top:30px;padding:5px 10px 5px 10px;text-align:right;display:block;}div#ft a{color:#ccc;}div#Xuser_information{line-height:1em;font-size:85%;color:#000;background-color:transparent;position:absolute;top:0;right:10px;height:70px;width:200px;padding-top:3px;text-align:center;}div#user_information{background-color:transparent;color:#000;font-size:85%;height:70px;line-height:1em;margin-left:760px;padding-top:3px;right:8px;text-align:center;top:0;width:200px;}div#user_information .user_info_actions{margin-top:3px;}.caretfix{overflow:auto;}#bd h1{font-weight:bold;background:#666;padding:4px;text-align:left;margin-top:5px;marg!
 in-bottom:5px;}#bd h2{font-weight:bold;background:#999;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h3{font-weight:bold;background:#eee;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;color:#79B30B color:#36C;}a.nav:hover{background:#000;color:#fff;}a,a:link,a:visited,a:active{background:transparent;color:blue;text-decoration:none;}ol>li,ul>li{margin-left:8px;list-style-position:inside;}ol>li{list-style-type:decimal;}ul>li{list-style-type:disc;}th{font-size:100%;text-align:left;font-weight:bold;}#login_dialog form{margin:0;padding:0;min-width:400px;max-width:600px;}#login_dialog form fieldset{/ * clear:both;note that this clear causes inputs to break to left in ie5.x mac,commented out */ padding:10px;margin:0;border:none;}#login_dialog form label{display:block;float:left;width:150px;padding:0;margin:5px 0 0;text-align:right;font-weight:bold;margin-bottom:0;}#login_dialog form input,form textarea{width:auto;margin:5px 0 0 10px;}#login_dialog!
  form p{font-size:85%;}.row{border-top:1px dotted #666;border-!
 bottom:1
px dotted #666;}.row_odd{background:#eee;}.row_even{background:#ddd;}.add_this{text-align:right;}.admin_edited_post{color:#000;background:#ccc;padding:2px;padding-left:10px;padding-right:10px;border:1px dashed #000;margin-left:15px;font-size:93%;text-align:right;}.align_right{text-align:right;}.error_messages{margin-top:5px;display:block;line-height:1.7em;padding:5px;background-color:#930;color:#fff;text-transform:none;font-family:Arial,Avenir,"Lucida Grande",Verdana,"Bitstream Vera Sans",Helvetica,sans-serif;font-weight:bold;voice-family:"\"}\"";voice-family:inherit;font-size:1.0em;border:none;}.forum_description{font-size:93%;}.forum_lastpost{font-size:85%;text-align:right;}.forum_lastpost_subject a{color:#79B30B color:#36C;}.forum_link{font-size:100%;font-weight:bold;}.forum_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:!
 10px;}.forum_mini_pager{font-size:85%;}.forum_mini_pager a{color:#666;}.forum_name{font-size:100%;text-align:left;font-weight:bold;margin-top:5px;}.forum_name a{color:#79B30B color:#36C;}.forum_postcount{font-size:85%;text-align:right;margin-top:5px;}.forum_view{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_view td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.help li{margin-top:25px;margin-right:25px;list-style-type:none;border-left:2px solid #666;padding-top:5px;padding-bottom:5px;padding-left:10px;background-color:#ddd;}.help li ul li,.help li ol li{margin-top:5px;margin-left:10px;list-style-type:disc;border-left:none;padding-left:none;padding-top:none;padding-bottom:none;background-color:transparent;}.innerpost{margin-left:10px;padding:5px;overflow:auto;font-size:93%;}.moderator_list{font-size:77%;margin-bottom:5px;margin-top:5px;text-align:right;}.pager_advanced{font-s!
 ize:77%;margin-bottom:5px;margin-top:5px;}.post{padding-top:5p!
 x;vertic
al-align:top;border-left:1px solid #ddd;}.post_created{text-align:right;font-size:85%;}.post_creator{font-weight:bold;font-style:italic;font-size:85%;}.post_edited_alert{font-weight:bold;font-style:italic;}.post_info{font-size:77%;line-height:1.1em;margin-top:10px;margin-bottom:2px;text-align:right;}.post_subject{font-weight:bold;}.quote{background-color:#F9FBFF;border:1px solid #333;font-size:85%;margin:0 0 2px 4px;padding:6px;width:85%;overflow:hidden;}.recently_updated{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.recently_updated td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.reply_post_message{border:1px dashed #666;}.search_match_context{font-size:85%;}.search_results{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.search_results td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;padd!
 ing-top:5px;padding-bottom:5px;}.service_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.service_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.site_terms{width:80%;margin-left:auto;margin-right:auto;margin-bottom:10px;padding:5px;border:1px solid #666;}.thread_add{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_add td{padding-top:4px;padding-bottom:4px;}.thread_add .input_text{width:450px;margin-left:10px;}.thread_add_topic{text-align:right;padding-right:5px;}.thread_add_message{text-align:right;vertical-align:top;padding-right:5px;}.thread_header{font-weight:bold;background:#666;padding:4px;text-align:left;}.thread_header a{color:#ccc;}.thread_info{margin:0;width:100%;border:none;padding:0;margin-bottom:10px;}.thread_info td{border:none;padding:0;}.thread_lastpost{font-size:85%;text-align:right;}.thread_post_row{border-top:1px soli!
 d #ddd;border-bottom:1px solid #ddd;}.thread_post_row td{margi!
 n-top:10
px;margin-bottom:10px;}.thread_posts{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_recent_forum{float:right;font-size:85%;}.thread_recent_forum a{color:#333;}.thread_reply{font-size:93%;}.thread_reply tr{vertical-align:top;}.thread_reply td{padding-top:10px;padding-left:10px;}.thread_reply textarea{background-color:transparent;border:2px inset black;}.thread_subject a{font-size:93%;color:#79B30B color:#36C;}.thread_watch{margin-top:5px;font-size:77%;text-align:left;}.top_padded{margin-top:10px;}.topic_creator{display:block;font-size:85%;text-align:right;}.user_login form{width:350px;margin-left:auto;margin-right:auto;margin-top:20px;}.user_login p{margin-top:5px;margin-bottom:5px;}.user_permission_list{margin-left:auto;margin-right:auto;margin-top:15px;font-size:93%;width:100%;}.user_permission_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:150%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bott!
 om:5px;}.user_permission_list img{vertical-align:middle;}.forum_moderator_list div input{height:150%;}.forum_moderator_list img{vertical-align:middle;}.user_post_info{background:#ccc;background:transparent;font-size:77%;margin-left:auto;margin-right:auto;text-align:center;vertical-align:top;width:110px;}a[href $='.jpg']{padding-left:20px;background:transparent url(/static/images/filetypes/image.png) no-repeat center left;}a[href $='.pdf']{padding-left:20px;background:transparent url(/static/images/filetypes/pdf.png) no-repeat center left;}#loader_wait.yui-overlay{position:fixed;float:right;top:10px;right:10px;border:none;text-align:right;}#preview_overlay{border:1px dashed #ccc;text-align:left;padding:0;}#thread_message{font-family:monospace;text-align:left;padding:0;background-color:#eee;font-size:93%;width:450px;}#validation_errors{display:block;font-size:83%;border:1px dashed #89d;margin-top:10px;margin-bottom:10px;margin-left:25px;margin-right:25px;padding:3px;}#ysearch!
 {text-align:center;}#ysearchinput{position:static;width:20em;}!
 #ysearch
container{text-align:left;width:20em;}.forumcode_code{font-family:monospace;border:1px solid #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;color:#ff0;background-color:#333;border:1px solid #666;white-space:pre;}.forumcode_pre{background-color:transparent;font-family:monospace;border:1px dashed #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;white-space:pre;}.forumcode_quote{background-color:#eee;font-family:monospace;font-style:italic;border:1px dotted #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;}.forumcode_quoting{font-weight:bold;margin-bottom:3px;}.yuimenuitem .disabled{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-navset .yui-nav,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav{border:solid #333;border-width:0 0 5px;Xposition:relative;zoom:1;}.yui-skin-sam .yui-navset .yui-content{background:transparent;}.yui-skin-sam .yui-navset .yui-nav a,.yui-skin-sam .yui-!
 navset .yui-navset-top .yui-nav a{background-image:none;background-color:#999;border:solid #a3a3a3;border-width:0 1px;color:#fff;text-decoration:none;}.yui-skin-sam .yui-navset .yui-nav .selected a,.yui-skin-sam .yui-navset .yui-nav .selected a:focus,.yui-skin-sam .yui-navset .yui-nav .selected a:hover{background:#333;color:#fff;}.yui-skin-sam .yui-navset .yui-nav a:hover,.yui-skin-sam .yui-navset .yui-nav a:focus{background:#666;color:#fff;outline:0;}
\ No newline at end of file

Modified: branches/parley-1.1/root/static/css/parley.css
===================================================================
--- branches/parley-1.1/root/static/css/parley.css	2008-12-29 00:22:48 UTC (rev 1023)
+++ branches/parley-1.1/root/static/css/parley.css	2008-12-29 00:32:16 UTC (rev 1024)
@@ -24,7 +24,7 @@
 div#ft p {border:none;margin-top:30px;padding:5px 10px 5px 10px; text-align:right;display:block;}
 div#ft a {color: #ccc;}
 
-div#user_information {
+div#Xuser_information {
     line-height:        1em;
     font-size:          85%;
     color:              #000;
@@ -37,6 +37,19 @@
     padding-top:        3px;
     text-align:         center;
 }
+div#user_information {
+    background-color:   transparent;
+    color:              #000000;
+    font-size:          85%;
+    height:             70px;
+    line-height:        1em;
+    margin-left:        760px;
+    padding-top:        3px;
+    right:              8px;
+    text-align:         center;
+    top:                0px;
+    width:              200px;
+}
 
 div#user_information .user_info_actions {
     margin-top:         3px;



From chiselwright at mail.berlios.de  Tue Dec 30 03:23:15 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 30 Dec 2008 03:23:15 +0100
Subject: [Parley-svn] r1025 - / trunk trunk/root trunk/root/skin2
	trunk/root/static trunk/root/static/yui trunk/t.output
Message-ID: <200812300223.mBU2NFFw022471@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-30 03:23:07 +0100 (Tue, 30 Dec 2008)
New Revision: 1025

Added:
   trunk/root/skin2/
   trunk/root/static/yui/
   trunk/root/static/yui/animation/
   trunk/root/static/yui/assets/
   trunk/root/static/yui/autocomplete/
   trunk/root/static/yui/base/
   trunk/root/static/yui/button/
   trunk/root/static/yui/calendar/
   trunk/root/static/yui/carousel/
   trunk/root/static/yui/charts/
   trunk/root/static/yui/colorpicker/
   trunk/root/static/yui/connection/
   trunk/root/static/yui/container/
   trunk/root/static/yui/cookie/
   trunk/root/static/yui/datasource/
   trunk/root/static/yui/datatable/
   trunk/root/static/yui/dom/
   trunk/root/static/yui/dragdrop/
   trunk/root/static/yui/editor/
   trunk/root/static/yui/element/
   trunk/root/static/yui/event/
   trunk/root/static/yui/fonts/
   trunk/root/static/yui/get/
   trunk/root/static/yui/grids/
   trunk/root/static/yui/history/
   trunk/root/static/yui/imagecropper/
   trunk/root/static/yui/imageloader/
   trunk/root/static/yui/json/
   trunk/root/static/yui/layout/
   trunk/root/static/yui/logger/
   trunk/root/static/yui/menu/
   trunk/root/static/yui/paginator/
   trunk/root/static/yui/profiler/
   trunk/root/static/yui/profilerviewer/
   trunk/root/static/yui/reset-fonts-grids/
   trunk/root/static/yui/reset-fonts/
   trunk/root/static/yui/reset/
   trunk/root/static/yui/resize/
   trunk/root/static/yui/selector/
   trunk/root/static/yui/slider/
   trunk/root/static/yui/tabview/
   trunk/root/static/yui/treeview/
   trunk/root/static/yui/uploader/
   trunk/root/static/yui/utilities/
   trunk/root/static/yui/yahoo-dom-event/
   trunk/root/static/yui/yahoo/
   trunk/root/static/yui/yuiloader-dom-event/
   trunk/root/static/yui/yuiloader/
   trunk/root/static/yui/yuitest/
   trunk/t.output/1.0.4
Removed:
   trunk/root/skin2/
   trunk/root/static/yui
   trunk/root/static/yui_2.6.0/
Modified:
   /
   trunk/
   trunk/Changes
   trunk/MANIFEST
   trunk/Makefile.PL
   trunk/root/skin2/footer
Log:
 r8881 at wiggin:  chisel | 2008-12-30 02:19:03 +0000
 Merging 1.0.4 changes back into trunk



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8879
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8881
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222


Property changes on: trunk
___________________________________________________________________
Name: svk:merge
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/branches/schema_based:562
6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/tags/parley-1.0.3:8686
6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/tags/parley-1.0.4:8698
f74ee645-c3e3-0310-be06-c791151d01b6:/branches/schema_based:258

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-12-29 00:32:16 UTC (rev 1024)
+++ trunk/Changes	2008-12-30 02:23:07 UTC (rev 1025)
@@ -1,5 +1,10 @@
 This file documents the revision history for Parley.
 
+1.0.4   Wed Dec 24 18:54:24 GMT 2008
+    - fixed skin2
+    - remove yui/ softlink
+    - made yui_2.6.0/ into yui/
+
 1.0.3   Tue Dec 23 09:34:32 GMT 2008
     - switch to database store for sessions
     - upgrade to YUI 2.6.0

Modified: trunk/MANIFEST
===================================================================
--- trunk/MANIFEST	2008-12-29 00:32:16 UTC (rev 1024)
+++ trunk/MANIFEST	2008-12-30 02:23:07 UTC (rev 1025)
@@ -39,7 +39,6 @@
 inc/Module/Install/Metadata.pm
 inc/Module/Install/Win32.pm
 inc/Module/Install/WriteAll.pm
-lib/Catalyst/Plugin/Dumper.pm
 lib/Parley.pm
 lib/Parley/App/Communication/Email.pm
 lib/Parley/App/DateTime.pm
@@ -120,7 +119,6 @@
 root/base/help/i_default/contents
 root/base/help/i_default/faq
 root/base/help/i_default/formatting_posts
-root/base/help/i_default/wide
 root/base/help/unknown
 root/base/menu/left/main
 root/base/menu/menubar
@@ -163,7 +161,6 @@
 root/base/thread/add
 root/base/thread/recent
 root/base/thread/reply
-root/base/thread/reply-yuirte
 root/base/thread/view
 root/base/thread/watches
 root/base/user/access_ip_banned
@@ -205,7 +202,6 @@
 root/skin2/help/i_default/contents
 root/skin2/help/i_default/faq
 root/skin2/help/i_default/formatting_posts
-root/skin2/help/i_default/wide
 root/skin2/help/unknown
 root/skin2/menu/left/main
 root/skin2/menu/menubar
@@ -214,6 +210,7 @@
 root/skin2/my/selectplace_ajaxresult
 root/skin2/my/tab_avatar
 root/skin2/my/tab_notifications
+root/skin2/my/tab_skin
 root/skin2/my/tab_time
 root/skin2/my/tab_watch
 root/skin2/my/tab_you
@@ -247,7 +244,6 @@
 root/skin2/thread/add
 root/skin2/thread/recent
 root/skin2/thread/reply
-root/skin2/thread/reply-yuirte
 root/skin2/thread/view
 root/skin2/thread/watches
 root/skin2/user/access_ip_banned
@@ -554,383 +550,383 @@
 root/static/script/prototype.js
 root/static/script/user_forum_moderate.js
 root/static/script/user_suspend.js
-root/static/yui_2.6.0/animation/animation-debug.js
-root/static/yui_2.6.0/animation/animation-min.js
-root/static/yui_2.6.0/animation/animation.js
-root/static/yui_2.6.0/animation/README
-root/static/yui_2.6.0/assets/skins/sam/asc.gif
-root/static/yui_2.6.0/assets/skins/sam/autocomplete.css
-root/static/yui_2.6.0/assets/skins/sam/blankimage.png
-root/static/yui_2.6.0/assets/skins/sam/button.css
-root/static/yui_2.6.0/assets/skins/sam/calendar.css
-root/static/yui_2.6.0/assets/skins/sam/carousel.css
-root/static/yui_2.6.0/assets/skins/sam/colorpicker.css
-root/static/yui_2.6.0/assets/skins/sam/container.css
-root/static/yui_2.6.0/assets/skins/sam/datatable.css
-root/static/yui_2.6.0/assets/skins/sam/desc.gif
-root/static/yui_2.6.0/assets/skins/sam/dt-arrow-dn.png
-root/static/yui_2.6.0/assets/skins/sam/dt-arrow-up.png
-root/static/yui_2.6.0/assets/skins/sam/editor-knob.gif
-root/static/yui_2.6.0/assets/skins/sam/editor-sprite-active.gif
-root/static/yui_2.6.0/assets/skins/sam/editor-sprite.gif
-root/static/yui_2.6.0/assets/skins/sam/editor.css
-root/static/yui_2.6.0/assets/skins/sam/header_background.png
-root/static/yui_2.6.0/assets/skins/sam/hue_bg.png
-root/static/yui_2.6.0/assets/skins/sam/imagecropper.css
-root/static/yui_2.6.0/assets/skins/sam/layout.css
-root/static/yui_2.6.0/assets/skins/sam/layout_sprite.png
-root/static/yui_2.6.0/assets/skins/sam/loading.gif
-root/static/yui_2.6.0/assets/skins/sam/logger.css
-root/static/yui_2.6.0/assets/skins/sam/menu-button-arrow-disabled.png
-root/static/yui_2.6.0/assets/skins/sam/menu-button-arrow.png
-root/static/yui_2.6.0/assets/skins/sam/menu.css
-root/static/yui_2.6.0/assets/skins/sam/menubaritem_submenuindicator.png
-root/static/yui_2.6.0/assets/skins/sam/menubaritem_submenuindicator_disabled.png
-root/static/yui_2.6.0/assets/skins/sam/menuitem_checkbox.png
-root/static/yui_2.6.0/assets/skins/sam/menuitem_checkbox_disabled.png
-root/static/yui_2.6.0/assets/skins/sam/menuitem_submenuindicator.png
-root/static/yui_2.6.0/assets/skins/sam/menuitem_submenuindicator_disabled.png
-root/static/yui_2.6.0/assets/skins/sam/paginator.css
-root/static/yui_2.6.0/assets/skins/sam/picker_mask.png
-root/static/yui_2.6.0/assets/skins/sam/profilerviewer.css
-root/static/yui_2.6.0/assets/skins/sam/resize.css
-root/static/yui_2.6.0/assets/skins/sam/simpleeditor.css
-root/static/yui_2.6.0/assets/skins/sam/skin.css
-root/static/yui_2.6.0/assets/skins/sam/slider.css
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow-active.png
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow-disabled.png
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow-focus.png
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow-hover.png
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow.png
-root/static/yui_2.6.0/assets/skins/sam/sprite.png
-root/static/yui_2.6.0/assets/skins/sam/sprite.psd
-root/static/yui_2.6.0/assets/skins/sam/tabview.css
-root/static/yui_2.6.0/assets/skins/sam/treeview-loading.gif
-root/static/yui_2.6.0/assets/skins/sam/treeview-sprite.gif
-root/static/yui_2.6.0/assets/skins/sam/treeview.css
-root/static/yui_2.6.0/assets/skins/sam/wait.gif
-root/static/yui_2.6.0/assets/skins/sam/yuitest.css
-root/static/yui_2.6.0/autocomplete/assets/autocomplete-core.css
-root/static/yui_2.6.0/autocomplete/assets/skins/sam/autocomplete-skin.css
-root/static/yui_2.6.0/autocomplete/assets/skins/sam/autocomplete.css
-root/static/yui_2.6.0/autocomplete/autocomplete-debug.js
-root/static/yui_2.6.0/autocomplete/autocomplete-min.js
-root/static/yui_2.6.0/autocomplete/autocomplete.js
-root/static/yui_2.6.0/autocomplete/README
-root/static/yui_2.6.0/base/base-min.css
-root/static/yui_2.6.0/base/base.css
-root/static/yui_2.6.0/base/README
-root/static/yui_2.6.0/button/assets/button-core.css
-root/static/yui_2.6.0/button/assets/skins/sam/button-skin.css
-root/static/yui_2.6.0/button/assets/skins/sam/button.css
-root/static/yui_2.6.0/button/assets/skins/sam/menu-button-arrow-disabled.png
-root/static/yui_2.6.0/button/assets/skins/sam/menu-button-arrow.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow-active.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow-disabled.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow-focus.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow-hover.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow.png
-root/static/yui_2.6.0/button/button-debug.js
-root/static/yui_2.6.0/button/button-min.js
-root/static/yui_2.6.0/button/button.js
-root/static/yui_2.6.0/button/README
-root/static/yui_2.6.0/calendar/assets/calendar-core.css
-root/static/yui_2.6.0/calendar/assets/calendar.css
-root/static/yui_2.6.0/calendar/assets/calgrad.png
-root/static/yui_2.6.0/calendar/assets/callt.gif
-root/static/yui_2.6.0/calendar/assets/calrt.gif
-root/static/yui_2.6.0/calendar/assets/calx.gif
-root/static/yui_2.6.0/calendar/assets/skins/sam/calendar-skin.css
-root/static/yui_2.6.0/calendar/assets/skins/sam/calendar.css
-root/static/yui_2.6.0/calendar/calendar-debug.js
-root/static/yui_2.6.0/calendar/calendar-min.js
-root/static/yui_2.6.0/calendar/calendar.js
-root/static/yui_2.6.0/calendar/README
-root/static/yui_2.6.0/carousel/assets/ajax-loader.gif
-root/static/yui_2.6.0/carousel/assets/carousel-core.css
-root/static/yui_2.6.0/carousel/assets/skins/sam/carousel-skin.css
-root/static/yui_2.6.0/carousel/assets/skins/sam/carousel.css
-root/static/yui_2.6.0/carousel/carousel-beta-debug.js
-root/static/yui_2.6.0/carousel/carousel-beta-min.js
-root/static/yui_2.6.0/carousel/carousel-beta.js
-root/static/yui_2.6.0/carousel/README
-root/static/yui_2.6.0/charts/assets/charts.swf
-root/static/yui_2.6.0/charts/charts-experimental-debug.js
-root/static/yui_2.6.0/charts/charts-experimental-min.js
-root/static/yui_2.6.0/charts/charts-experimental.js
-root/static/yui_2.6.0/charts/README
-root/static/yui_2.6.0/colorpicker/assets/colorpicker-core.css
-root/static/yui_2.6.0/colorpicker/assets/hue_thumb.png
-root/static/yui_2.6.0/colorpicker/assets/picker_mask.png
-root/static/yui_2.6.0/colorpicker/assets/picker_thumb.png
-root/static/yui_2.6.0/colorpicker/assets/skins/sam/colorpicker-skin.css
-root/static/yui_2.6.0/colorpicker/assets/skins/sam/colorpicker.css
-root/static/yui_2.6.0/colorpicker/assets/skins/sam/hue_bg.png
-root/static/yui_2.6.0/colorpicker/assets/skins/sam/picker_mask.png
-root/static/yui_2.6.0/colorpicker/colorpicker-debug.js
-root/static/yui_2.6.0/colorpicker/colorpicker-min.js
-root/static/yui_2.6.0/colorpicker/colorpicker.js
-root/static/yui_2.6.0/colorpicker/README
-root/static/yui_2.6.0/connection/connection-debug.js
-root/static/yui_2.6.0/connection/connection-min.js
-root/static/yui_2.6.0/connection/connection.js
-root/static/yui_2.6.0/connection/README
-root/static/yui_2.6.0/container/assets/alrt16_1.gif
-root/static/yui_2.6.0/container/assets/blck16_1.gif
-root/static/yui_2.6.0/container/assets/close12_1.gif
-root/static/yui_2.6.0/container/assets/container-core.css
-root/static/yui_2.6.0/container/assets/container.css
-root/static/yui_2.6.0/container/assets/hlp16_1.gif
-root/static/yui_2.6.0/container/assets/info16_1.gif
-root/static/yui_2.6.0/container/assets/skins/sam/container-skin.css
-root/static/yui_2.6.0/container/assets/skins/sam/container.css
-root/static/yui_2.6.0/container/assets/tip16_1.gif
-root/static/yui_2.6.0/container/assets/warn16_1.gif
-root/static/yui_2.6.0/container/container-debug.js
-root/static/yui_2.6.0/container/container-min.js
-root/static/yui_2.6.0/container/container.js
-root/static/yui_2.6.0/container/container_core-debug.js
-root/static/yui_2.6.0/container/container_core-min.js
-root/static/yui_2.6.0/container/container_core.js
-root/static/yui_2.6.0/container/README
-root/static/yui_2.6.0/cookie/cookie-debug.js
-root/static/yui_2.6.0/cookie/cookie-min.js
-root/static/yui_2.6.0/cookie/cookie.js
-root/static/yui_2.6.0/cookie/README
-root/static/yui_2.6.0/datasource/datasource-debug.js
-root/static/yui_2.6.0/datasource/datasource-min.js
-root/static/yui_2.6.0/datasource/datasource.js
-root/static/yui_2.6.0/datasource/README
-root/static/yui_2.6.0/datatable/assets/datatable-core.css
-root/static/yui_2.6.0/datatable/assets/datatable.css
-root/static/yui_2.6.0/datatable/assets/skins/sam/datatable-skin.css
-root/static/yui_2.6.0/datatable/assets/skins/sam/datatable.css
-root/static/yui_2.6.0/datatable/assets/skins/sam/dt-arrow-dn.png
-root/static/yui_2.6.0/datatable/assets/skins/sam/dt-arrow-up.png
-root/static/yui_2.6.0/datatable/datatable-debug.js
-root/static/yui_2.6.0/datatable/datatable-min.js
-root/static/yui_2.6.0/datatable/datatable.js
-root/static/yui_2.6.0/datatable/README
-root/static/yui_2.6.0/dom/dom-debug.js
-root/static/yui_2.6.0/dom/dom-min.js
-root/static/yui_2.6.0/dom/dom.js
-root/static/yui_2.6.0/dom/README
-root/static/yui_2.6.0/dragdrop/dragdrop-debug.js
-root/static/yui_2.6.0/dragdrop/dragdrop-min.js
-root/static/yui_2.6.0/dragdrop/dragdrop.js
-root/static/yui_2.6.0/dragdrop/README
-root/static/yui_2.6.0/editor/assets/editor-core.css
-root/static/yui_2.6.0/editor/assets/simpleeditor-core.css
-root/static/yui_2.6.0/editor/assets/skins/sam/blankimage.png
-root/static/yui_2.6.0/editor/assets/skins/sam/editor-knob.gif
-root/static/yui_2.6.0/editor/assets/skins/sam/editor-skin.css
-root/static/yui_2.6.0/editor/assets/skins/sam/editor-sprite-active.gif
-root/static/yui_2.6.0/editor/assets/skins/sam/editor-sprite.gif
-root/static/yui_2.6.0/editor/assets/skins/sam/editor.css
-root/static/yui_2.6.0/editor/assets/skins/sam/simpleeditor-skin.css
-root/static/yui_2.6.0/editor/assets/skins/sam/simpleeditor.css
-root/static/yui_2.6.0/editor/editor-debug.js
-root/static/yui_2.6.0/editor/editor-min.js
-root/static/yui_2.6.0/editor/editor.js
-root/static/yui_2.6.0/editor/README
-root/static/yui_2.6.0/editor/simpleeditor-debug.js
-root/static/yui_2.6.0/editor/simpleeditor-min.js
-root/static/yui_2.6.0/editor/simpleeditor.js
-root/static/yui_2.6.0/element/element-beta-debug.js
-root/static/yui_2.6.0/element/element-beta-min.js
-root/static/yui_2.6.0/element/element-beta.js
-root/static/yui_2.6.0/element/README
-root/static/yui_2.6.0/event/event-debug.js
-root/static/yui_2.6.0/event/event-min.js
-root/static/yui_2.6.0/event/event.js
-root/static/yui_2.6.0/event/README
-root/static/yui_2.6.0/fonts/fonts-min.css
-root/static/yui_2.6.0/fonts/fonts.css
-root/static/yui_2.6.0/fonts/README
-root/static/yui_2.6.0/get/get-debug.js
-root/static/yui_2.6.0/get/get-min.js
-root/static/yui_2.6.0/get/get.js
-root/static/yui_2.6.0/get/README
-root/static/yui_2.6.0/grids/grids-min.css
-root/static/yui_2.6.0/grids/grids.css
-root/static/yui_2.6.0/grids/README
-root/static/yui_2.6.0/history/assets/blank.html
-root/static/yui_2.6.0/history/history-debug.js
-root/static/yui_2.6.0/history/history-min.js
-root/static/yui_2.6.0/history/history.js
-root/static/yui_2.6.0/history/README
-root/static/yui_2.6.0/imagecropper/assets/imagecropper-core.css
-root/static/yui_2.6.0/imagecropper/assets/skins/sam/imagecropper-skin.css
-root/static/yui_2.6.0/imagecropper/assets/skins/sam/imagecropper.css
-root/static/yui_2.6.0/imagecropper/imagecropper-beta-debug.js
-root/static/yui_2.6.0/imagecropper/imagecropper-beta-min.js
-root/static/yui_2.6.0/imagecropper/imagecropper-beta.js
-root/static/yui_2.6.0/imagecropper/README
-root/static/yui_2.6.0/imageloader/imageloader-debug.js
-root/static/yui_2.6.0/imageloader/imageloader-min.js
-root/static/yui_2.6.0/imageloader/imageloader.js
-root/static/yui_2.6.0/imageloader/README
-root/static/yui_2.6.0/json/json-debug.js
-root/static/yui_2.6.0/json/json-min.js
-root/static/yui_2.6.0/json/json.js
-root/static/yui_2.6.0/json/README
-root/static/yui_2.6.0/layout/assets/layout-core.css
-root/static/yui_2.6.0/layout/assets/skins/sam/layout-skin.css
-root/static/yui_2.6.0/layout/assets/skins/sam/layout.css
-root/static/yui_2.6.0/layout/assets/skins/sam/layout_sprite.png
-root/static/yui_2.6.0/layout/layout-debug.js
-root/static/yui_2.6.0/layout/layout-min.js
-root/static/yui_2.6.0/layout/layout.js
-root/static/yui_2.6.0/layout/README
-root/static/yui_2.6.0/logger/assets/logger-core.css
-root/static/yui_2.6.0/logger/assets/logger.css
-root/static/yui_2.6.0/logger/assets/skins/sam/logger-skin.css
-root/static/yui_2.6.0/logger/assets/skins/sam/logger.css
-root/static/yui_2.6.0/logger/logger-debug.js
-root/static/yui_2.6.0/logger/logger-min.js
-root/static/yui_2.6.0/logger/logger.js
-root/static/yui_2.6.0/logger/README
-root/static/yui_2.6.0/menu/assets/menu-core.css
-root/static/yui_2.6.0/menu/assets/menu.css
-root/static/yui_2.6.0/menu/assets/menu_down_arrow.png
-root/static/yui_2.6.0/menu/assets/menu_down_arrow_disabled.png
-root/static/yui_2.6.0/menu/assets/menu_up_arrow.png
-root/static/yui_2.6.0/menu/assets/menu_up_arrow_disabled.png
-root/static/yui_2.6.0/menu/assets/menubaritem_submenuindicator.png
-root/static/yui_2.6.0/menu/assets/menubaritem_submenuindicator_disabled.png
-root/static/yui_2.6.0/menu/assets/menubaritem_submenuindicator_selected.png
-root/static/yui_2.6.0/menu/assets/menuitem_checkbox.png
-root/static/yui_2.6.0/menu/assets/menuitem_checkbox_disabled.png
-root/static/yui_2.6.0/menu/assets/menuitem_checkbox_selected.png
-root/static/yui_2.6.0/menu/assets/menuitem_submenuindicator.png
-root/static/yui_2.6.0/menu/assets/menuitem_submenuindicator_disabled.png
-root/static/yui_2.6.0/menu/assets/menuitem_submenuindicator_selected.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menu-skin.css
-root/static/yui_2.6.0/menu/assets/skins/sam/menu.css
-root/static/yui_2.6.0/menu/assets/skins/sam/menubaritem_submenuindicator.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menubaritem_submenuindicator_disabled.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menuitem_checkbox.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menuitem_checkbox_disabled.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menuitem_submenuindicator.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menuitem_submenuindicator_disabled.png
-root/static/yui_2.6.0/menu/menu-debug.js
-root/static/yui_2.6.0/menu/menu-min.js
-root/static/yui_2.6.0/menu/menu.js
-root/static/yui_2.6.0/menu/README
-root/static/yui_2.6.0/paginator/assets/paginator-core.css
-root/static/yui_2.6.0/paginator/assets/skins/sam/paginator-skin.css
-root/static/yui_2.6.0/paginator/assets/skins/sam/paginator.css
-root/static/yui_2.6.0/paginator/paginator-debug.js
-root/static/yui_2.6.0/paginator/paginator-min.js
-root/static/yui_2.6.0/paginator/paginator.js
-root/static/yui_2.6.0/paginator/README
-root/static/yui_2.6.0/profiler/profiler-debug.js
-root/static/yui_2.6.0/profiler/profiler-min.js
-root/static/yui_2.6.0/profiler/profiler.js
-root/static/yui_2.6.0/profiler/README
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/asc.gif
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/desc.gif
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/header_background.png
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/profilerviewer.css
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/wait.gif
-root/static/yui_2.6.0/profilerviewer/profilerviewer-beta-debug.js
-root/static/yui_2.6.0/profilerviewer/profilerviewer-beta-min.js
-root/static/yui_2.6.0/profilerviewer/profilerviewer-beta.js
-root/static/yui_2.6.0/profilerviewer/README
-root/static/yui_2.6.0/reset-fonts-grids/README
-root/static/yui_2.6.0/reset-fonts-grids/reset-fonts-grids.css
-root/static/yui_2.6.0/reset-fonts/README
-root/static/yui_2.6.0/reset-fonts/reset-fonts.css
-root/static/yui_2.6.0/reset/README
-root/static/yui_2.6.0/reset/reset-min.css
-root/static/yui_2.6.0/reset/reset.css
-root/static/yui_2.6.0/resize/assets/resize-core.css
-root/static/yui_2.6.0/resize/assets/skins/sam/layout_sprite.png
-root/static/yui_2.6.0/resize/assets/skins/sam/resize-skin.css
-root/static/yui_2.6.0/resize/assets/skins/sam/resize.css
-root/static/yui_2.6.0/resize/README
-root/static/yui_2.6.0/resize/resize-debug.js
-root/static/yui_2.6.0/resize/resize-min.js
-root/static/yui_2.6.0/resize/resize.js
-root/static/yui_2.6.0/selector/README
-root/static/yui_2.6.0/selector/selector-beta-debug.js
-root/static/yui_2.6.0/selector/selector-beta-min.js
-root/static/yui_2.6.0/selector/selector-beta.js
-root/static/yui_2.6.0/slider/assets/bg-fader.gif
-root/static/yui_2.6.0/slider/assets/bg-h.gif
-root/static/yui_2.6.0/slider/assets/bg-v-e.gif
-root/static/yui_2.6.0/slider/assets/bg-v.gif
-root/static/yui_2.6.0/slider/assets/left-thumb.png
-root/static/yui_2.6.0/slider/assets/right-thumb.png
-root/static/yui_2.6.0/slider/assets/skins/sam/slider-skin.css
-root/static/yui_2.6.0/slider/assets/skins/sam/slider.css
-root/static/yui_2.6.0/slider/assets/slider-core.css
-root/static/yui_2.6.0/slider/assets/thumb-bar.gif
-root/static/yui_2.6.0/slider/assets/thumb-e.gif
-root/static/yui_2.6.0/slider/assets/thumb-fader.gif
-root/static/yui_2.6.0/slider/assets/thumb-n.gif
-root/static/yui_2.6.0/slider/assets/thumb-s.gif
-root/static/yui_2.6.0/slider/assets/thumb-w.gif
-root/static/yui_2.6.0/slider/README
-root/static/yui_2.6.0/slider/slider-debug.js
-root/static/yui_2.6.0/slider/slider-min.js
-root/static/yui_2.6.0/slider/slider.js
-root/static/yui_2.6.0/tabview/assets/border_tabs.css
-root/static/yui_2.6.0/tabview/assets/loading.gif
-root/static/yui_2.6.0/tabview/assets/skin-sam.css
-root/static/yui_2.6.0/tabview/assets/skins/sam/tabview-skin.css
-root/static/yui_2.6.0/tabview/assets/skins/sam/tabview.css
-root/static/yui_2.6.0/tabview/assets/tabview-core.css
-root/static/yui_2.6.0/tabview/assets/tabview.css
-root/static/yui_2.6.0/tabview/README
-root/static/yui_2.6.0/tabview/tabview-debug.js
-root/static/yui_2.6.0/tabview/tabview-min.js
-root/static/yui_2.6.0/tabview/tabview.js
-root/static/yui_2.6.0/treeview/assets/skins/sam/loading.gif
-root/static/yui_2.6.0/treeview/assets/skins/sam/treeview-loading.gif
-root/static/yui_2.6.0/treeview/assets/skins/sam/treeview-skin.css
-root/static/yui_2.6.0/treeview/assets/skins/sam/treeview-sprite.gif
-root/static/yui_2.6.0/treeview/assets/skins/sam/treeview.css
-root/static/yui_2.6.0/treeview/assets/sprite-menu.gif
-root/static/yui_2.6.0/treeview/assets/sprite-orig.gif
-root/static/yui_2.6.0/treeview/assets/treeview-core.css
-root/static/yui_2.6.0/treeview/assets/treeview-loading.gif
-root/static/yui_2.6.0/treeview/assets/treeview-menu.css
-root/static/yui_2.6.0/treeview/assets/treeview.css
-root/static/yui_2.6.0/treeview/README
-root/static/yui_2.6.0/treeview/treeview-debug.js
-root/static/yui_2.6.0/treeview/treeview-min.js
-root/static/yui_2.6.0/treeview/treeview.js
-root/static/yui_2.6.0/uploader/assets/uploader.swf
-root/static/yui_2.6.0/uploader/README
-root/static/yui_2.6.0/uploader/uploader-experimental-debug.js
-root/static/yui_2.6.0/uploader/uploader-experimental-min.js
-root/static/yui_2.6.0/uploader/uploader-experimental.js
-root/static/yui_2.6.0/utilities/README
-root/static/yui_2.6.0/utilities/utilities.js
-root/static/yui_2.6.0/yahoo-dom-event/README
-root/static/yui_2.6.0/yahoo-dom-event/yahoo-dom-event.js
-root/static/yui_2.6.0/yahoo/README
-root/static/yui_2.6.0/yahoo/yahoo-debug.js
-root/static/yui_2.6.0/yahoo/yahoo-min.js
-root/static/yui_2.6.0/yahoo/yahoo.js
-root/static/yui_2.6.0/yuiloader-dom-event/README
-root/static/yui_2.6.0/yuiloader-dom-event/yuiloader-dom-event.js
-root/static/yui_2.6.0/yuiloader/README
-root/static/yui_2.6.0/yuiloader/yuiloader-debug.js
-root/static/yui_2.6.0/yuiloader/yuiloader-min.js
-root/static/yui_2.6.0/yuiloader/yuiloader.js
-root/static/yui_2.6.0/yuitest/assets/skins/sam/yuitest-skin.css
-root/static/yui_2.6.0/yuitest/assets/skins/sam/yuitest.css
-root/static/yui_2.6.0/yuitest/assets/testlogger.css
-root/static/yui_2.6.0/yuitest/assets/yuitest-core.css
-root/static/yui_2.6.0/yuitest/README
-root/static/yui_2.6.0/yuitest/yuitest-debug.js
-root/static/yui_2.6.0/yuitest/yuitest-min.js
-root/static/yui_2.6.0/yuitest/yuitest.js
-root/static/yui_2.6.0/yuitest/yuitest_core-debug.js
-root/static/yui_2.6.0/yuitest/yuitest_core-min.js
-root/static/yui_2.6.0/yuitest/yuitest_core.js
+root/static/yui/animation/animation-debug.js
+root/static/yui/animation/animation-min.js
+root/static/yui/animation/animation.js
+root/static/yui/animation/README
+root/static/yui/assets/skins/sam/asc.gif
+root/static/yui/assets/skins/sam/autocomplete.css
+root/static/yui/assets/skins/sam/blankimage.png
+root/static/yui/assets/skins/sam/button.css
+root/static/yui/assets/skins/sam/calendar.css
+root/static/yui/assets/skins/sam/carousel.css
+root/static/yui/assets/skins/sam/colorpicker.css
+root/static/yui/assets/skins/sam/container.css
+root/static/yui/assets/skins/sam/datatable.css
+root/static/yui/assets/skins/sam/desc.gif
+root/static/yui/assets/skins/sam/dt-arrow-dn.png
+root/static/yui/assets/skins/sam/dt-arrow-up.png
+root/static/yui/assets/skins/sam/editor-knob.gif
+root/static/yui/assets/skins/sam/editor-sprite-active.gif
+root/static/yui/assets/skins/sam/editor-sprite.gif
+root/static/yui/assets/skins/sam/editor.css
+root/static/yui/assets/skins/sam/header_background.png
+root/static/yui/assets/skins/sam/hue_bg.png
+root/static/yui/assets/skins/sam/imagecropper.css
+root/static/yui/assets/skins/sam/layout.css
+root/static/yui/assets/skins/sam/layout_sprite.png
+root/static/yui/assets/skins/sam/loading.gif
+root/static/yui/assets/skins/sam/logger.css
+root/static/yui/assets/skins/sam/menu-button-arrow-disabled.png
+root/static/yui/assets/skins/sam/menu-button-arrow.png
+root/static/yui/assets/skins/sam/menu.css
+root/static/yui/assets/skins/sam/menubaritem_submenuindicator.png
+root/static/yui/assets/skins/sam/menubaritem_submenuindicator_disabled.png
+root/static/yui/assets/skins/sam/menuitem_checkbox.png
+root/static/yui/assets/skins/sam/menuitem_checkbox_disabled.png
+root/static/yui/assets/skins/sam/menuitem_submenuindicator.png
+root/static/yui/assets/skins/sam/menuitem_submenuindicator_disabled.png
+root/static/yui/assets/skins/sam/paginator.css
+root/static/yui/assets/skins/sam/picker_mask.png
+root/static/yui/assets/skins/sam/profilerviewer.css
+root/static/yui/assets/skins/sam/resize.css
+root/static/yui/assets/skins/sam/simpleeditor.css
+root/static/yui/assets/skins/sam/skin.css
+root/static/yui/assets/skins/sam/slider.css
+root/static/yui/assets/skins/sam/split-button-arrow-active.png
+root/static/yui/assets/skins/sam/split-button-arrow-disabled.png
+root/static/yui/assets/skins/sam/split-button-arrow-focus.png
+root/static/yui/assets/skins/sam/split-button-arrow-hover.png
+root/static/yui/assets/skins/sam/split-button-arrow.png
+root/static/yui/assets/skins/sam/sprite.png
+root/static/yui/assets/skins/sam/sprite.psd
+root/static/yui/assets/skins/sam/tabview.css
+root/static/yui/assets/skins/sam/treeview-loading.gif
+root/static/yui/assets/skins/sam/treeview-sprite.gif
+root/static/yui/assets/skins/sam/treeview.css
+root/static/yui/assets/skins/sam/wait.gif
+root/static/yui/assets/skins/sam/yuitest.css
+root/static/yui/autocomplete/assets/autocomplete-core.css
+root/static/yui/autocomplete/assets/skins/sam/autocomplete-skin.css
+root/static/yui/autocomplete/assets/skins/sam/autocomplete.css
+root/static/yui/autocomplete/autocomplete-debug.js
+root/static/yui/autocomplete/autocomplete-min.js
+root/static/yui/autocomplete/autocomplete.js
+root/static/yui/autocomplete/README
+root/static/yui/base/base-min.css
+root/static/yui/base/base.css
+root/static/yui/base/README
+root/static/yui/button/assets/button-core.css
+root/static/yui/button/assets/skins/sam/button-skin.css
+root/static/yui/button/assets/skins/sam/button.css
+root/static/yui/button/assets/skins/sam/menu-button-arrow-disabled.png
+root/static/yui/button/assets/skins/sam/menu-button-arrow.png
+root/static/yui/button/assets/skins/sam/split-button-arrow-active.png
+root/static/yui/button/assets/skins/sam/split-button-arrow-disabled.png
+root/static/yui/button/assets/skins/sam/split-button-arrow-focus.png
+root/static/yui/button/assets/skins/sam/split-button-arrow-hover.png
+root/static/yui/button/assets/skins/sam/split-button-arrow.png
+root/static/yui/button/button-debug.js
+root/static/yui/button/button-min.js
+root/static/yui/button/button.js
+root/static/yui/button/README
+root/static/yui/calendar/assets/calendar-core.css
+root/static/yui/calendar/assets/calendar.css
+root/static/yui/calendar/assets/calgrad.png
+root/static/yui/calendar/assets/callt.gif
+root/static/yui/calendar/assets/calrt.gif
+root/static/yui/calendar/assets/calx.gif
+root/static/yui/calendar/assets/skins/sam/calendar-skin.css
+root/static/yui/calendar/assets/skins/sam/calendar.css
+root/static/yui/calendar/calendar-debug.js
+root/static/yui/calendar/calendar-min.js
+root/static/yui/calendar/calendar.js
+root/static/yui/calendar/README
+root/static/yui/carousel/assets/ajax-loader.gif
+root/static/yui/carousel/assets/carousel-core.css
+root/static/yui/carousel/assets/skins/sam/carousel-skin.css
+root/static/yui/carousel/assets/skins/sam/carousel.css
+root/static/yui/carousel/carousel-beta-debug.js
+root/static/yui/carousel/carousel-beta-min.js
+root/static/yui/carousel/carousel-beta.js
+root/static/yui/carousel/README
+root/static/yui/charts/assets/charts.swf
+root/static/yui/charts/charts-experimental-debug.js
+root/static/yui/charts/charts-experimental-min.js
+root/static/yui/charts/charts-experimental.js
+root/static/yui/charts/README
+root/static/yui/colorpicker/assets/colorpicker-core.css
+root/static/yui/colorpicker/assets/hue_thumb.png
+root/static/yui/colorpicker/assets/picker_mask.png
+root/static/yui/colorpicker/assets/picker_thumb.png
+root/static/yui/colorpicker/assets/skins/sam/colorpicker-skin.css
+root/static/yui/colorpicker/assets/skins/sam/colorpicker.css
+root/static/yui/colorpicker/assets/skins/sam/hue_bg.png
+root/static/yui/colorpicker/assets/skins/sam/picker_mask.png
+root/static/yui/colorpicker/colorpicker-debug.js
+root/static/yui/colorpicker/colorpicker-min.js
+root/static/yui/colorpicker/colorpicker.js
+root/static/yui/colorpicker/README
+root/static/yui/connection/connection-debug.js
+root/static/yui/connection/connection-min.js
+root/static/yui/connection/connection.js
+root/static/yui/connection/README
+root/static/yui/container/assets/alrt16_1.gif
+root/static/yui/container/assets/blck16_1.gif
+root/static/yui/container/assets/close12_1.gif
+root/static/yui/container/assets/container-core.css
+root/static/yui/container/assets/container.css
+root/static/yui/container/assets/hlp16_1.gif
+root/static/yui/container/assets/info16_1.gif
+root/static/yui/container/assets/skins/sam/container-skin.css
+root/static/yui/container/assets/skins/sam/container.css
+root/static/yui/container/assets/tip16_1.gif
+root/static/yui/container/assets/warn16_1.gif
+root/static/yui/container/container-debug.js
+root/static/yui/container/container-min.js
+root/static/yui/container/container.js
+root/static/yui/container/container_core-debug.js
+root/static/yui/container/container_core-min.js
+root/static/yui/container/container_core.js
+root/static/yui/container/README
+root/static/yui/cookie/cookie-debug.js
+root/static/yui/cookie/cookie-min.js
+root/static/yui/cookie/cookie.js
+root/static/yui/cookie/README
+root/static/yui/datasource/datasource-debug.js
+root/static/yui/datasource/datasource-min.js
+root/static/yui/datasource/datasource.js
+root/static/yui/datasource/README
+root/static/yui/datatable/assets/datatable-core.css
+root/static/yui/datatable/assets/datatable.css
+root/static/yui/datatable/assets/skins/sam/datatable-skin.css
+root/static/yui/datatable/assets/skins/sam/datatable.css
+root/static/yui/datatable/assets/skins/sam/dt-arrow-dn.png
+root/static/yui/datatable/assets/skins/sam/dt-arrow-up.png
+root/static/yui/datatable/datatable-debug.js
+root/static/yui/datatable/datatable-min.js
+root/static/yui/datatable/datatable.js
+root/static/yui/datatable/README
+root/static/yui/dom/dom-debug.js
+root/static/yui/dom/dom-min.js
+root/static/yui/dom/dom.js
+root/static/yui/dom/README
+root/static/yui/dragdrop/dragdrop-debug.js
+root/static/yui/dragdrop/dragdrop-min.js
+root/static/yui/dragdrop/dragdrop.js
+root/static/yui/dragdrop/README
+root/static/yui/editor/assets/editor-core.css
+root/static/yui/editor/assets/simpleeditor-core.css
+root/static/yui/editor/assets/skins/sam/blankimage.png
+root/static/yui/editor/assets/skins/sam/editor-knob.gif
+root/static/yui/editor/assets/skins/sam/editor-skin.css
+root/static/yui/editor/assets/skins/sam/editor-sprite-active.gif
+root/static/yui/editor/assets/skins/sam/editor-sprite.gif
+root/static/yui/editor/assets/skins/sam/editor.css
+root/static/yui/editor/assets/skins/sam/simpleeditor-skin.css
+root/static/yui/editor/assets/skins/sam/simpleeditor.css
+root/static/yui/editor/editor-debug.js
+root/static/yui/editor/editor-min.js
+root/static/yui/editor/editor.js
+root/static/yui/editor/README
+root/static/yui/editor/simpleeditor-debug.js
+root/static/yui/editor/simpleeditor-min.js
+root/static/yui/editor/simpleeditor.js
+root/static/yui/element/element-beta-debug.js
+root/static/yui/element/element-beta-min.js
+root/static/yui/element/element-beta.js
+root/static/yui/element/README
+root/static/yui/event/event-debug.js
+root/static/yui/event/event-min.js
+root/static/yui/event/event.js
+root/static/yui/event/README
+root/static/yui/fonts/fonts-min.css
+root/static/yui/fonts/fonts.css
+root/static/yui/fonts/README
+root/static/yui/get/get-debug.js
+root/static/yui/get/get-min.js
+root/static/yui/get/get.js
+root/static/yui/get/README
+root/static/yui/grids/grids-min.css
+root/static/yui/grids/grids.css
+root/static/yui/grids/README
+root/static/yui/history/assets/blank.html
+root/static/yui/history/history-debug.js
+root/static/yui/history/history-min.js
+root/static/yui/history/history.js
+root/static/yui/history/README
+root/static/yui/imagecropper/assets/imagecropper-core.css
+root/static/yui/imagecropper/assets/skins/sam/imagecropper-skin.css
+root/static/yui/imagecropper/assets/skins/sam/imagecropper.css
+root/static/yui/imagecropper/imagecropper-beta-debug.js
+root/static/yui/imagecropper/imagecropper-beta-min.js
+root/static/yui/imagecropper/imagecropper-beta.js
+root/static/yui/imagecropper/README
+root/static/yui/imageloader/imageloader-debug.js
+root/static/yui/imageloader/imageloader-min.js
+root/static/yui/imageloader/imageloader.js
+root/static/yui/imageloader/README
+root/static/yui/json/json-debug.js
+root/static/yui/json/json-min.js
+root/static/yui/json/json.js
+root/static/yui/json/README
+root/static/yui/layout/assets/layout-core.css
+root/static/yui/layout/assets/skins/sam/layout-skin.css
+root/static/yui/layout/assets/skins/sam/layout.css
+root/static/yui/layout/assets/skins/sam/layout_sprite.png
+root/static/yui/layout/layout-debug.js
+root/static/yui/layout/layout-min.js
+root/static/yui/layout/layout.js
+root/static/yui/layout/README
+root/static/yui/logger/assets/logger-core.css
+root/static/yui/logger/assets/logger.css
+root/static/yui/logger/assets/skins/sam/logger-skin.css
+root/static/yui/logger/assets/skins/sam/logger.css
+root/static/yui/logger/logger-debug.js
+root/static/yui/logger/logger-min.js
+root/static/yui/logger/logger.js
+root/static/yui/logger/README
+root/static/yui/menu/assets/menu-core.css
+root/static/yui/menu/assets/menu.css
+root/static/yui/menu/assets/menu_down_arrow.png
+root/static/yui/menu/assets/menu_down_arrow_disabled.png
+root/static/yui/menu/assets/menu_up_arrow.png
+root/static/yui/menu/assets/menu_up_arrow_disabled.png
+root/static/yui/menu/assets/menubaritem_submenuindicator.png
+root/static/yui/menu/assets/menubaritem_submenuindicator_disabled.png
+root/static/yui/menu/assets/menubaritem_submenuindicator_selected.png
+root/static/yui/menu/assets/menuitem_checkbox.png
+root/static/yui/menu/assets/menuitem_checkbox_disabled.png
+root/static/yui/menu/assets/menuitem_checkbox_selected.png
+root/static/yui/menu/assets/menuitem_submenuindicator.png
+root/static/yui/menu/assets/menuitem_submenuindicator_disabled.png
+root/static/yui/menu/assets/menuitem_submenuindicator_selected.png
+root/static/yui/menu/assets/skins/sam/menu-skin.css
+root/static/yui/menu/assets/skins/sam/menu.css
+root/static/yui/menu/assets/skins/sam/menubaritem_submenuindicator.png
+root/static/yui/menu/assets/skins/sam/menubaritem_submenuindicator_disabled.png
+root/static/yui/menu/assets/skins/sam/menuitem_checkbox.png
+root/static/yui/menu/assets/skins/sam/menuitem_checkbox_disabled.png
+root/static/yui/menu/assets/skins/sam/menuitem_submenuindicator.png
+root/static/yui/menu/assets/skins/sam/menuitem_submenuindicator_disabled.png
+root/static/yui/menu/menu-debug.js
+root/static/yui/menu/menu-min.js
+root/static/yui/menu/menu.js
+root/static/yui/menu/README
+root/static/yui/paginator/assets/paginator-core.css
+root/static/yui/paginator/assets/skins/sam/paginator-skin.css
+root/static/yui/paginator/assets/skins/sam/paginator.css
+root/static/yui/paginator/paginator-debug.js
+root/static/yui/paginator/paginator-min.js
+root/static/yui/paginator/paginator.js
+root/static/yui/paginator/README
+root/static/yui/profiler/profiler-debug.js
+root/static/yui/profiler/profiler-min.js
+root/static/yui/profiler/profiler.js
+root/static/yui/profiler/README
+root/static/yui/profilerviewer/assets/skins/sam/asc.gif
+root/static/yui/profilerviewer/assets/skins/sam/desc.gif
+root/static/yui/profilerviewer/assets/skins/sam/header_background.png
+root/static/yui/profilerviewer/assets/skins/sam/profilerviewer.css
+root/static/yui/profilerviewer/assets/skins/sam/wait.gif
+root/static/yui/profilerviewer/profilerviewer-beta-debug.js
+root/static/yui/profilerviewer/profilerviewer-beta-min.js
+root/static/yui/profilerviewer/profilerviewer-beta.js
+root/static/yui/profilerviewer/README
+root/static/yui/reset-fonts-grids/README
+root/static/yui/reset-fonts-grids/reset-fonts-grids.css
+root/static/yui/reset-fonts/README
+root/static/yui/reset-fonts/reset-fonts.css
+root/static/yui/reset/README
+root/static/yui/reset/reset-min.css
+root/static/yui/reset/reset.css
+root/static/yui/resize/assets/resize-core.css
+root/static/yui/resize/assets/skins/sam/layout_sprite.png
+root/static/yui/resize/assets/skins/sam/resize-skin.css
+root/static/yui/resize/assets/skins/sam/resize.css
+root/static/yui/resize/README
+root/static/yui/resize/resize-debug.js
+root/static/yui/resize/resize-min.js
+root/static/yui/resize/resize.js
+root/static/yui/selector/README
+root/static/yui/selector/selector-beta-debug.js
+root/static/yui/selector/selector-beta-min.js
+root/static/yui/selector/selector-beta.js
+root/static/yui/slider/assets/bg-fader.gif
+root/static/yui/slider/assets/bg-h.gif
+root/static/yui/slider/assets/bg-v-e.gif
+root/static/yui/slider/assets/bg-v.gif
+root/static/yui/slider/assets/left-thumb.png
+root/static/yui/slider/assets/right-thumb.png
+root/static/yui/slider/assets/skins/sam/slider-skin.css
+root/static/yui/slider/assets/skins/sam/slider.css
+root/static/yui/slider/assets/slider-core.css
+root/static/yui/slider/assets/thumb-bar.gif
+root/static/yui/slider/assets/thumb-e.gif
+root/static/yui/slider/assets/thumb-fader.gif
+root/static/yui/slider/assets/thumb-n.gif
+root/static/yui/slider/assets/thumb-s.gif
+root/static/yui/slider/assets/thumb-w.gif
+root/static/yui/slider/README
+root/static/yui/slider/slider-debug.js
+root/static/yui/slider/slider-min.js
+root/static/yui/slider/slider.js
+root/static/yui/tabview/assets/border_tabs.css
+root/static/yui/tabview/assets/loading.gif
+root/static/yui/tabview/assets/skin-sam.css
+root/static/yui/tabview/assets/skins/sam/tabview-skin.css
+root/static/yui/tabview/assets/skins/sam/tabview.css
+root/static/yui/tabview/assets/tabview-core.css
+root/static/yui/tabview/assets/tabview.css
+root/static/yui/tabview/README
+root/static/yui/tabview/tabview-debug.js
+root/static/yui/tabview/tabview-min.js
+root/static/yui/tabview/tabview.js
+root/static/yui/treeview/assets/skins/sam/loading.gif
+root/static/yui/treeview/assets/skins/sam/treeview-loading.gif
+root/static/yui/treeview/assets/skins/sam/treeview-skin.css
+root/static/yui/treeview/assets/skins/sam/treeview-sprite.gif
+root/static/yui/treeview/assets/skins/sam/treeview.css
+root/static/yui/treeview/assets/sprite-menu.gif
+root/static/yui/treeview/assets/sprite-orig.gif
+root/static/yui/treeview/assets/treeview-core.css
+root/static/yui/treeview/assets/treeview-loading.gif
+root/static/yui/treeview/assets/treeview-menu.css
+root/static/yui/treeview/assets/treeview.css
+root/static/yui/treeview/README
+root/static/yui/treeview/treeview-debug.js
+root/static/yui/treeview/treeview-min.js
+root/static/yui/treeview/treeview.js
+root/static/yui/uploader/assets/uploader.swf
+root/static/yui/uploader/README
+root/static/yui/uploader/uploader-experimental-debug.js
+root/static/yui/uploader/uploader-experimental-min.js
+root/static/yui/uploader/uploader-experimental.js
+root/static/yui/utilities/README
+root/static/yui/utilities/utilities.js
+root/static/yui/yahoo-dom-event/README
+root/static/yui/yahoo-dom-event/yahoo-dom-event.js
+root/static/yui/yahoo/README
+root/static/yui/yahoo/yahoo-debug.js
+root/static/yui/yahoo/yahoo-min.js
+root/static/yui/yahoo/yahoo.js
+root/static/yui/yuiloader-dom-event/README
+root/static/yui/yuiloader-dom-event/yuiloader-dom-event.js
+root/static/yui/yuiloader/README
+root/static/yui/yuiloader/yuiloader-debug.js
+root/static/yui/yuiloader/yuiloader-min.js
+root/static/yui/yuiloader/yuiloader.js
+root/static/yui/yuitest/assets/skins/sam/yuitest-skin.css
+root/static/yui/yuitest/assets/skins/sam/yuitest.css
+root/static/yui/yuitest/assets/testlogger.css
+root/static/yui/yuitest/assets/yuitest-core.css
+root/static/yui/yuitest/README
+root/static/yui/yuitest/yuitest-debug.js
+root/static/yui/yuitest/yuitest-min.js
+root/static/yui/yuitest/yuitest.js
+root/static/yui/yuitest/yuitest_core-debug.js
+root/static/yui/yuitest/yuitest_core-min.js
+root/static/yui/yuitest/yuitest_core.js
 script/deploy.sh
 script/i18n_todo.pl
 script/parley_cgi.pl
@@ -948,6 +944,7 @@
 t.output/0.59.03
 t.output/1.0.0
 t.output/1.0.3
+t.output/1.0.4
 t/01app.t
 t/02pod.t
 t/03podcoverage.t

Modified: trunk/Makefile.PL
===================================================================
--- trunk/Makefile.PL	2008-12-29 00:32:16 UTC (rev 1024)
+++ trunk/Makefile.PL	2008-12-30 02:23:07 UTC (rev 1025)
@@ -49,6 +49,7 @@
     'Proc::Daemon'                                              => '0.03',
     'Proc::PID::File'                                           => '1.2.4',
     'Readonly'                                                  => 0,
+    'Template::Plugin::ForumCode'                               => '0.0.5',
     'Text::Context::EitherSide'                                 => '1.3',
     'Time::Piece'                                               => '1.11',
 );

Copied: trunk/root/skin2 (from rev 995, trunk/root/base)

Modified: trunk/root/skin2/footer
===================================================================
--- trunk/root/base/footer	2008-12-22 22:01:37 UTC (rev 995)
+++ trunk/root/skin2/footer	2008-12-30 02:23:07 UTC (rev 1025)
@@ -3,6 +3,9 @@
 
             <div id="ft">
                 <p>
+This is a copy of the default skin, with the addition of this annoying message
+int the footer.
+<br />
                 <a href="http://developer.berlios.de/projects/parley">[%c.config.name%]</a>
                 (version [%c.config.version%])
                 &copy; Chisel Wright 2006-2008. [%l('All Rights Reserved')%].

Deleted: trunk/root/static/yui
===================================================================
--- trunk/root/static/yui	2008-12-29 00:32:16 UTC (rev 1024)
+++ trunk/root/static/yui	2008-12-30 02:23:07 UTC (rev 1025)
@@ -1 +0,0 @@
-link yui_2.6.0
\ No newline at end of file

Copied: trunk/root/static/yui/animation (from rev 961, trunk/root/static/yui_2.6.0/animation)

Copied: trunk/root/static/yui/assets (from rev 961, trunk/root/static/yui_2.6.0/assets)

Copied: trunk/root/static/yui/autocomplete (from rev 961, trunk/root/static/yui_2.6.0/autocomplete)

Copied: trunk/root/static/yui/base (from rev 961, trunk/root/static/yui_2.6.0/base)

Copied: trunk/root/static/yui/button (from rev 961, trunk/root/static/yui_2.6.0/button)

Copied: trunk/root/static/yui/calendar (from rev 961, trunk/root/static/yui_2.6.0/calendar)

Copied: trunk/root/static/yui/carousel (from rev 961, trunk/root/static/yui_2.6.0/carousel)

Copied: trunk/root/static/yui/charts (from rev 961, trunk/root/static/yui_2.6.0/charts)

Copied: trunk/root/static/yui/colorpicker (from rev 961, trunk/root/static/yui_2.6.0/colorpicker)

Copied: trunk/root/static/yui/connection (from rev 961, trunk/root/static/yui_2.6.0/connection)

Copied: trunk/root/static/yui/container (from rev 961, trunk/root/static/yui_2.6.0/container)

Copied: trunk/root/static/yui/cookie (from rev 961, trunk/root/static/yui_2.6.0/cookie)

Copied: trunk/root/static/yui/datasource (from rev 961, trunk/root/static/yui_2.6.0/datasource)

Copied: trunk/root/static/yui/datatable (from rev 961, trunk/root/static/yui_2.6.0/datatable)

Copied: trunk/root/static/yui/dom (from rev 961, trunk/root/static/yui_2.6.0/dom)

Copied: trunk/root/static/yui/dragdrop (from rev 961, trunk/root/static/yui_2.6.0/dragdrop)

Copied: trunk/root/static/yui/editor (from rev 961, trunk/root/static/yui_2.6.0/editor)

Copied: trunk/root/static/yui/element (from rev 961, trunk/root/static/yui_2.6.0/element)

Copied: trunk/root/static/yui/event (from rev 961, trunk/root/static/yui_2.6.0/event)

Copied: trunk/root/static/yui/fonts (from rev 961, trunk/root/static/yui_2.6.0/fonts)

Copied: trunk/root/static/yui/get (from rev 961, trunk/root/static/yui_2.6.0/get)

Copied: trunk/root/static/yui/grids (from rev 961, trunk/root/static/yui_2.6.0/grids)

Copied: trunk/root/static/yui/history (from rev 961, trunk/root/static/yui_2.6.0/history)

Copied: trunk/root/static/yui/imagecropper (from rev 961, trunk/root/static/yui_2.6.0/imagecropper)

Copied: trunk/root/static/yui/imageloader (from rev 961, trunk/root/static/yui_2.6.0/imageloader)

Copied: trunk/root/static/yui/json (from rev 961, trunk/root/static/yui_2.6.0/json)

Copied: trunk/root/static/yui/layout (from rev 961, trunk/root/static/yui_2.6.0/layout)

Copied: trunk/root/static/yui/logger (from rev 961, trunk/root/static/yui_2.6.0/logger)

Copied: trunk/root/static/yui/menu (from rev 961, trunk/root/static/yui_2.6.0/menu)

Copied: trunk/root/static/yui/paginator (from rev 961, trunk/root/static/yui_2.6.0/paginator)

Copied: trunk/root/static/yui/profiler (from rev 961, trunk/root/static/yui_2.6.0/profiler)

Copied: trunk/root/static/yui/profilerviewer (from rev 961, trunk/root/static/yui_2.6.0/profilerviewer)

Copied: trunk/root/static/yui/reset (from rev 961, trunk/root/static/yui_2.6.0/reset)

Copied: trunk/root/static/yui/reset-fonts (from rev 961, trunk/root/static/yui_2.6.0/reset-fonts)

Copied: trunk/root/static/yui/reset-fonts-grids (from rev 961, trunk/root/static/yui_2.6.0/reset-fonts-grids)

Copied: trunk/root/static/yui/resize (from rev 961, trunk/root/static/yui_2.6.0/resize)

Copied: trunk/root/static/yui/selector (from rev 961, trunk/root/static/yui_2.6.0/selector)

Copied: trunk/root/static/yui/slider (from rev 961, trunk/root/static/yui_2.6.0/slider)

Copied: trunk/root/static/yui/tabview (from rev 961, trunk/root/static/yui_2.6.0/tabview)

Copied: trunk/root/static/yui/treeview (from rev 961, trunk/root/static/yui_2.6.0/treeview)

Copied: trunk/root/static/yui/uploader (from rev 961, trunk/root/static/yui_2.6.0/uploader)

Copied: trunk/root/static/yui/utilities (from rev 961, trunk/root/static/yui_2.6.0/utilities)

Copied: trunk/root/static/yui/yahoo (from rev 961, trunk/root/static/yui_2.6.0/yahoo)

Copied: trunk/root/static/yui/yahoo-dom-event (from rev 961, trunk/root/static/yui_2.6.0/yahoo-dom-event)

Copied: trunk/root/static/yui/yuiloader (from rev 961, trunk/root/static/yui_2.6.0/yuiloader)

Copied: trunk/root/static/yui/yuiloader-dom-event (from rev 961, trunk/root/static/yui_2.6.0/yuiloader-dom-event)

Copied: trunk/root/static/yui/yuitest (from rev 961, trunk/root/static/yui_2.6.0/yuitest)

Added: trunk/t.output/1.0.4
===================================================================
--- trunk/t.output/1.0.4	2008-12-29 00:32:16 UTC (rev 1024)
+++ trunk/t.output/1.0.4	2008-12-30 02:23:07 UTC (rev 1025)
@@ -0,0 +1,21 @@
+PERL_DL_NONLAZY=1 /usr/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'inc', 'blib/lib', 'blib/arch')" t/*.t t/bug/*.t t/mechanize/*.t
+t/01app.........................ok
+t/02pod.........................skipped: set TEST_POD to enable this test
+t/03podcoverage.................skipped: set TEST_POD to enable this test
+t/04_forumcode..................ok
+t/05.userroles..................ok
+t/06.aggregate.controller.......ok
+t/07.aggregate.schematests......ok
+t/50.text_search.sql............ok
+t/bug/01.forum_list_no_posts....ok
+t/mechanize/00.login............ok
+t/mechanize/01.main_page........ok
+t/mechanize/02.forum............ok
+t/model_ParleyDB................ok
+t/model_Post....................ok
+t/view_JSON.....................ok
+t/view_Plain....................ok
+t/view_TT.......................ok
+All tests successful.
+Files=17, Tests=464, 17 wallclock secs ( 0.20 usr  0.03 sys + 13.47 cusr  0.96 csys = 14.66 CPU)
+Result: PASS



From chiselwright at mail.berlios.de  Tue Dec 30 03:27:31 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 30 Dec 2008 03:27:31 +0100
Subject: [Parley-svn] r1026 - / trunk trunk/lib trunk/lib/Catalyst
	trunk/lib/Catalyst/Controller trunk/lib/Parley
	trunk/lib/Parley/Controller trunk/lib/Parley/I18N
	trunk/root/base trunk/root/base/dfv trunk/root/base/search
	trunk/root/base/shared trunk/root/base/thread trunk/root/static/css
Message-ID: <200812300227.mBU2RV8N022793@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-30 03:27:30 +0100 (Tue, 30 Dec 2008)
New Revision: 1026

Added:
   trunk/lib/Catalyst/
   trunk/lib/Catalyst/Controller/
   trunk/lib/Catalyst/Controller/FormValidator.pm
   trunk/root/base/dfv/
   trunk/root/base/dfv/display_validation_messages
   trunk/root/base/dfv/validation_messages_data
   trunk/root/base/search/advanced
   trunk/root/base/search/results
   trunk/root/base/shared/add_this
Modified:
   /
   trunk/
   trunk/Changes
   trunk/Makefile.PL
   trunk/ROADMAP
   trunk/TODO
   trunk/lib/Parley/Controller/Search.pm
   trunk/lib/Parley/I18N/i_default.po
   trunk/lib/Parley/Version.pm
   trunk/parley.conf
   trunk/root/base/header
   trunk/root/base/shared/search_dialog
   trunk/root/base/thread/view
   trunk/root/static/css/parley-min.css
   trunk/root/static/css/parley.css
Log:
 r8883 at wiggin:  chisel | 2008-12-30 02:26:42 +0000
 branch --> trunk update



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8881
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8883
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222


Property changes on: trunk
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/branches/schema_based:562
6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/tags/parley-1.0.3:8686
6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/tags/parley-1.0.4:8698
f74ee645-c3e3-0310-be06-c791151d01b6:/branches/schema_based:258
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/branches/parley-1.1:8879
6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/branches/schema_based:562
6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/tags/parley-1.0.3:8686
6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/tags/parley-1.0.4:8698
f74ee645-c3e3-0310-be06-c791151d01b6:/branches/schema_based:258

Modified: trunk/Changes
===================================================================
--- trunk/Changes	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/Changes	2008-12-30 02:27:30 UTC (rev 1026)
@@ -1,5 +1,13 @@
 This file documents the revision history for Parley.
 
+1.1.0
+    - added Advanced Search page
+    - added Add This (www.addthis.com) to thread/view page
+      (if username set in configuration)
+    - modified CSS for "user information"; now the header is a fixed-width we
+      can place this div inside it (instead of flushed to the RHS of the
+      page/window)
+
 1.0.4   Wed Dec 24 18:54:24 GMT 2008
     - fixed skin2
     - remove yui/ softlink

Modified: trunk/Makefile.PL
===================================================================
--- trunk/Makefile.PL	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/Makefile.PL	2008-12-30 02:27:30 UTC (rev 1026)
@@ -8,7 +8,7 @@
 author          ('Chisel Wright<chiselwright at users.berlios.de>');
 abstract        ('Message board / forum application');
 license         ('perl');
-version         ('1.0.4');
+version         ('1.1.0');
 
 requires(
     'Catalyst'                                                  => '5.7014',
@@ -34,6 +34,7 @@
     'Config::General'                                           => '2.37',
     'Data::FormValidator'                                       => '4.50',
     'Data::SpreadPagination'                                    => '0.1.2',
+    'Date::Manip'                                               => '5.54',
     'DateTime'                                                  => '0.41',
     'DateTime::Format::Pg'                                      => '0.16001',
     'DateTime::TimeZone'                                        => '0.70',

Modified: trunk/ROADMAP
===================================================================
--- trunk/ROADMAP	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/ROADMAP	2008-12-30 02:27:30 UTC (rev 1026)
@@ -50,6 +50,7 @@
 1.1.0:
 
     - advanced search
+    - reCaptcha during registration
 
 1.2.0:
 

Modified: trunk/TODO
===================================================================
--- trunk/TODO	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/TODO	2008-12-30 02:27:30 UTC (rev 1026)
@@ -1,5 +1,7 @@
 TODO LIST
 
+  - update i18n from Advanced Search additions
+  - move search_dialog inline styles into CSS file
   - fix "oversized image" bug
   - fix "user information" CSS location
   - local file permissions (for avatar uploads)

Added: trunk/lib/Catalyst/Controller/FormValidator.pm
===================================================================
--- trunk/lib/Catalyst/Controller/FormValidator.pm	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/lib/Catalyst/Controller/FormValidator.pm	2008-12-30 02:27:30 UTC (rev 1026)
@@ -0,0 +1,127 @@
+package Catalyst::Controller::FormValidator;
+# vim: ts=8 sts=4 et sw=4 sr sta
+use strict;
+use warnings;
+
+use version; our $VERSION = qv(0.0.1)->numify;
+
+use base 'Catalyst::Controller';
+
+use Carp;
+use Data::Dump qw(pp);
+use Data::FormValidator '4.50';
+use Data::FormValidator::Constraints qw(:closures);
+
+sub form_check :Private {
+    my ($self, $c, $dfv_profile, $param_type) = @_;
+    my $parameters;
+
+    # Which parameters? GET / POST or "all"?
+    # - POST [default]
+    if (
+        not defined $param_type
+            or
+        q{POST} eq $param_type
+    ) {
+        $parameters = $c->request->body_parameters;
+    }
+    # - GET
+    elsif (q{GET} eq $param_type) {
+        $parameters = $c->request->query_parameters;
+    }
+    # - "all"
+    elsif (q{all} eq $param_type) {
+        $parameters = $c->request->parameters;
+    }
+
+    my $results = Data::FormValidator->check(
+        $parameters,
+        $dfv_profile
+    );
+
+    # if we have any failures ...
+    #if ($results->has_invalid or $results->has_missing) {
+        $c->stash->{validation} = $results;
+        #}
+
+    return;
+}
+
+sub add_form_invalid :Private {
+    my ($self, $c, $invalid_key, $invalid_value) = @_;
+
+    # if we haven't checked hte form yet, we can't add to the results
+    if (not defined $c->stash->{validation}) {
+        carp('form must be validated first');
+        return;
+    }
+
+    # the invalids are a keyed list of constraint names
+    push
+        @{ $c->stash->{validation}{invalid}{$invalid_key} },
+        $invalid_value
+    ;
+
+    return;
+}
+
+sub validation_errors_to_html :Private {
+    my ($self, $c) = @_;
+}
+
+1;
+
+__END__
+
+=pod
+
+=head1 NAME
+
+Catalyst::Controller::FormValidator - check form data
+
+=head1 SUMMARY
+
+Form-validation using a Catalyst controller and Data::FormValidator
+
+=head1 SYNOPSIS
+
+    use base 'Catalyst::Controller::FormValidator';
+    use Data::FormValidator::Constraints qw(:closures);
+
+    # define a DFV profile
+    my $dfv_profile = {
+        required => [qw<
+            email_address
+            phone_home
+            phone_mobile
+        >],
+
+        constraint_methods => {
+            email_address   => email(),
+            phone_home      => american_phone(),
+            phone_mobile    => american_phone(),
+        },
+    };
+
+    # check the form for errors
+    $c->forward('form_check', [$dfv_profile]);
+
+    # perform custom/complex checking and
+    # add to form validation failures
+    if (not is_complex_test_ok()) {
+        $c->forward(
+            'add_form_invalid',
+            [ $error_key, $error_constraint_name ]
+        );
+    }
+
+=head1 AUTHOR
+
+Chisel Wright
+
+=head1 LICENSE
+
+This library is free software, you can redistribute it and/or modify
+it under the same terms as Perl itself.
+
+=cut

Modified: trunk/lib/Parley/Controller/Search.pm
===================================================================
--- trunk/lib/Parley/Controller/Search.pm	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/lib/Parley/Controller/Search.pm	2008-12-30 02:27:30 UTC (rev 1026)
@@ -1,19 +1,56 @@
 package Parley::Controller::Search;
-
+# vim: ts=8 sts=4 et sw=4 sr sta
 use strict;
 use warnings;
 
 use Parley::Version;  our $VERSION = $Parley::VERSION;
 use base 'Catalyst::Controller';
+use base 'Catalyst::Controller::FormValidator';
 
+use Data::Dump qw(pp);
+use Date::Manip;
 use Text::Search::SQL;
 use URI;
 use URI::QueryParam;
+# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+# Global class data
+# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 
+my %dfv_profile_for = (
+    # DFV validation profile for adding a new topic
+    advanced => {
+        required    => [qw< match_type >],
+        require_some => {
+            search_terms => [
+                1,
+                qw<
+                    author_search_terms
+                    message_search_terms
+                    subject_search_terms
+                    search_post_date
+                >
+            ]
+        },
+        optional    => [qw<
+            author_search_terms
+            message_search_terms
+            subject_search_terms
+            author_search_type
+            message_search_type
+            subject_search_type
+            search_post_date
+        >],
+        filters     => [qw< trim >],
+    },
+);
+
+# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+# Controller Actions
+# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+
 sub index : Private {
     my ( $self, $c ) = @_;
-
-    $c->response->body('Matched Parley::Controller::Search in Search.');
+    $c->forward('advanced');
 }
 
 sub end :Private {
@@ -26,6 +63,36 @@
     $c->forward('/end');
 }
 
+sub advanced : Local {
+    my ($self, $c) = @_;
+    # because we're potentially being forwarded to from / set the template
+    # explicitly
+    $c->stash->{template} = q{search/advanced};
+
+    # if we have a method and any (GET) parameters, do the searchy stuff
+    if (
+        keys %{$c->request->query_parameters}
+            and
+        defined $c->request->method
+    ) {
+        $c->forward('form_check', [$dfv_profile_for{advanced}, 'GET']);
+
+        # everything passed (DFV) validation
+        if ($c->stash->{validation}->success) {
+            my $foo = $c->stash->{search_results};
+            $c->forward('do_advanced_search');
+        }
+        # something didn't validate
+        else {
+            $c->log->debug(
+                pp($c->stash->{validation})
+            );
+        }
+    }
+
+    return;
+}
+
 sub forum :Local {
     my ($self, $c) = @_;
     my ($search_terms, $resultset, $tss, $search_where, $where, @join);
@@ -57,12 +124,16 @@
     );
     $tss->parse();
     $search_where = $tss->get_sql_where();
+    $c->log->debug(
+        pp $search_where
+    );
 
     # build the where clause to pass to our search
     $where = {
         # we want to OR the items in $sql_where
         -or => $search_where,
     };
+    $c->log->debug(pp($where));
 
     # if we have a search_forum, limit to that
     if (defined $c->request->param('search_forum')) {
@@ -101,13 +172,252 @@
     }
 }
 
+sub do_advanced_search : Private {
+    my ($self, $c) = @_;
+    my $results = $c->stash->{validation};
+    my ($where, $search_where, $resultset, @join, $order_by);
+
+    # default ORDER BY
+    $order_by = [\'created DESC'];
+
+    # page to show - either a param, or show the first
+    $c->stash->{current_page}= $c->request->param('page') || 1;
+
+    $search_where = undef;
+    foreach my $search_field (qw<author message subject date>) {
+        # process the search field
+        my $results = 
+            $c->forward(q{search_clauses_} . $search_field);
+        if (defined $results) {
+            my ($extra_clauses, $extra_joins) = @{ $results };
+
+            # add any search clauses
+            if ($extra_clauses) {
+                push @{$search_where}, @$extra_clauses;
+            }
+            # add any required table joins
+            if ($extra_joins) {
+                push @join, @$extra_joins;
+            }
+        }
+    }
+
+    # make sure we're searching for something
+    # if it turns out we're searching for nothingness, return an empty
+    # result set
+    if (not defined $search_where) {
+        return; # no need to do anything else
+    }
+
+    # build the where clause to pass to our search
+    if (q{any} eq $results->valid('match_type')) {
+        $where = {
+            # we want to OR the items in $sql_where
+            -or => $search_where,
+        };
+    }
+    elsif (q{all} eq $results->valid('match_type')) {
+        $where = {
+            # we want to OR the items in $sql_where
+            -and => $search_where,
+        };
+    }
+
+    $c->log->debug('SEARCH TERMS: ' . pp($where));
+
+    $resultset = $c->model('ParleyDB')->resultset('Post')->search(
+        $where,
+        {
+            join        => \@join,
+            order_by    => $order_by,
+            # results paging
+            rows        => $c->config->{search_results_per_page},
+            page        => $c->stash->{current_page},
+        }
+    );
+
+    # if we have any matches, stash them
+    if ($resultset->count() > 0) {
+        $c->stash->{search_results} = $resultset;
+    }
+
+    return;
+}
+
+sub add_search_clauses : Private {
+    my ($self, $c, $current_clauses, $type, $search_field, $terms) = @_;
+    my @search_where;
+
+    # do we have any terms to search for?
+    if ($terms) {
+        if (q{contains} eq $type) {
+            push @search_where,
+                $search_field,
+                { ilike => q{%} . $terms .  q{%} }
+            ;
+        }
+        elsif (q{exact} eq $type) {
+            push @search_where,
+                $search_field,
+                { q{=}  => $terms }
+            ;
+        }
+        else {
+            $c->log->error(qq{fsc/$search_field: hmm, what's the search type?});
+            return;
+        }
+    }
+    # no terms, nothing to do
+    else {
+        return;
+    }
+
+    # add to the current list of search clauses
+    push @{$current_clauses}, @search_where;
+
+    return;
+}
+
+sub search_clauses_author : Private {
+    my ($self, $c) = @_;
+    my $results = $c->stash->{validation};
+    my $search_field = 'author';
+    my @search_where;
+    my @joins;
+
+    my $terms = $results->valid(
+            $search_field
+        . q{_search_terms}
+    );
+    my $type = $results->valid(
+            $search_field
+        . q{_search_type}
+    ) || q{};
+
+    # add search clauses for the forum_name of the post's creator
+    $c->forward(
+        add_search_clauses => [\@search_where, $type, 'creator.forum_name', $terms]
+    );
+    # add the required JOIN relation name
+    push @joins, 'creator';
+
+    return [\@search_where, \@joins];
+}
+
+sub search_clauses_date : Private {
+    my ($self, $c) = @_;
+    my $results = $c->stash->{validation};
+    my $terms = $results->valid('search_post_date');
+    my (@search_where);
+
+    # if we don't have date "stuff", don't add any terms
+    if (not $terms) {
+        $c->log->debug('no date crap');
+        return []; # add nothing at all
+    }
+
+    # the mapping from form values to search clauses
+    my %search_clauses = (
+        last_hour => {
+            '>=' => UnixDate('1 hour ago', "%Y-%m-%d %H:%M:%S")
+        },
+        last_day => {
+            '>=' => UnixDate('1 day ago', "%Y-%m-%d %H:%M:%S")
+        },
+        last_month => {
+            '>=' => UnixDate('1 month ago', "%Y-%m-%d %H:%M:%S")
+        },
+        last_six_months => {
+            '>=' => UnixDate('6 months ago', "%Y-%m-%d %H:%M:%S")
+        },
+        last_year => {
+            '>=' => UnixDate('1 year ago', "%Y-%m-%d %H:%M:%S")
+        },
+        over_a_year => {
+            '<' => UnixDate('1 year ago', "%Y-%m-%d %H:%M:%S")
+        },
+    );
+
+    # if we don't have a matching search clause, abort ...
+    if (not exists $search_clauses{$terms}) {
+        $c->log->error(
+              $terms
+            . q{ is not a valid date label in search_clauses_date()}
+        );
+        return [];
+    };
+
+    push @search_where,
+        'me.created',
+        $search_clauses{$terms}
+    ;
+
+    return [\@search_where, undef];
+}
+
+sub search_clauses_message : Private {
+    my ($self, $c) = @_;
+    my $results = $c->stash->{validation};
+    my $search_field = 'message';
+    my @search_where;
+
+    my $terms = $results->valid(
+            $search_field
+        . q{_search_terms}
+    );
+    my $type = $results->valid(
+            $search_field
+        . q{_search_type}
+    ) || q{};
+
+    # nice and easy - we're just searching the message body
+    $c->forward(
+        add_search_clauses => [\@search_where, $type, $search_field, $terms]
+    );
+
+    return [\@search_where, undef];
+}
+
+sub search_clauses_subject : Private {
+    my ($self, $c) = @_;
+    my $results = $c->stash->{validation};
+    my $search_field = 'subject';
+    my @search_where;
+    my @joins;
+
+    my $terms = $results->valid(
+            $search_field
+        . q{_search_terms}
+    );
+    my $type = $results->valid(
+            $search_field
+        . q{_search_type}
+    ) || q{};
+
+    # post subjects
+    $c->forward(
+        add_search_clauses => [\@search_where, $type, 'me.subject', $terms]
+    );
+
+    # thread subjects
+    $c->forward(
+        add_search_clauses => [\@search_where, $type, 'thread.subject', $terms]
+    );
+    # add the required JOIN relation name
+    push @joins, 'thread';
+
+    return [\@search_where, \@joins];
+}
+
 sub _results_view_pager {
     my ($self, $c) = @_;
 
+    # if we don't have any search results, do nothing
     if (not $c->stash->{search_results}) {
         return;
     }
 
+    # get the pager (from the search results)
     $c->stash->{page} = $c->stash->{search_results}->pager();
 
     # TODO - find a better way to do this if possible

Modified: trunk/lib/Parley/I18N/i_default.po
===================================================================
--- trunk/lib/Parley/I18N/i_default.po	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/lib/Parley/I18N/i_default.po	2008-12-30 02:27:30 UTC (rev 1026)
@@ -333,6 +333,12 @@
 msgid "Logout"
 msgstr "Logout"
 
+msgid "MISSING_SEARCH_MATCH_TYPE"
+msgstr "Please specify the method you would like to match by"
+
+msgid "MISSING_SEARCH_TERMS"
+msgstr "Please provide something to search for"
+
 msgid "Manage"
 msgstr "Manage"
 

Modified: trunk/lib/Parley/Version.pm
===================================================================
--- trunk/lib/Parley/Version.pm	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/lib/Parley/Version.pm	2008-12-30 02:27:30 UTC (rev 1026)
@@ -3,11 +3,9 @@
 use strict;
 use warnings;
 
-# from mst on #catalyst
-#our $VERSION = '1.000000'; $VERSION = eval $VERSION;
-use version; our $VERSION = qv(1.0.4)->numify;
+# derived from mst suggestion on #catalyst
+use version; our $VERSION = qv(1.1.0)->numify;
 
-
 package Parley::Version;
 
 our $VERSION = $Parley::VERSION;

Modified: trunk/parley.conf
===================================================================
--- trunk/parley.conf	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/parley.conf	2008-12-30 02:27:30 UTC (rev 1026)
@@ -19,6 +19,10 @@
 # set this to "0"
 skin_default_css            1
 
+# "Add This"
+add_this_account            chiselwright
+
+
 # comment out any log levels you don't want to see in your logs
 # 'info' and 'debug' are common choices for suppresing in a live environment
 log_levels                  info

Added: trunk/root/base/dfv/display_validation_messages
===================================================================
--- trunk/root/base/dfv/display_validation_messages	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/root/base/dfv/display_validation_messages	2008-12-30 02:27:30 UTC (rev 1026)
@@ -0,0 +1,22 @@
+[% # deal with validation errors %]
+[% IF validation.defined AND not validation.success %]
+    [% # import message data %] [% PROCESS dfv/validation_messages_data %]
+<span id="validation_errors">
+    [% IF validation.missing %]
+        [% FOR msg_key IN validation.missing %]
+        [% l(error_message.missing.$msg_key) || l('Missing form field: [_1]', msg_key) %]<br />
+        [% END %]
+    [% END %]
+
+    [% IF validation.invalid %]
+        [% FOR field_name IN validation.invalid %]
+            [% nice_field_name = error_message.name.$field_name || field_name%]
+            [% FOR invalid_key IN validation.invalid(field_name) %]
+                [% l(nice_field_name) %]:
+                [% l(error_message.invalid.$invalid_key) || invalid_key %]
+                <br />
+            [% END %]
+        [% END %]
+    [% END %]
+</span>
+[% END %]

Added: trunk/root/base/dfv/validation_messages_data
===================================================================
--- trunk/root/base/dfv/validation_messages_data	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/root/base/dfv/validation_messages_data	2008-12-30 02:27:30 UTC (rev 1026)
@@ -0,0 +1,23 @@
+[%
+    SET error_message = {
+        # messages for missing fields
+        missing => {
+            match_type                  => 'MISSING_SEARCH_MATCH_TYPE',
+            search_terms                => 'MISSING_SEARCH_TERMS',
+
+            moon_stick                  => 'I demand the MOON! On a STICK!',
+        },
+
+        # messages for invalid fields (failed constraints)
+        invalid => {
+            # reCAPTCHA messages (from: http://recaptcha.net/apidocs/captcha/)
+            'incorrect-captcha-sol'     => 'the CAPTCHA solution was incorrect',
+            'recaptcha-not-reachable'   => 'unable to contact the reCAPTCHA verify server',
+        },
+
+        # mappings from field names to something we'd like to show the user
+        name => {
+            email_address               => 'Email Address',
+        },
+    }
+%]

Modified: trunk/root/base/header
===================================================================
--- trunk/root/base/header	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/root/base/header	2008-12-30 02:27:30 UTC (rev 1026)
@@ -112,4 +112,6 @@
                     [% END %]
                 </div>
                 [% END %]
+
+                [% PROCESS dfv/display_validation_messages %]
 <!-- Header : End -->

Added: trunk/root/base/search/advanced
===================================================================
--- trunk/root/base/search/advanced	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/root/base/search/advanced	2008-12-30 02:27:30 UTC (rev 1026)
@@ -0,0 +1,51 @@
+<h1>Search Forums</h1>
+
+<form method="get" action="[%c.uri_for('/search/advanced')%]">
+
+Search for messages matching
+<select name="match_type">
+    <option value="any">any</option>
+    <option value="all">all</option>
+</select>
+of the following criteria:
+<br />
+
+Subject
+[% INCLUDE search_type name="subject_search_type" %]
+<input type="text" name="subject_search_terms" />
+<br />
+
+Message
+[% INCLUDE search_type name="message_search_type" %]
+<input type="text" name="message_search_terms" />
+<br />
+
+Author's name
+[% INCLUDE search_type name="author_search_type" %]
+<input type="text" name="author_search_terms" />
+<br />
+
+Posted
+<select name="search_post_date">
+    <option value="">at any time</option>
+    <option value="last_hour">in the last hour</option>
+    <option value="last_day">in the last day</option>
+    <option value="last_month">in the last month</option>
+    <option value="last_six_months">in the last six months</option>
+    <option value="last_year">in the last year</option>
+    <option value="over_a_year">over a year ago</option>
+</select>
+<br />
+
+<input type="submit" value="Search" />
+
+[% PROCESS search/results %]
+
+[% BLOCK search_type %]
+<select name="[%name%]">
+    <option value="contains">contains</option>
+    <option value="exact">is</option>
+</select>
+[% END %]
+
+</form>

Added: trunk/root/base/search/results
===================================================================
--- trunk/root/base/search/results	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/root/base/search/results	2008-12-30 02:27:30 UTC (rev 1026)
@@ -0,0 +1,19 @@
+<h1>[%l('Search Results')%]</h1>
+
+[% IF search_terms.raw %]
+<h2>[%l('Searching for')%] <em>[% search_terms.raw || '[nothing]' %]</em> in <em>[% search_forum.name || 'all forums' %]</em></h2>
+[% END %]
+
+[% IF search_results %]
+    <table class="search_results">
+        <tbody>
+            [% dummy_value = search_results.reset %]
+            [%- WHILE (post = search_results.next) %]
+            [% thread = post.thread %]
+            [% PROCESS shared/postinfo_table_row show_search_data=post %]
+            [% END %]
+        </tbody>
+    </table>
+[% ELSE %]
+[%l('No results found matching specified terms')%].
+[% END %]

Added: trunk/root/base/shared/add_this
===================================================================
--- trunk/root/base/shared/add_this	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/root/base/shared/add_this	2008-12-30 02:27:30 UTC (rev 1026)
@@ -0,0 +1,14 @@
+[% IF c.config.add_this_account %]
+<!-- ADDTHIS BUTTON BEGIN -->
+<script type="text/javascript">
+addthis_pub             = '[%c.config.add_this_account%]'; 
+//addthis_logo            = 'http://www.addthis.com/images/yourlogo.png';
+addthis_logo_background = 'EFEFFF';
+addthis_logo_color      = '666699';
+addthis_brand           = '[%c.config.name%]';
+addthis_options         = 'delicious, twitter, favorites, email, more';
+</script>
+<a href="http://www.addthis.com/bookmark.php" onmouseover="return addthis_open(this, '', '[URL]', '[TITLE]')" onmouseout="addthis_close()" onclick="return addthis_sendto()"><img src="http://s7.addthis.com/static/btn/lg-share-en.gif" width="125" height="16" border="0" alt="Share" /></a>
+<script type="text/javascript" src="http://s7.addthis.com/js/152/addthis_widget.js"></script>
+<!-- ADDTHIS BUTTON END -->
+[% END %]

Modified: trunk/root/base/shared/search_dialog
===================================================================
--- trunk/root/base/shared/search_dialog	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/root/base/shared/search_dialog	2008-12-30 02:27:30 UTC (rev 1026)
@@ -64,7 +64,7 @@
             <br />
         </fieldset>
 
-        <fieldset>
+        <fieldset style="background-color:transparent; text-align: center; margin-top: 5px;">
             <label for="search_forum"><em>[%l('in')%]:</em></label>
             <select id="search_forum" name="search_forum">
                 <optgroup label="[%l('General')%]">
@@ -83,6 +83,10 @@
             <br />
         </fieldset>
     </form>
+
+    <div style="background-color:transparent; text-align: right;">
+        <a href="[%c.uri_for('/search/advanced')%]">Advanced Search</a>
+    </div>
 </div>
 </div>
 <!-- SEARCH DIALOG -->

Modified: trunk/root/base/thread/view
===================================================================
--- trunk/root/base/thread/view	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/root/base/thread/view	2008-12-30 02:27:30 UTC (rev 1026)
@@ -189,6 +189,12 @@
         </td>
     </tr>
 
+    <tr>
+        <td colspan="2" class="add_this">
+            [% PROCESS shared/add_this %]
+        </td>
+    </tr>
+
     </tbody>
 </table>
 <!-- end : thread contents -->

Modified: trunk/root/static/css/parley-min.css
===================================================================
--- trunk/root/static/css/parley-min.css	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/root/static/css/parley-min.css	2008-12-30 02:27:30 UTC (rev 1026)
@@ -1 +1 @@
-body{background-color:#fff;font-family:Verdana,Arial,Helvetica,sans-serif;}#hd{height:80px;line-height:80px;margin:0;padding-left:10px;background:#EEE url('/static/images/parley_logo.jpg') no-repeat left;color:#79B30B color:#36C;}#hd h1{font-size:200%;text-align:left;}div#ft{background:#666;color:#FFF;font-size:77%;margin-top:20px;}div#ft p{border:none;margin-top:30px;padding:5px 10px 5px 10px;text-align:right;display:block;}div#ft a{color:#ccc;}div#user_information{line-height:1em;font-size:85%;color:#000;background-color:transparent;position:absolute;top:0;right:10px;height:70px;width:200px;padding-top:3px;text-align:center;}div#user_information .user_info_actions{margin-top:3px;}.caretfix{overflow:auto;}#bd h1{font-weight:bold;background:#666;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h2{font-weight:bold;background:#999;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h3{font-weight:bold;background:#eee;padding:4px;text-align:left;!
 margin-top:5px;margin-bottom:5px;color:#79B30B color:#36C;}a.nav:hover{background:#000;color:#fff;}a,a:link,a:visited,a:active{background:transparent;color:blue;text-decoration:none;}ol>li,ul>li{margin-left:8px;list-style-position:inside;}ol>li{list-style-type:decimal;}ul>li{list-style-type:disc;}th{font-size:100%;text-align:left;font-weight:bold;}#login_dialog form{margin:0;padding:0;min-width:400px;max-width:600px;}#login_dialog form fieldset{/ * clear:both;note that this clear causes inputs to break to left in ie5.x mac,commented out */ padding:10px;margin:0;border:none;}#login_dialog form label{display:block;float:left;width:150px;padding:0;margin:5px 0 0;text-align:right;font-weight:bold;margin-bottom:0;}#login_dialog form input,form textarea{width:auto;margin:5px 0 0 10px;}#login_dialog form p{font-size:85%;}.row{border-top:1px dotted #666;border-bottom:1px dotted #666;}.row_odd{background:#eee;}.row_even{background:#ddd;}.admin_edited_post{color:#000;background:#ccc;!
 padding:2px;padding-left:10px;padding-right:10px;border:1px da!
 shed #00
0;margin-left:15px;font-size:93%;text-align:right;}.align_right{text-align:right;}.error_messages{margin-top:5px;display:block;line-height:1.7em;padding:5px;background-color:#930;color:#fff;text-transform:none;font-family:Arial,Avenir,"Lucida Grande",Verdana,"Bitstream Vera Sans",Helvetica,sans-serif;font-weight:bold;voice-family:"\"}\"";voice-family:inherit;font-size:1.0em;border:none;}.forum_description{font-size:93%;}.forum_lastpost{font-size:85%;text-align:right;}.forum_lastpost_subject a{color:#79B30B color:#36C;}.forum_link{font-size:100%;font-weight:bold;}.forum_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.forum_mini_pager{font-size:85%;}.forum_mini_pager a{color:#666;}.forum_name{font-size:100%;text-align:left;font-weight:bold;margin-top:5px;}.forum_name a{color:#79B30B color:#36C;}.forum_postcount{font-size!
 :85%;text-align:right;margin-top:5px;}.forum_view{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_view td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.help li{margin-top:25px;margin-right:25px;list-style-type:none;border-left:2px solid #666;padding-top:5px;padding-bottom:5px;padding-left:10px;background-color:#ddd;}.help li ul li,.help li ol li{margin-top:5px;margin-left:10px;list-style-type:disc;border-left:none;padding-left:none;padding-top:none;padding-bottom:none;background-color:transparent;}.innerpost{margin-left:10px;padding:5px;overflow:auto;font-size:93%;}.moderator_list{font-size:77%;margin-bottom:5px;margin-top:5px;text-align:right;}.pager_advanced{font-size:77%;margin-bottom:5px;margin-top:5px;}.post{padding-top:5px;vertical-align:top;border-left:1px solid #ddd;}.post_created{text-align:right;font-size:85%;}.post_creator{font-weight:bold;font-style:italic;font-si!
 ze:85%;}.post_edited_alert{font-weight:bold;font-style:italic;!
 }.post_i
nfo{font-size:77%;line-height:1.1em;margin-top:10px;margin-bottom:2px;text-align:right;}.post_subject{font-weight:bold;}.quote{background-color:#F9FBFF;border:1px solid #333;font-size:85%;margin:0 0 2px 4px;padding:6px;width:85%;overflow:hidden;}.recently_updated{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.recently_updated td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.reply_post_message{border:1px dashed #666;}.search_match_context{font-size:85%;}.search_results{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.search_results td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.service_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.service_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;pa!
 dding-left:10px;padding-right:10px;}.site_terms{width:80%;margin-left:auto;margin-right:auto;margin-bottom:10px;padding:5px;border:1px solid #666;}.thread_add{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_add td{padding-top:4px;padding-bottom:4px;}.thread_add .input_text{width:450px;margin-left:10px;}.thread_add_topic{text-align:right;padding-right:5px;}.thread_add_message{text-align:right;vertical-align:top;padding-right:5px;}.thread_header{font-weight:bold;background:#666;padding:4px;text-align:left;}.thread_header a{color:#ccc;}.thread_info{margin:0;width:100%;border:none;padding:0;margin-bottom:10px;}.thread_info td{border:none;padding:0;}.thread_lastpost{font-size:85%;text-align:right;}.thread_post_row{border-top:1px solid #ddd;border-bottom:1px solid #ddd;}.thread_post_row td{margin-top:10px;margin-bottom:10px;}.thread_posts{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_recent_forum{float:ri!
 ght;font-size:85%;}.thread_recent_forum a{color:#333;}.thread_!
 reply{fo
nt-size:93%;}.thread_reply tr{vertical-align:top;}.thread_reply td{padding-top:10px;padding-left:10px;}.thread_reply textarea{background-color:transparent;border:2px inset black;}.thread_subject a{font-size:93%;color:#79B30B color:#36C;}.thread_watch{margin-top:5px;font-size:77%;text-align:left;}.top_padded{margin-top:10px;}.topic_creator{display:block;font-size:85%;text-align:right;}.user_login form{width:350px;margin-left:auto;margin-right:auto;margin-top:20px;}.user_login p{margin-top:5px;margin-bottom:5px;}.user_permission_list{margin-left:auto;margin-right:auto;margin-top:15px;font-size:93%;width:100%;}.user_permission_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:150%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bottom:5px;}.user_permission_list img{vertical-align:middle;}.forum_moderator_list div input{height:150%;}.forum_moderator_list img{vertical-align:middle;}.user_post_info{background:#ccc;background:transparent;font-si!
 ze:77%;margin-left:auto;margin-right:auto;text-align:center;vertical-align:top;width:110px;}a[href $='.jpg']{padding-left:20px;background:transparent url(/static/images/filetypes/image.png) no-repeat center left;}a[href $='.pdf']{padding-left:20px;background:transparent url(/static/images/filetypes/pdf.png) no-repeat center left;}#loader_wait.yui-overlay{position:fixed;float:right;top:10px;right:10px;border:none;text-align:right;}#preview_overlay{border:1px dashed #ccc;text-align:left;padding:0;}#thread_message{font-family:monospace;text-align:left;padding:0;background-color:#eee;font-size:93%;width:450px;}#ysearch{text-align:center;}#ysearchinput{position:static;width:20em;}#ysearchcontainer{text-align:left;width:20em;}.forumcode_code{font-family:monospace;border:1px solid #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;color:#ff0;background-color:#333;border:1px solid #666;white-space:pre;}.forumcode_pre{background-color:transparent;font-!
 family:monospace;border:1px dashed #333;font-size:85%;margin:1!
 5px 20px
 15px 20px;padding:6px;width:85%;overflow:auto;white-space:pre;}.forumcode_quote{background-color:#eee;font-family:monospace;font-style:italic;border:1px dotted #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;}.forumcode_quoting{font-weight:bold;margin-bottom:3px;}.yuimenuitem .disabled{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-navset .yui-nav,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav{border:solid #333;border-width:0 0 5px;Xposition:relative;zoom:1;}.yui-skin-sam .yui-navset .yui-content{background:transparent;}.yui-skin-sam .yui-navset .yui-nav a,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav a{background-image:none;background-color:#999;border:solid #a3a3a3;border-width:0 1px;color:#fff;text-decoration:none;}.yui-skin-sam .yui-navset .yui-nav .selected a,.yui-skin-sam .yui-navset .yui-nav .selected a:focus,.yui-skin-sam .yui-navset .yui-nav .selected a:hover{background:#333;color:#fff;}.yui-skin-sam .yui-navset .yui-nav!
  a:hover,.yui-skin-sam .yui-navset .yui-nav a:focus{background:#666;color:#fff;outline:0;}
\ No newline at end of file
+body{background-color:#fff;font-family:Verdana,Arial,Helvetica,sans-serif;}#hd{height:80px;line-height:80px;margin:0;padding-left:10px;background:#EEE url('/static/images/parley_logo.jpg') no-repeat left;color:#79B30B color:#36C;}#hd h1{font-size:200%;text-align:left;}div#ft{background:#666;color:#FFF;font-size:77%;margin-top:20px;}div#ft p{border:none;margin-top:30px;padding:5px 10px 5px 10px;text-align:right;display:block;}div#ft a{color:#ccc;}div#Xuser_information{line-height:1em;font-size:85%;color:#000;background-color:transparent;position:absolute;top:0;right:10px;height:70px;width:200px;padding-top:3px;text-align:center;}div#user_information{background-color:transparent;color:#000;font-size:85%;height:70px;line-height:1em;margin-left:760px;padding-top:3px;right:8px;text-align:center;top:0;width:200px;}div#user_information .user_info_actions{margin-top:3px;}.caretfix{overflow:auto;}#bd h1{font-weight:bold;background:#666;padding:4px;text-align:left;margin-top:5px;marg!
 in-bottom:5px;}#bd h2{font-weight:bold;background:#999;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;}#bd h3{font-weight:bold;background:#eee;padding:4px;text-align:left;margin-top:5px;margin-bottom:5px;color:#79B30B color:#36C;}a.nav:hover{background:#000;color:#fff;}a,a:link,a:visited,a:active{background:transparent;color:blue;text-decoration:none;}ol>li,ul>li{margin-left:8px;list-style-position:inside;}ol>li{list-style-type:decimal;}ul>li{list-style-type:disc;}th{font-size:100%;text-align:left;font-weight:bold;}#login_dialog form{margin:0;padding:0;min-width:400px;max-width:600px;}#login_dialog form fieldset{/ * clear:both;note that this clear causes inputs to break to left in ie5.x mac,commented out */ padding:10px;margin:0;border:none;}#login_dialog form label{display:block;float:left;width:150px;padding:0;margin:5px 0 0;text-align:right;font-weight:bold;margin-bottom:0;}#login_dialog form input,form textarea{width:auto;margin:5px 0 0 10px;}#login_dialog!
  form p{font-size:85%;}.row{border-top:1px dotted #666;border-!
 bottom:1
px dotted #666;}.row_odd{background:#eee;}.row_even{background:#ddd;}.add_this{text-align:right;}.admin_edited_post{color:#000;background:#ccc;padding:2px;padding-left:10px;padding-right:10px;border:1px dashed #000;margin-left:15px;font-size:93%;text-align:right;}.align_right{text-align:right;}.error_messages{margin-top:5px;display:block;line-height:1.7em;padding:5px;background-color:#930;color:#fff;text-transform:none;font-family:Arial,Avenir,"Lucida Grande",Verdana,"Bitstream Vera Sans",Helvetica,sans-serif;font-weight:bold;voice-family:"\"}\"";voice-family:inherit;font-size:1.0em;border:none;}.forum_description{font-size:93%;}.forum_lastpost{font-size:85%;text-align:right;}.forum_lastpost_subject a{color:#79B30B color:#36C;}.forum_link{font-size:100%;font-weight:bold;}.forum_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:!
 10px;}.forum_mini_pager{font-size:85%;}.forum_mini_pager a{color:#666;}.forum_name{font-size:100%;text-align:left;font-weight:bold;margin-top:5px;}.forum_name a{color:#79B30B color:#36C;}.forum_postcount{font-size:85%;text-align:right;margin-top:5px;}.forum_view{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.forum_view td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.help li{margin-top:25px;margin-right:25px;list-style-type:none;border-left:2px solid #666;padding-top:5px;padding-bottom:5px;padding-left:10px;background-color:#ddd;}.help li ul li,.help li ol li{margin-top:5px;margin-left:10px;list-style-type:disc;border-left:none;padding-left:none;padding-top:none;padding-bottom:none;background-color:transparent;}.innerpost{margin-left:10px;padding:5px;overflow:auto;font-size:93%;}.moderator_list{font-size:77%;margin-bottom:5px;margin-top:5px;text-align:right;}.pager_advanced{font-s!
 ize:77%;margin-bottom:5px;margin-top:5px;}.post{padding-top:5p!
 x;vertic
al-align:top;border-left:1px solid #ddd;}.post_created{text-align:right;font-size:85%;}.post_creator{font-weight:bold;font-style:italic;font-size:85%;}.post_edited_alert{font-weight:bold;font-style:italic;}.post_info{font-size:77%;line-height:1.1em;margin-top:10px;margin-bottom:2px;text-align:right;}.post_subject{font-weight:bold;}.quote{background-color:#F9FBFF;border:1px solid #333;font-size:85%;margin:0 0 2px 4px;padding:6px;width:85%;overflow:hidden;}.recently_updated{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.recently_updated td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.reply_post_message{border:1px dashed #666;}.search_match_context{font-size:85%;}.search_results{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.search_results td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;padd!
 ing-top:5px;padding-bottom:5px;}.service_list{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.service_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:120%;padding-left:10px;padding-right:10px;}.site_terms{width:80%;margin-left:auto;margin-right:auto;margin-bottom:10px;padding:5px;border:1px solid #666;}.thread_add{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_add td{padding-top:4px;padding-bottom:4px;}.thread_add .input_text{width:450px;margin-left:10px;}.thread_add_topic{text-align:right;padding-right:5px;}.thread_add_message{text-align:right;vertical-align:top;padding-right:5px;}.thread_header{font-weight:bold;background:#666;padding:4px;text-align:left;}.thread_header a{color:#ccc;}.thread_info{margin:0;width:100%;border:none;padding:0;margin-bottom:10px;}.thread_info td{border:none;padding:0;}.thread_lastpost{font-size:85%;text-align:right;}.thread_post_row{border-top:1px soli!
 d #ddd;border-bottom:1px solid #ddd;}.thread_post_row td{margi!
 n-top:10
px;margin-bottom:10px;}.thread_posts{margin-left:auto;margin-right:auto;margin-top:15px;width:100%;font-size:93%;}.thread_recent_forum{float:right;font-size:85%;}.thread_recent_forum a{color:#333;}.thread_reply{font-size:93%;}.thread_reply tr{vertical-align:top;}.thread_reply td{padding-top:10px;padding-left:10px;}.thread_reply textarea{background-color:transparent;border:2px inset black;}.thread_subject a{font-size:93%;color:#79B30B color:#36C;}.thread_watch{margin-top:5px;font-size:77%;text-align:left;}.top_padded{margin-top:10px;}.topic_creator{display:block;font-size:85%;text-align:right;}.user_login form{width:350px;margin-left:auto;margin-right:auto;margin-top:20px;}.user_login p{margin-top:5px;margin-bottom:5px;}.user_permission_list{margin-left:auto;margin-right:auto;margin-top:15px;font-size:93%;width:100%;}.user_permission_list td{vertical-align:top;border:1px dashed #ddd;border:none;line-height:150%;padding-left:10px;padding-right:10px;padding-top:5px;padding-bott!
 om:5px;}.user_permission_list img{vertical-align:middle;}.forum_moderator_list div input{height:150%;}.forum_moderator_list img{vertical-align:middle;}.user_post_info{background:#ccc;background:transparent;font-size:77%;margin-left:auto;margin-right:auto;text-align:center;vertical-align:top;width:110px;}a[href $='.jpg']{padding-left:20px;background:transparent url(/static/images/filetypes/image.png) no-repeat center left;}a[href $='.pdf']{padding-left:20px;background:transparent url(/static/images/filetypes/pdf.png) no-repeat center left;}#loader_wait.yui-overlay{position:fixed;float:right;top:10px;right:10px;border:none;text-align:right;}#preview_overlay{border:1px dashed #ccc;text-align:left;padding:0;}#thread_message{font-family:monospace;text-align:left;padding:0;background-color:#eee;font-size:93%;width:450px;}#validation_errors{display:block;font-size:83%;border:1px dashed #89d;margin-top:10px;margin-bottom:10px;margin-left:25px;margin-right:25px;padding:3px;}#ysearch!
 {text-align:center;}#ysearchinput{position:static;width:20em;}!
 #ysearch
container{text-align:left;width:20em;}.forumcode_code{font-family:monospace;border:1px solid #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;color:#ff0;background-color:#333;border:1px solid #666;white-space:pre;}.forumcode_pre{background-color:transparent;font-family:monospace;border:1px dashed #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;white-space:pre;}.forumcode_quote{background-color:#eee;font-family:monospace;font-style:italic;border:1px dotted #333;font-size:85%;margin:15px 20px 15px 20px;padding:6px;width:85%;overflow:auto;}.forumcode_quoting{font-weight:bold;margin-bottom:3px;}.yuimenuitem .disabled{color:#A6A6A6;cursor:default;}.yui-skin-sam .yui-navset .yui-nav,.yui-skin-sam .yui-navset .yui-navset-top .yui-nav{border:solid #333;border-width:0 0 5px;Xposition:relative;zoom:1;}.yui-skin-sam .yui-navset .yui-content{background:transparent;}.yui-skin-sam .yui-navset .yui-nav a,.yui-skin-sam .yui-!
 navset .yui-navset-top .yui-nav a{background-image:none;background-color:#999;border:solid #a3a3a3;border-width:0 1px;color:#fff;text-decoration:none;}.yui-skin-sam .yui-navset .yui-nav .selected a,.yui-skin-sam .yui-navset .yui-nav .selected a:focus,.yui-skin-sam .yui-navset .yui-nav .selected a:hover{background:#333;color:#fff;}.yui-skin-sam .yui-navset .yui-nav a:hover,.yui-skin-sam .yui-navset .yui-nav a:focus{background:#666;color:#fff;outline:0;}
\ No newline at end of file

Modified: trunk/root/static/css/parley.css
===================================================================
--- trunk/root/static/css/parley.css	2008-12-30 02:23:07 UTC (rev 1025)
+++ trunk/root/static/css/parley.css	2008-12-30 02:27:30 UTC (rev 1026)
@@ -24,7 +24,7 @@
 div#ft p {border:none;margin-top:30px;padding:5px 10px 5px 10px; text-align:right;display:block;}
 div#ft a {color: #ccc;}
 
-div#user_information {
+div#Xuser_information {
     line-height:        1em;
     font-size:          85%;
     color:              #000;
@@ -37,6 +37,19 @@
     padding-top:        3px;
     text-align:         center;
 }
+div#user_information {
+    background-color:   transparent;
+    color:              #000000;
+    font-size:          85%;
+    height:             70px;
+    line-height:        1em;
+    margin-left:        760px;
+    padding-top:        3px;
+    right:              8px;
+    text-align:         center;
+    top:                0px;
+    width:              200px;
+}
 
 div#user_information .user_info_actions {
     margin-top:         3px;
@@ -159,6 +172,10 @@
 
 /* style classes */
 
+.add_this {
+    text-align:         right;
+}
+
 .admin_edited_post {
     color:              #000;
     background:         #ccc;
@@ -620,6 +637,17 @@
     width:              450px;
 }
 
+#validation_errors {
+    display:            block;
+    font-size:          83%;
+    border:             1px dashed #89d;
+    margin-top:         10px;
+    margin-bottom:      10px;
+    margin-left:        25px;
+    margin-right:       25px;
+    padding:            3px;
+}
+
 #ysearch {
     text-align:         center;
 }



From chiselwright at mail.berlios.de  Tue Dec 30 03:36:34 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 30 Dec 2008 03:36:34 +0100
Subject: [Parley-svn] r1027 - / branches/parley-1.1/root/skin2/search
Message-ID: <200812300236.mBU2aYIt023583@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-30 03:36:33 +0100 (Tue, 30 Dec 2008)
New Revision: 1027

Added:
   branches/parley-1.1/root/skin2/search/advanced
   branches/parley-1.1/root/skin2/search/results
Modified:
   /
Log:
 r8885 at wiggin:  chisel | 2008-12-30 02:34:45 +0000
 added dummy files
 (
   hopefully to get round:
    Filesystem has no item: File not found: revision 8713, path
    '/local/parley/branches/parley-1.1/root/skin2/search/advanced'
 )



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8883
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8885
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: branches/parley-1.1/root/skin2/search/advanced
===================================================================
--- branches/parley-1.1/root/skin2/search/advanced	2008-12-30 02:27:30 UTC (rev 1026)
+++ branches/parley-1.1/root/skin2/search/advanced	2008-12-30 02:36:33 UTC (rev 1027)
@@ -0,0 +1 @@
+DUMMY

Added: branches/parley-1.1/root/skin2/search/results
===================================================================
--- branches/parley-1.1/root/skin2/search/results	2008-12-30 02:27:30 UTC (rev 1026)
+++ branches/parley-1.1/root/skin2/search/results	2008-12-30 02:36:33 UTC (rev 1027)
@@ -0,0 +1 @@
+DUMMY



From chiselwright at mail.berlios.de  Tue Dec 30 03:48:27 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 30 Dec 2008 03:48:27 +0100
Subject: [Parley-svn] r1028 - / branches/parley-1.1/root
Message-ID: <200812300248.mBU2mR2u024326@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-30 03:48:26 +0100 (Tue, 30 Dec 2008)
New Revision: 1028

Removed:
   branches/parley-1.1/root/skin2/
Modified:
   /
Log:
 r8887 at wiggin:  chisel | 2008-12-30 02:42:10 +0000
 Meh!



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8885
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8887
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222



From chiselwright at mail.berlios.de  Tue Dec 30 03:48:36 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 30 Dec 2008 03:48:36 +0100
Subject: [Parley-svn] r1029 - / trunk/root
Message-ID: <200812300248.mBU2mafS024396@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-30 03:48:35 +0100 (Tue, 30 Dec 2008)
New Revision: 1029

Removed:
   trunk/root/skin2/
Modified:
   /
Log:
 r8888 at wiggin:  chisel | 2008-12-30 02:43:15 +0000
 Meh



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8887
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8888
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222



From chiselwright at mail.berlios.de  Tue Dec 30 03:48:54 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 30 Dec 2008 03:48:54 +0100
Subject: [Parley-svn] r1030 - / branches/parley-1.1
	branches/parley-1.1/root/static branches/parley-1.1/root/static/yui
	branches/parley-1.1/t.output
Message-ID: <200812300248.mBU2msqp024469@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-30 03:48:47 +0100 (Tue, 30 Dec 2008)
New Revision: 1030

Added:
   branches/parley-1.1/root/static/yui/
   branches/parley-1.1/root/static/yui/animation/
   branches/parley-1.1/root/static/yui/assets/
   branches/parley-1.1/root/static/yui/autocomplete/
   branches/parley-1.1/root/static/yui/base/
   branches/parley-1.1/root/static/yui/button/
   branches/parley-1.1/root/static/yui/calendar/
   branches/parley-1.1/root/static/yui/carousel/
   branches/parley-1.1/root/static/yui/charts/
   branches/parley-1.1/root/static/yui/colorpicker/
   branches/parley-1.1/root/static/yui/connection/
   branches/parley-1.1/root/static/yui/container/
   branches/parley-1.1/root/static/yui/cookie/
   branches/parley-1.1/root/static/yui/datasource/
   branches/parley-1.1/root/static/yui/datatable/
   branches/parley-1.1/root/static/yui/dom/
   branches/parley-1.1/root/static/yui/dragdrop/
   branches/parley-1.1/root/static/yui/editor/
   branches/parley-1.1/root/static/yui/element/
   branches/parley-1.1/root/static/yui/event/
   branches/parley-1.1/root/static/yui/fonts/
   branches/parley-1.1/root/static/yui/get/
   branches/parley-1.1/root/static/yui/grids/
   branches/parley-1.1/root/static/yui/history/
   branches/parley-1.1/root/static/yui/imagecropper/
   branches/parley-1.1/root/static/yui/imageloader/
   branches/parley-1.1/root/static/yui/json/
   branches/parley-1.1/root/static/yui/layout/
   branches/parley-1.1/root/static/yui/logger/
   branches/parley-1.1/root/static/yui/menu/
   branches/parley-1.1/root/static/yui/paginator/
   branches/parley-1.1/root/static/yui/profiler/
   branches/parley-1.1/root/static/yui/profilerviewer/
   branches/parley-1.1/root/static/yui/reset-fonts-grids/
   branches/parley-1.1/root/static/yui/reset-fonts/
   branches/parley-1.1/root/static/yui/reset/
   branches/parley-1.1/root/static/yui/resize/
   branches/parley-1.1/root/static/yui/selector/
   branches/parley-1.1/root/static/yui/slider/
   branches/parley-1.1/root/static/yui/tabview/
   branches/parley-1.1/root/static/yui/treeview/
   branches/parley-1.1/root/static/yui/uploader/
   branches/parley-1.1/root/static/yui/utilities/
   branches/parley-1.1/root/static/yui/yahoo-dom-event/
   branches/parley-1.1/root/static/yui/yahoo/
   branches/parley-1.1/root/static/yui/yuiloader-dom-event/
   branches/parley-1.1/root/static/yui/yuiloader/
   branches/parley-1.1/root/static/yui/yuitest/
   branches/parley-1.1/t.output/1.0.4
Removed:
   branches/parley-1.1/root/static/yui
   branches/parley-1.1/root/static/yui_2.6.0/
Modified:
   /
   branches/parley-1.1/
   branches/parley-1.1/Changes
   branches/parley-1.1/MANIFEST
   branches/parley-1.1/Makefile.PL
Log:
 r8889 at wiggin:  chisel | 2008-12-30 02:43:31 +0000
 trunk --> branch update



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8888
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8889
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222


Property changes on: branches/parley-1.1
___________________________________________________________________
Name: svk:merge
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/branches/schema_based:562
6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/tags/parley-1.0.3:8686
6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/tags/parley-1.0.4:8698
6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley/trunk:8888
f74ee645-c3e3-0310-be06-c791151d01b6:/branches/schema_based:258

Modified: branches/parley-1.1/Changes
===================================================================
--- branches/parley-1.1/Changes	2008-12-30 02:48:35 UTC (rev 1029)
+++ branches/parley-1.1/Changes	2008-12-30 02:48:47 UTC (rev 1030)
@@ -8,6 +8,11 @@
       can place this div inside it (instead of flushed to the RHS of the
       page/window)
 
+1.0.4   Wed Dec 24 18:54:24 GMT 2008
+    - fixed skin2
+    - remove yui/ softlink
+    - made yui_2.6.0/ into yui/
+
 1.0.3   Tue Dec 23 09:34:32 GMT 2008
     - switch to database store for sessions
     - upgrade to YUI 2.6.0

Modified: branches/parley-1.1/MANIFEST
===================================================================
--- branches/parley-1.1/MANIFEST	2008-12-30 02:48:35 UTC (rev 1029)
+++ branches/parley-1.1/MANIFEST	2008-12-30 02:48:47 UTC (rev 1030)
@@ -39,7 +39,6 @@
 inc/Module/Install/Metadata.pm
 inc/Module/Install/Win32.pm
 inc/Module/Install/WriteAll.pm
-lib/Catalyst/Plugin/Dumper.pm
 lib/Parley.pm
 lib/Parley/App/Communication/Email.pm
 lib/Parley/App/DateTime.pm
@@ -120,7 +119,6 @@
 root/base/help/i_default/contents
 root/base/help/i_default/faq
 root/base/help/i_default/formatting_posts
-root/base/help/i_default/wide
 root/base/help/unknown
 root/base/menu/left/main
 root/base/menu/menubar
@@ -163,7 +161,6 @@
 root/base/thread/add
 root/base/thread/recent
 root/base/thread/reply
-root/base/thread/reply-yuirte
 root/base/thread/view
 root/base/thread/watches
 root/base/user/access_ip_banned
@@ -205,7 +202,6 @@
 root/skin2/help/i_default/contents
 root/skin2/help/i_default/faq
 root/skin2/help/i_default/formatting_posts
-root/skin2/help/i_default/wide
 root/skin2/help/unknown
 root/skin2/menu/left/main
 root/skin2/menu/menubar
@@ -214,6 +210,7 @@
 root/skin2/my/selectplace_ajaxresult
 root/skin2/my/tab_avatar
 root/skin2/my/tab_notifications
+root/skin2/my/tab_skin
 root/skin2/my/tab_time
 root/skin2/my/tab_watch
 root/skin2/my/tab_you
@@ -247,7 +244,6 @@
 root/skin2/thread/add
 root/skin2/thread/recent
 root/skin2/thread/reply
-root/skin2/thread/reply-yuirte
 root/skin2/thread/view
 root/skin2/thread/watches
 root/skin2/user/access_ip_banned
@@ -554,383 +550,383 @@
 root/static/script/prototype.js
 root/static/script/user_forum_moderate.js
 root/static/script/user_suspend.js
-root/static/yui_2.6.0/animation/animation-debug.js
-root/static/yui_2.6.0/animation/animation-min.js
-root/static/yui_2.6.0/animation/animation.js
-root/static/yui_2.6.0/animation/README
-root/static/yui_2.6.0/assets/skins/sam/asc.gif
-root/static/yui_2.6.0/assets/skins/sam/autocomplete.css
-root/static/yui_2.6.0/assets/skins/sam/blankimage.png
-root/static/yui_2.6.0/assets/skins/sam/button.css
-root/static/yui_2.6.0/assets/skins/sam/calendar.css
-root/static/yui_2.6.0/assets/skins/sam/carousel.css
-root/static/yui_2.6.0/assets/skins/sam/colorpicker.css
-root/static/yui_2.6.0/assets/skins/sam/container.css
-root/static/yui_2.6.0/assets/skins/sam/datatable.css
-root/static/yui_2.6.0/assets/skins/sam/desc.gif
-root/static/yui_2.6.0/assets/skins/sam/dt-arrow-dn.png
-root/static/yui_2.6.0/assets/skins/sam/dt-arrow-up.png
-root/static/yui_2.6.0/assets/skins/sam/editor-knob.gif
-root/static/yui_2.6.0/assets/skins/sam/editor-sprite-active.gif
-root/static/yui_2.6.0/assets/skins/sam/editor-sprite.gif
-root/static/yui_2.6.0/assets/skins/sam/editor.css
-root/static/yui_2.6.0/assets/skins/sam/header_background.png
-root/static/yui_2.6.0/assets/skins/sam/hue_bg.png
-root/static/yui_2.6.0/assets/skins/sam/imagecropper.css
-root/static/yui_2.6.0/assets/skins/sam/layout.css
-root/static/yui_2.6.0/assets/skins/sam/layout_sprite.png
-root/static/yui_2.6.0/assets/skins/sam/loading.gif
-root/static/yui_2.6.0/assets/skins/sam/logger.css
-root/static/yui_2.6.0/assets/skins/sam/menu-button-arrow-disabled.png
-root/static/yui_2.6.0/assets/skins/sam/menu-button-arrow.png
-root/static/yui_2.6.0/assets/skins/sam/menu.css
-root/static/yui_2.6.0/assets/skins/sam/menubaritem_submenuindicator.png
-root/static/yui_2.6.0/assets/skins/sam/menubaritem_submenuindicator_disabled.png
-root/static/yui_2.6.0/assets/skins/sam/menuitem_checkbox.png
-root/static/yui_2.6.0/assets/skins/sam/menuitem_checkbox_disabled.png
-root/static/yui_2.6.0/assets/skins/sam/menuitem_submenuindicator.png
-root/static/yui_2.6.0/assets/skins/sam/menuitem_submenuindicator_disabled.png
-root/static/yui_2.6.0/assets/skins/sam/paginator.css
-root/static/yui_2.6.0/assets/skins/sam/picker_mask.png
-root/static/yui_2.6.0/assets/skins/sam/profilerviewer.css
-root/static/yui_2.6.0/assets/skins/sam/resize.css
-root/static/yui_2.6.0/assets/skins/sam/simpleeditor.css
-root/static/yui_2.6.0/assets/skins/sam/skin.css
-root/static/yui_2.6.0/assets/skins/sam/slider.css
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow-active.png
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow-disabled.png
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow-focus.png
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow-hover.png
-root/static/yui_2.6.0/assets/skins/sam/split-button-arrow.png
-root/static/yui_2.6.0/assets/skins/sam/sprite.png
-root/static/yui_2.6.0/assets/skins/sam/sprite.psd
-root/static/yui_2.6.0/assets/skins/sam/tabview.css
-root/static/yui_2.6.0/assets/skins/sam/treeview-loading.gif
-root/static/yui_2.6.0/assets/skins/sam/treeview-sprite.gif
-root/static/yui_2.6.0/assets/skins/sam/treeview.css
-root/static/yui_2.6.0/assets/skins/sam/wait.gif
-root/static/yui_2.6.0/assets/skins/sam/yuitest.css
-root/static/yui_2.6.0/autocomplete/assets/autocomplete-core.css
-root/static/yui_2.6.0/autocomplete/assets/skins/sam/autocomplete-skin.css
-root/static/yui_2.6.0/autocomplete/assets/skins/sam/autocomplete.css
-root/static/yui_2.6.0/autocomplete/autocomplete-debug.js
-root/static/yui_2.6.0/autocomplete/autocomplete-min.js
-root/static/yui_2.6.0/autocomplete/autocomplete.js
-root/static/yui_2.6.0/autocomplete/README
-root/static/yui_2.6.0/base/base-min.css
-root/static/yui_2.6.0/base/base.css
-root/static/yui_2.6.0/base/README
-root/static/yui_2.6.0/button/assets/button-core.css
-root/static/yui_2.6.0/button/assets/skins/sam/button-skin.css
-root/static/yui_2.6.0/button/assets/skins/sam/button.css
-root/static/yui_2.6.0/button/assets/skins/sam/menu-button-arrow-disabled.png
-root/static/yui_2.6.0/button/assets/skins/sam/menu-button-arrow.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow-active.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow-disabled.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow-focus.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow-hover.png
-root/static/yui_2.6.0/button/assets/skins/sam/split-button-arrow.png
-root/static/yui_2.6.0/button/button-debug.js
-root/static/yui_2.6.0/button/button-min.js
-root/static/yui_2.6.0/button/button.js
-root/static/yui_2.6.0/button/README
-root/static/yui_2.6.0/calendar/assets/calendar-core.css
-root/static/yui_2.6.0/calendar/assets/calendar.css
-root/static/yui_2.6.0/calendar/assets/calgrad.png
-root/static/yui_2.6.0/calendar/assets/callt.gif
-root/static/yui_2.6.0/calendar/assets/calrt.gif
-root/static/yui_2.6.0/calendar/assets/calx.gif
-root/static/yui_2.6.0/calendar/assets/skins/sam/calendar-skin.css
-root/static/yui_2.6.0/calendar/assets/skins/sam/calendar.css
-root/static/yui_2.6.0/calendar/calendar-debug.js
-root/static/yui_2.6.0/calendar/calendar-min.js
-root/static/yui_2.6.0/calendar/calendar.js
-root/static/yui_2.6.0/calendar/README
-root/static/yui_2.6.0/carousel/assets/ajax-loader.gif
-root/static/yui_2.6.0/carousel/assets/carousel-core.css
-root/static/yui_2.6.0/carousel/assets/skins/sam/carousel-skin.css
-root/static/yui_2.6.0/carousel/assets/skins/sam/carousel.css
-root/static/yui_2.6.0/carousel/carousel-beta-debug.js
-root/static/yui_2.6.0/carousel/carousel-beta-min.js
-root/static/yui_2.6.0/carousel/carousel-beta.js
-root/static/yui_2.6.0/carousel/README
-root/static/yui_2.6.0/charts/assets/charts.swf
-root/static/yui_2.6.0/charts/charts-experimental-debug.js
-root/static/yui_2.6.0/charts/charts-experimental-min.js
-root/static/yui_2.6.0/charts/charts-experimental.js
-root/static/yui_2.6.0/charts/README
-root/static/yui_2.6.0/colorpicker/assets/colorpicker-core.css
-root/static/yui_2.6.0/colorpicker/assets/hue_thumb.png
-root/static/yui_2.6.0/colorpicker/assets/picker_mask.png
-root/static/yui_2.6.0/colorpicker/assets/picker_thumb.png
-root/static/yui_2.6.0/colorpicker/assets/skins/sam/colorpicker-skin.css
-root/static/yui_2.6.0/colorpicker/assets/skins/sam/colorpicker.css
-root/static/yui_2.6.0/colorpicker/assets/skins/sam/hue_bg.png
-root/static/yui_2.6.0/colorpicker/assets/skins/sam/picker_mask.png
-root/static/yui_2.6.0/colorpicker/colorpicker-debug.js
-root/static/yui_2.6.0/colorpicker/colorpicker-min.js
-root/static/yui_2.6.0/colorpicker/colorpicker.js
-root/static/yui_2.6.0/colorpicker/README
-root/static/yui_2.6.0/connection/connection-debug.js
-root/static/yui_2.6.0/connection/connection-min.js
-root/static/yui_2.6.0/connection/connection.js
-root/static/yui_2.6.0/connection/README
-root/static/yui_2.6.0/container/assets/alrt16_1.gif
-root/static/yui_2.6.0/container/assets/blck16_1.gif
-root/static/yui_2.6.0/container/assets/close12_1.gif
-root/static/yui_2.6.0/container/assets/container-core.css
-root/static/yui_2.6.0/container/assets/container.css
-root/static/yui_2.6.0/container/assets/hlp16_1.gif
-root/static/yui_2.6.0/container/assets/info16_1.gif
-root/static/yui_2.6.0/container/assets/skins/sam/container-skin.css
-root/static/yui_2.6.0/container/assets/skins/sam/container.css
-root/static/yui_2.6.0/container/assets/tip16_1.gif
-root/static/yui_2.6.0/container/assets/warn16_1.gif
-root/static/yui_2.6.0/container/container-debug.js
-root/static/yui_2.6.0/container/container-min.js
-root/static/yui_2.6.0/container/container.js
-root/static/yui_2.6.0/container/container_core-debug.js
-root/static/yui_2.6.0/container/container_core-min.js
-root/static/yui_2.6.0/container/container_core.js
-root/static/yui_2.6.0/container/README
-root/static/yui_2.6.0/cookie/cookie-debug.js
-root/static/yui_2.6.0/cookie/cookie-min.js
-root/static/yui_2.6.0/cookie/cookie.js
-root/static/yui_2.6.0/cookie/README
-root/static/yui_2.6.0/datasource/datasource-debug.js
-root/static/yui_2.6.0/datasource/datasource-min.js
-root/static/yui_2.6.0/datasource/datasource.js
-root/static/yui_2.6.0/datasource/README
-root/static/yui_2.6.0/datatable/assets/datatable-core.css
-root/static/yui_2.6.0/datatable/assets/datatable.css
-root/static/yui_2.6.0/datatable/assets/skins/sam/datatable-skin.css
-root/static/yui_2.6.0/datatable/assets/skins/sam/datatable.css
-root/static/yui_2.6.0/datatable/assets/skins/sam/dt-arrow-dn.png
-root/static/yui_2.6.0/datatable/assets/skins/sam/dt-arrow-up.png
-root/static/yui_2.6.0/datatable/datatable-debug.js
-root/static/yui_2.6.0/datatable/datatable-min.js
-root/static/yui_2.6.0/datatable/datatable.js
-root/static/yui_2.6.0/datatable/README
-root/static/yui_2.6.0/dom/dom-debug.js
-root/static/yui_2.6.0/dom/dom-min.js
-root/static/yui_2.6.0/dom/dom.js
-root/static/yui_2.6.0/dom/README
-root/static/yui_2.6.0/dragdrop/dragdrop-debug.js
-root/static/yui_2.6.0/dragdrop/dragdrop-min.js
-root/static/yui_2.6.0/dragdrop/dragdrop.js
-root/static/yui_2.6.0/dragdrop/README
-root/static/yui_2.6.0/editor/assets/editor-core.css
-root/static/yui_2.6.0/editor/assets/simpleeditor-core.css
-root/static/yui_2.6.0/editor/assets/skins/sam/blankimage.png
-root/static/yui_2.6.0/editor/assets/skins/sam/editor-knob.gif
-root/static/yui_2.6.0/editor/assets/skins/sam/editor-skin.css
-root/static/yui_2.6.0/editor/assets/skins/sam/editor-sprite-active.gif
-root/static/yui_2.6.0/editor/assets/skins/sam/editor-sprite.gif
-root/static/yui_2.6.0/editor/assets/skins/sam/editor.css
-root/static/yui_2.6.0/editor/assets/skins/sam/simpleeditor-skin.css
-root/static/yui_2.6.0/editor/assets/skins/sam/simpleeditor.css
-root/static/yui_2.6.0/editor/editor-debug.js
-root/static/yui_2.6.0/editor/editor-min.js
-root/static/yui_2.6.0/editor/editor.js
-root/static/yui_2.6.0/editor/README
-root/static/yui_2.6.0/editor/simpleeditor-debug.js
-root/static/yui_2.6.0/editor/simpleeditor-min.js
-root/static/yui_2.6.0/editor/simpleeditor.js
-root/static/yui_2.6.0/element/element-beta-debug.js
-root/static/yui_2.6.0/element/element-beta-min.js
-root/static/yui_2.6.0/element/element-beta.js
-root/static/yui_2.6.0/element/README
-root/static/yui_2.6.0/event/event-debug.js
-root/static/yui_2.6.0/event/event-min.js
-root/static/yui_2.6.0/event/event.js
-root/static/yui_2.6.0/event/README
-root/static/yui_2.6.0/fonts/fonts-min.css
-root/static/yui_2.6.0/fonts/fonts.css
-root/static/yui_2.6.0/fonts/README
-root/static/yui_2.6.0/get/get-debug.js
-root/static/yui_2.6.0/get/get-min.js
-root/static/yui_2.6.0/get/get.js
-root/static/yui_2.6.0/get/README
-root/static/yui_2.6.0/grids/grids-min.css
-root/static/yui_2.6.0/grids/grids.css
-root/static/yui_2.6.0/grids/README
-root/static/yui_2.6.0/history/assets/blank.html
-root/static/yui_2.6.0/history/history-debug.js
-root/static/yui_2.6.0/history/history-min.js
-root/static/yui_2.6.0/history/history.js
-root/static/yui_2.6.0/history/README
-root/static/yui_2.6.0/imagecropper/assets/imagecropper-core.css
-root/static/yui_2.6.0/imagecropper/assets/skins/sam/imagecropper-skin.css
-root/static/yui_2.6.0/imagecropper/assets/skins/sam/imagecropper.css
-root/static/yui_2.6.0/imagecropper/imagecropper-beta-debug.js
-root/static/yui_2.6.0/imagecropper/imagecropper-beta-min.js
-root/static/yui_2.6.0/imagecropper/imagecropper-beta.js
-root/static/yui_2.6.0/imagecropper/README
-root/static/yui_2.6.0/imageloader/imageloader-debug.js
-root/static/yui_2.6.0/imageloader/imageloader-min.js
-root/static/yui_2.6.0/imageloader/imageloader.js
-root/static/yui_2.6.0/imageloader/README
-root/static/yui_2.6.0/json/json-debug.js
-root/static/yui_2.6.0/json/json-min.js
-root/static/yui_2.6.0/json/json.js
-root/static/yui_2.6.0/json/README
-root/static/yui_2.6.0/layout/assets/layout-core.css
-root/static/yui_2.6.0/layout/assets/skins/sam/layout-skin.css
-root/static/yui_2.6.0/layout/assets/skins/sam/layout.css
-root/static/yui_2.6.0/layout/assets/skins/sam/layout_sprite.png
-root/static/yui_2.6.0/layout/layout-debug.js
-root/static/yui_2.6.0/layout/layout-min.js
-root/static/yui_2.6.0/layout/layout.js
-root/static/yui_2.6.0/layout/README
-root/static/yui_2.6.0/logger/assets/logger-core.css
-root/static/yui_2.6.0/logger/assets/logger.css
-root/static/yui_2.6.0/logger/assets/skins/sam/logger-skin.css
-root/static/yui_2.6.0/logger/assets/skins/sam/logger.css
-root/static/yui_2.6.0/logger/logger-debug.js
-root/static/yui_2.6.0/logger/logger-min.js
-root/static/yui_2.6.0/logger/logger.js
-root/static/yui_2.6.0/logger/README
-root/static/yui_2.6.0/menu/assets/menu-core.css
-root/static/yui_2.6.0/menu/assets/menu.css
-root/static/yui_2.6.0/menu/assets/menu_down_arrow.png
-root/static/yui_2.6.0/menu/assets/menu_down_arrow_disabled.png
-root/static/yui_2.6.0/menu/assets/menu_up_arrow.png
-root/static/yui_2.6.0/menu/assets/menu_up_arrow_disabled.png
-root/static/yui_2.6.0/menu/assets/menubaritem_submenuindicator.png
-root/static/yui_2.6.0/menu/assets/menubaritem_submenuindicator_disabled.png
-root/static/yui_2.6.0/menu/assets/menubaritem_submenuindicator_selected.png
-root/static/yui_2.6.0/menu/assets/menuitem_checkbox.png
-root/static/yui_2.6.0/menu/assets/menuitem_checkbox_disabled.png
-root/static/yui_2.6.0/menu/assets/menuitem_checkbox_selected.png
-root/static/yui_2.6.0/menu/assets/menuitem_submenuindicator.png
-root/static/yui_2.6.0/menu/assets/menuitem_submenuindicator_disabled.png
-root/static/yui_2.6.0/menu/assets/menuitem_submenuindicator_selected.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menu-skin.css
-root/static/yui_2.6.0/menu/assets/skins/sam/menu.css
-root/static/yui_2.6.0/menu/assets/skins/sam/menubaritem_submenuindicator.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menubaritem_submenuindicator_disabled.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menuitem_checkbox.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menuitem_checkbox_disabled.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menuitem_submenuindicator.png
-root/static/yui_2.6.0/menu/assets/skins/sam/menuitem_submenuindicator_disabled.png
-root/static/yui_2.6.0/menu/menu-debug.js
-root/static/yui_2.6.0/menu/menu-min.js
-root/static/yui_2.6.0/menu/menu.js
-root/static/yui_2.6.0/menu/README
-root/static/yui_2.6.0/paginator/assets/paginator-core.css
-root/static/yui_2.6.0/paginator/assets/skins/sam/paginator-skin.css
-root/static/yui_2.6.0/paginator/assets/skins/sam/paginator.css
-root/static/yui_2.6.0/paginator/paginator-debug.js
-root/static/yui_2.6.0/paginator/paginator-min.js
-root/static/yui_2.6.0/paginator/paginator.js
-root/static/yui_2.6.0/paginator/README
-root/static/yui_2.6.0/profiler/profiler-debug.js
-root/static/yui_2.6.0/profiler/profiler-min.js
-root/static/yui_2.6.0/profiler/profiler.js
-root/static/yui_2.6.0/profiler/README
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/asc.gif
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/desc.gif
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/header_background.png
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/profilerviewer.css
-root/static/yui_2.6.0/profilerviewer/assets/skins/sam/wait.gif
-root/static/yui_2.6.0/profilerviewer/profilerviewer-beta-debug.js
-root/static/yui_2.6.0/profilerviewer/profilerviewer-beta-min.js
-root/static/yui_2.6.0/profilerviewer/profilerviewer-beta.js
-root/static/yui_2.6.0/profilerviewer/README
-root/static/yui_2.6.0/reset-fonts-grids/README
-root/static/yui_2.6.0/reset-fonts-grids/reset-fonts-grids.css
-root/static/yui_2.6.0/reset-fonts/README
-root/static/yui_2.6.0/reset-fonts/reset-fonts.css
-root/static/yui_2.6.0/reset/README
-root/static/yui_2.6.0/reset/reset-min.css
-root/static/yui_2.6.0/reset/reset.css
-root/static/yui_2.6.0/resize/assets/resize-core.css
-root/static/yui_2.6.0/resize/assets/skins/sam/layout_sprite.png
-root/static/yui_2.6.0/resize/assets/skins/sam/resize-skin.css
-root/static/yui_2.6.0/resize/assets/skins/sam/resize.css
-root/static/yui_2.6.0/resize/README
-root/static/yui_2.6.0/resize/resize-debug.js
-root/static/yui_2.6.0/resize/resize-min.js
-root/static/yui_2.6.0/resize/resize.js
-root/static/yui_2.6.0/selector/README
-root/static/yui_2.6.0/selector/selector-beta-debug.js
-root/static/yui_2.6.0/selector/selector-beta-min.js
-root/static/yui_2.6.0/selector/selector-beta.js
-root/static/yui_2.6.0/slider/assets/bg-fader.gif
-root/static/yui_2.6.0/slider/assets/bg-h.gif
-root/static/yui_2.6.0/slider/assets/bg-v-e.gif
-root/static/yui_2.6.0/slider/assets/bg-v.gif
-root/static/yui_2.6.0/slider/assets/left-thumb.png
-root/static/yui_2.6.0/slider/assets/right-thumb.png
-root/static/yui_2.6.0/slider/assets/skins/sam/slider-skin.css
-root/static/yui_2.6.0/slider/assets/skins/sam/slider.css
-root/static/yui_2.6.0/slider/assets/slider-core.css
-root/static/yui_2.6.0/slider/assets/thumb-bar.gif
-root/static/yui_2.6.0/slider/assets/thumb-e.gif
-root/static/yui_2.6.0/slider/assets/thumb-fader.gif
-root/static/yui_2.6.0/slider/assets/thumb-n.gif
-root/static/yui_2.6.0/slider/assets/thumb-s.gif
-root/static/yui_2.6.0/slider/assets/thumb-w.gif
-root/static/yui_2.6.0/slider/README
-root/static/yui_2.6.0/slider/slider-debug.js
-root/static/yui_2.6.0/slider/slider-min.js
-root/static/yui_2.6.0/slider/slider.js
-root/static/yui_2.6.0/tabview/assets/border_tabs.css
-root/static/yui_2.6.0/tabview/assets/loading.gif
-root/static/yui_2.6.0/tabview/assets/skin-sam.css
-root/static/yui_2.6.0/tabview/assets/skins/sam/tabview-skin.css
-root/static/yui_2.6.0/tabview/assets/skins/sam/tabview.css
-root/static/yui_2.6.0/tabview/assets/tabview-core.css
-root/static/yui_2.6.0/tabview/assets/tabview.css
-root/static/yui_2.6.0/tabview/README
-root/static/yui_2.6.0/tabview/tabview-debug.js
-root/static/yui_2.6.0/tabview/tabview-min.js
-root/static/yui_2.6.0/tabview/tabview.js
-root/static/yui_2.6.0/treeview/assets/skins/sam/loading.gif
-root/static/yui_2.6.0/treeview/assets/skins/sam/treeview-loading.gif
-root/static/yui_2.6.0/treeview/assets/skins/sam/treeview-skin.css
-root/static/yui_2.6.0/treeview/assets/skins/sam/treeview-sprite.gif
-root/static/yui_2.6.0/treeview/assets/skins/sam/treeview.css
-root/static/yui_2.6.0/treeview/assets/sprite-menu.gif
-root/static/yui_2.6.0/treeview/assets/sprite-orig.gif
-root/static/yui_2.6.0/treeview/assets/treeview-core.css
-root/static/yui_2.6.0/treeview/assets/treeview-loading.gif
-root/static/yui_2.6.0/treeview/assets/treeview-menu.css
-root/static/yui_2.6.0/treeview/assets/treeview.css
-root/static/yui_2.6.0/treeview/README
-root/static/yui_2.6.0/treeview/treeview-debug.js
-root/static/yui_2.6.0/treeview/treeview-min.js
-root/static/yui_2.6.0/treeview/treeview.js
-root/static/yui_2.6.0/uploader/assets/uploader.swf
-root/static/yui_2.6.0/uploader/README
-root/static/yui_2.6.0/uploader/uploader-experimental-debug.js
-root/static/yui_2.6.0/uploader/uploader-experimental-min.js
-root/static/yui_2.6.0/uploader/uploader-experimental.js
-root/static/yui_2.6.0/utilities/README
-root/static/yui_2.6.0/utilities/utilities.js
-root/static/yui_2.6.0/yahoo-dom-event/README
-root/static/yui_2.6.0/yahoo-dom-event/yahoo-dom-event.js
-root/static/yui_2.6.0/yahoo/README
-root/static/yui_2.6.0/yahoo/yahoo-debug.js
-root/static/yui_2.6.0/yahoo/yahoo-min.js
-root/static/yui_2.6.0/yahoo/yahoo.js
-root/static/yui_2.6.0/yuiloader-dom-event/README
-root/static/yui_2.6.0/yuiloader-dom-event/yuiloader-dom-event.js
-root/static/yui_2.6.0/yuiloader/README
-root/static/yui_2.6.0/yuiloader/yuiloader-debug.js
-root/static/yui_2.6.0/yuiloader/yuiloader-min.js
-root/static/yui_2.6.0/yuiloader/yuiloader.js
-root/static/yui_2.6.0/yuitest/assets/skins/sam/yuitest-skin.css
-root/static/yui_2.6.0/yuitest/assets/skins/sam/yuitest.css
-root/static/yui_2.6.0/yuitest/assets/testlogger.css
-root/static/yui_2.6.0/yuitest/assets/yuitest-core.css
-root/static/yui_2.6.0/yuitest/README
-root/static/yui_2.6.0/yuitest/yuitest-debug.js
-root/static/yui_2.6.0/yuitest/yuitest-min.js
-root/static/yui_2.6.0/yuitest/yuitest.js
-root/static/yui_2.6.0/yuitest/yuitest_core-debug.js
-root/static/yui_2.6.0/yuitest/yuitest_core-min.js
-root/static/yui_2.6.0/yuitest/yuitest_core.js
+root/static/yui/animation/animation-debug.js
+root/static/yui/animation/animation-min.js
+root/static/yui/animation/animation.js
+root/static/yui/animation/README
+root/static/yui/assets/skins/sam/asc.gif
+root/static/yui/assets/skins/sam/autocomplete.css
+root/static/yui/assets/skins/sam/blankimage.png
+root/static/yui/assets/skins/sam/button.css
+root/static/yui/assets/skins/sam/calendar.css
+root/static/yui/assets/skins/sam/carousel.css
+root/static/yui/assets/skins/sam/colorpicker.css
+root/static/yui/assets/skins/sam/container.css
+root/static/yui/assets/skins/sam/datatable.css
+root/static/yui/assets/skins/sam/desc.gif
+root/static/yui/assets/skins/sam/dt-arrow-dn.png
+root/static/yui/assets/skins/sam/dt-arrow-up.png
+root/static/yui/assets/skins/sam/editor-knob.gif
+root/static/yui/assets/skins/sam/editor-sprite-active.gif
+root/static/yui/assets/skins/sam/editor-sprite.gif
+root/static/yui/assets/skins/sam/editor.css
+root/static/yui/assets/skins/sam/header_background.png
+root/static/yui/assets/skins/sam/hue_bg.png
+root/static/yui/assets/skins/sam/imagecropper.css
+root/static/yui/assets/skins/sam/layout.css
+root/static/yui/assets/skins/sam/layout_sprite.png
+root/static/yui/assets/skins/sam/loading.gif
+root/static/yui/assets/skins/sam/logger.css
+root/static/yui/assets/skins/sam/menu-button-arrow-disabled.png
+root/static/yui/assets/skins/sam/menu-button-arrow.png
+root/static/yui/assets/skins/sam/menu.css
+root/static/yui/assets/skins/sam/menubaritem_submenuindicator.png
+root/static/yui/assets/skins/sam/menubaritem_submenuindicator_disabled.png
+root/static/yui/assets/skins/sam/menuitem_checkbox.png
+root/static/yui/assets/skins/sam/menuitem_checkbox_disabled.png
+root/static/yui/assets/skins/sam/menuitem_submenuindicator.png
+root/static/yui/assets/skins/sam/menuitem_submenuindicator_disabled.png
+root/static/yui/assets/skins/sam/paginator.css
+root/static/yui/assets/skins/sam/picker_mask.png
+root/static/yui/assets/skins/sam/profilerviewer.css
+root/static/yui/assets/skins/sam/resize.css
+root/static/yui/assets/skins/sam/simpleeditor.css
+root/static/yui/assets/skins/sam/skin.css
+root/static/yui/assets/skins/sam/slider.css
+root/static/yui/assets/skins/sam/split-button-arrow-active.png
+root/static/yui/assets/skins/sam/split-button-arrow-disabled.png
+root/static/yui/assets/skins/sam/split-button-arrow-focus.png
+root/static/yui/assets/skins/sam/split-button-arrow-hover.png
+root/static/yui/assets/skins/sam/split-button-arrow.png
+root/static/yui/assets/skins/sam/sprite.png
+root/static/yui/assets/skins/sam/sprite.psd
+root/static/yui/assets/skins/sam/tabview.css
+root/static/yui/assets/skins/sam/treeview-loading.gif
+root/static/yui/assets/skins/sam/treeview-sprite.gif
+root/static/yui/assets/skins/sam/treeview.css
+root/static/yui/assets/skins/sam/wait.gif
+root/static/yui/assets/skins/sam/yuitest.css
+root/static/yui/autocomplete/assets/autocomplete-core.css
+root/static/yui/autocomplete/assets/skins/sam/autocomplete-skin.css
+root/static/yui/autocomplete/assets/skins/sam/autocomplete.css
+root/static/yui/autocomplete/autocomplete-debug.js
+root/static/yui/autocomplete/autocomplete-min.js
+root/static/yui/autocomplete/autocomplete.js
+root/static/yui/autocomplete/README
+root/static/yui/base/base-min.css
+root/static/yui/base/base.css
+root/static/yui/base/README
+root/static/yui/button/assets/button-core.css
+root/static/yui/button/assets/skins/sam/button-skin.css
+root/static/yui/button/assets/skins/sam/button.css
+root/static/yui/button/assets/skins/sam/menu-button-arrow-disabled.png
+root/static/yui/button/assets/skins/sam/menu-button-arrow.png
+root/static/yui/button/assets/skins/sam/split-button-arrow-active.png
+root/static/yui/button/assets/skins/sam/split-button-arrow-disabled.png
+root/static/yui/button/assets/skins/sam/split-button-arrow-focus.png
+root/static/yui/button/assets/skins/sam/split-button-arrow-hover.png
+root/static/yui/button/assets/skins/sam/split-button-arrow.png
+root/static/yui/button/button-debug.js
+root/static/yui/button/button-min.js
+root/static/yui/button/button.js
+root/static/yui/button/README
+root/static/yui/calendar/assets/calendar-core.css
+root/static/yui/calendar/assets/calendar.css
+root/static/yui/calendar/assets/calgrad.png
+root/static/yui/calendar/assets/callt.gif
+root/static/yui/calendar/assets/calrt.gif
+root/static/yui/calendar/assets/calx.gif
+root/static/yui/calendar/assets/skins/sam/calendar-skin.css
+root/static/yui/calendar/assets/skins/sam/calendar.css
+root/static/yui/calendar/calendar-debug.js
+root/static/yui/calendar/calendar-min.js
+root/static/yui/calendar/calendar.js
+root/static/yui/calendar/README
+root/static/yui/carousel/assets/ajax-loader.gif
+root/static/yui/carousel/assets/carousel-core.css
+root/static/yui/carousel/assets/skins/sam/carousel-skin.css
+root/static/yui/carousel/assets/skins/sam/carousel.css
+root/static/yui/carousel/carousel-beta-debug.js
+root/static/yui/carousel/carousel-beta-min.js
+root/static/yui/carousel/carousel-beta.js
+root/static/yui/carousel/README
+root/static/yui/charts/assets/charts.swf
+root/static/yui/charts/charts-experimental-debug.js
+root/static/yui/charts/charts-experimental-min.js
+root/static/yui/charts/charts-experimental.js
+root/static/yui/charts/README
+root/static/yui/colorpicker/assets/colorpicker-core.css
+root/static/yui/colorpicker/assets/hue_thumb.png
+root/static/yui/colorpicker/assets/picker_mask.png
+root/static/yui/colorpicker/assets/picker_thumb.png
+root/static/yui/colorpicker/assets/skins/sam/colorpicker-skin.css
+root/static/yui/colorpicker/assets/skins/sam/colorpicker.css
+root/static/yui/colorpicker/assets/skins/sam/hue_bg.png
+root/static/yui/colorpicker/assets/skins/sam/picker_mask.png
+root/static/yui/colorpicker/colorpicker-debug.js
+root/static/yui/colorpicker/colorpicker-min.js
+root/static/yui/colorpicker/colorpicker.js
+root/static/yui/colorpicker/README
+root/static/yui/connection/connection-debug.js
+root/static/yui/connection/connection-min.js
+root/static/yui/connection/connection.js
+root/static/yui/connection/README
+root/static/yui/container/assets/alrt16_1.gif
+root/static/yui/container/assets/blck16_1.gif
+root/static/yui/container/assets/close12_1.gif
+root/static/yui/container/assets/container-core.css
+root/static/yui/container/assets/container.css
+root/static/yui/container/assets/hlp16_1.gif
+root/static/yui/container/assets/info16_1.gif
+root/static/yui/container/assets/skins/sam/container-skin.css
+root/static/yui/container/assets/skins/sam/container.css
+root/static/yui/container/assets/tip16_1.gif
+root/static/yui/container/assets/warn16_1.gif
+root/static/yui/container/container-debug.js
+root/static/yui/container/container-min.js
+root/static/yui/container/container.js
+root/static/yui/container/container_core-debug.js
+root/static/yui/container/container_core-min.js
+root/static/yui/container/container_core.js
+root/static/yui/container/README
+root/static/yui/cookie/cookie-debug.js
+root/static/yui/cookie/cookie-min.js
+root/static/yui/cookie/cookie.js
+root/static/yui/cookie/README
+root/static/yui/datasource/datasource-debug.js
+root/static/yui/datasource/datasource-min.js
+root/static/yui/datasource/datasource.js
+root/static/yui/datasource/README
+root/static/yui/datatable/assets/datatable-core.css
+root/static/yui/datatable/assets/datatable.css
+root/static/yui/datatable/assets/skins/sam/datatable-skin.css
+root/static/yui/datatable/assets/skins/sam/datatable.css
+root/static/yui/datatable/assets/skins/sam/dt-arrow-dn.png
+root/static/yui/datatable/assets/skins/sam/dt-arrow-up.png
+root/static/yui/datatable/datatable-debug.js
+root/static/yui/datatable/datatable-min.js
+root/static/yui/datatable/datatable.js
+root/static/yui/datatable/README
+root/static/yui/dom/dom-debug.js
+root/static/yui/dom/dom-min.js
+root/static/yui/dom/dom.js
+root/static/yui/dom/README
+root/static/yui/dragdrop/dragdrop-debug.js
+root/static/yui/dragdrop/dragdrop-min.js
+root/static/yui/dragdrop/dragdrop.js
+root/static/yui/dragdrop/README
+root/static/yui/editor/assets/editor-core.css
+root/static/yui/editor/assets/simpleeditor-core.css
+root/static/yui/editor/assets/skins/sam/blankimage.png
+root/static/yui/editor/assets/skins/sam/editor-knob.gif
+root/static/yui/editor/assets/skins/sam/editor-skin.css
+root/static/yui/editor/assets/skins/sam/editor-sprite-active.gif
+root/static/yui/editor/assets/skins/sam/editor-sprite.gif
+root/static/yui/editor/assets/skins/sam/editor.css
+root/static/yui/editor/assets/skins/sam/simpleeditor-skin.css
+root/static/yui/editor/assets/skins/sam/simpleeditor.css
+root/static/yui/editor/editor-debug.js
+root/static/yui/editor/editor-min.js
+root/static/yui/editor/editor.js
+root/static/yui/editor/README
+root/static/yui/editor/simpleeditor-debug.js
+root/static/yui/editor/simpleeditor-min.js
+root/static/yui/editor/simpleeditor.js
+root/static/yui/element/element-beta-debug.js
+root/static/yui/element/element-beta-min.js
+root/static/yui/element/element-beta.js
+root/static/yui/element/README
+root/static/yui/event/event-debug.js
+root/static/yui/event/event-min.js
+root/static/yui/event/event.js
+root/static/yui/event/README
+root/static/yui/fonts/fonts-min.css
+root/static/yui/fonts/fonts.css
+root/static/yui/fonts/README
+root/static/yui/get/get-debug.js
+root/static/yui/get/get-min.js
+root/static/yui/get/get.js
+root/static/yui/get/README
+root/static/yui/grids/grids-min.css
+root/static/yui/grids/grids.css
+root/static/yui/grids/README
+root/static/yui/history/assets/blank.html
+root/static/yui/history/history-debug.js
+root/static/yui/history/history-min.js
+root/static/yui/history/history.js
+root/static/yui/history/README
+root/static/yui/imagecropper/assets/imagecropper-core.css
+root/static/yui/imagecropper/assets/skins/sam/imagecropper-skin.css
+root/static/yui/imagecropper/assets/skins/sam/imagecropper.css
+root/static/yui/imagecropper/imagecropper-beta-debug.js
+root/static/yui/imagecropper/imagecropper-beta-min.js
+root/static/yui/imagecropper/imagecropper-beta.js
+root/static/yui/imagecropper/README
+root/static/yui/imageloader/imageloader-debug.js
+root/static/yui/imageloader/imageloader-min.js
+root/static/yui/imageloader/imageloader.js
+root/static/yui/imageloader/README
+root/static/yui/json/json-debug.js
+root/static/yui/json/json-min.js
+root/static/yui/json/json.js
+root/static/yui/json/README
+root/static/yui/layout/assets/layout-core.css
+root/static/yui/layout/assets/skins/sam/layout-skin.css
+root/static/yui/layout/assets/skins/sam/layout.css
+root/static/yui/layout/assets/skins/sam/layout_sprite.png
+root/static/yui/layout/layout-debug.js
+root/static/yui/layout/layout-min.js
+root/static/yui/layout/layout.js
+root/static/yui/layout/README
+root/static/yui/logger/assets/logger-core.css
+root/static/yui/logger/assets/logger.css
+root/static/yui/logger/assets/skins/sam/logger-skin.css
+root/static/yui/logger/assets/skins/sam/logger.css
+root/static/yui/logger/logger-debug.js
+root/static/yui/logger/logger-min.js
+root/static/yui/logger/logger.js
+root/static/yui/logger/README
+root/static/yui/menu/assets/menu-core.css
+root/static/yui/menu/assets/menu.css
+root/static/yui/menu/assets/menu_down_arrow.png
+root/static/yui/menu/assets/menu_down_arrow_disabled.png
+root/static/yui/menu/assets/menu_up_arrow.png
+root/static/yui/menu/assets/menu_up_arrow_disabled.png
+root/static/yui/menu/assets/menubaritem_submenuindicator.png
+root/static/yui/menu/assets/menubaritem_submenuindicator_disabled.png
+root/static/yui/menu/assets/menubaritem_submenuindicator_selected.png
+root/static/yui/menu/assets/menuitem_checkbox.png
+root/static/yui/menu/assets/menuitem_checkbox_disabled.png
+root/static/yui/menu/assets/menuitem_checkbox_selected.png
+root/static/yui/menu/assets/menuitem_submenuindicator.png
+root/static/yui/menu/assets/menuitem_submenuindicator_disabled.png
+root/static/yui/menu/assets/menuitem_submenuindicator_selected.png
+root/static/yui/menu/assets/skins/sam/menu-skin.css
+root/static/yui/menu/assets/skins/sam/menu.css
+root/static/yui/menu/assets/skins/sam/menubaritem_submenuindicator.png
+root/static/yui/menu/assets/skins/sam/menubaritem_submenuindicator_disabled.png
+root/static/yui/menu/assets/skins/sam/menuitem_checkbox.png
+root/static/yui/menu/assets/skins/sam/menuitem_checkbox_disabled.png
+root/static/yui/menu/assets/skins/sam/menuitem_submenuindicator.png
+root/static/yui/menu/assets/skins/sam/menuitem_submenuindicator_disabled.png
+root/static/yui/menu/menu-debug.js
+root/static/yui/menu/menu-min.js
+root/static/yui/menu/menu.js
+root/static/yui/menu/README
+root/static/yui/paginator/assets/paginator-core.css
+root/static/yui/paginator/assets/skins/sam/paginator-skin.css
+root/static/yui/paginator/assets/skins/sam/paginator.css
+root/static/yui/paginator/paginator-debug.js
+root/static/yui/paginator/paginator-min.js
+root/static/yui/paginator/paginator.js
+root/static/yui/paginator/README
+root/static/yui/profiler/profiler-debug.js
+root/static/yui/profiler/profiler-min.js
+root/static/yui/profiler/profiler.js
+root/static/yui/profiler/README
+root/static/yui/profilerviewer/assets/skins/sam/asc.gif
+root/static/yui/profilerviewer/assets/skins/sam/desc.gif
+root/static/yui/profilerviewer/assets/skins/sam/header_background.png
+root/static/yui/profilerviewer/assets/skins/sam/profilerviewer.css
+root/static/yui/profilerviewer/assets/skins/sam/wait.gif
+root/static/yui/profilerviewer/profilerviewer-beta-debug.js
+root/static/yui/profilerviewer/profilerviewer-beta-min.js
+root/static/yui/profilerviewer/profilerviewer-beta.js
+root/static/yui/profilerviewer/README
+root/static/yui/reset-fonts-grids/README
+root/static/yui/reset-fonts-grids/reset-fonts-grids.css
+root/static/yui/reset-fonts/README
+root/static/yui/reset-fonts/reset-fonts.css
+root/static/yui/reset/README
+root/static/yui/reset/reset-min.css
+root/static/yui/reset/reset.css
+root/static/yui/resize/assets/resize-core.css
+root/static/yui/resize/assets/skins/sam/layout_sprite.png
+root/static/yui/resize/assets/skins/sam/resize-skin.css
+root/static/yui/resize/assets/skins/sam/resize.css
+root/static/yui/resize/README
+root/static/yui/resize/resize-debug.js
+root/static/yui/resize/resize-min.js
+root/static/yui/resize/resize.js
+root/static/yui/selector/README
+root/static/yui/selector/selector-beta-debug.js
+root/static/yui/selector/selector-beta-min.js
+root/static/yui/selector/selector-beta.js
+root/static/yui/slider/assets/bg-fader.gif
+root/static/yui/slider/assets/bg-h.gif
+root/static/yui/slider/assets/bg-v-e.gif
+root/static/yui/slider/assets/bg-v.gif
+root/static/yui/slider/assets/left-thumb.png
+root/static/yui/slider/assets/right-thumb.png
+root/static/yui/slider/assets/skins/sam/slider-skin.css
+root/static/yui/slider/assets/skins/sam/slider.css
+root/static/yui/slider/assets/slider-core.css
+root/static/yui/slider/assets/thumb-bar.gif
+root/static/yui/slider/assets/thumb-e.gif
+root/static/yui/slider/assets/thumb-fader.gif
+root/static/yui/slider/assets/thumb-n.gif
+root/static/yui/slider/assets/thumb-s.gif
+root/static/yui/slider/assets/thumb-w.gif
+root/static/yui/slider/README
+root/static/yui/slider/slider-debug.js
+root/static/yui/slider/slider-min.js
+root/static/yui/slider/slider.js
+root/static/yui/tabview/assets/border_tabs.css
+root/static/yui/tabview/assets/loading.gif
+root/static/yui/tabview/assets/skin-sam.css
+root/static/yui/tabview/assets/skins/sam/tabview-skin.css
+root/static/yui/tabview/assets/skins/sam/tabview.css
+root/static/yui/tabview/assets/tabview-core.css
+root/static/yui/tabview/assets/tabview.css
+root/static/yui/tabview/README
+root/static/yui/tabview/tabview-debug.js
+root/static/yui/tabview/tabview-min.js
+root/static/yui/tabview/tabview.js
+root/static/yui/treeview/assets/skins/sam/loading.gif
+root/static/yui/treeview/assets/skins/sam/treeview-loading.gif
+root/static/yui/treeview/assets/skins/sam/treeview-skin.css
+root/static/yui/treeview/assets/skins/sam/treeview-sprite.gif
+root/static/yui/treeview/assets/skins/sam/treeview.css
+root/static/yui/treeview/assets/sprite-menu.gif
+root/static/yui/treeview/assets/sprite-orig.gif
+root/static/yui/treeview/assets/treeview-core.css
+root/static/yui/treeview/assets/treeview-loading.gif
+root/static/yui/treeview/assets/treeview-menu.css
+root/static/yui/treeview/assets/treeview.css
+root/static/yui/treeview/README
+root/static/yui/treeview/treeview-debug.js
+root/static/yui/treeview/treeview-min.js
+root/static/yui/treeview/treeview.js
+root/static/yui/uploader/assets/uploader.swf
+root/static/yui/uploader/README
+root/static/yui/uploader/uploader-experimental-debug.js
+root/static/yui/uploader/uploader-experimental-min.js
+root/static/yui/uploader/uploader-experimental.js
+root/static/yui/utilities/README
+root/static/yui/utilities/utilities.js
+root/static/yui/yahoo-dom-event/README
+root/static/yui/yahoo-dom-event/yahoo-dom-event.js
+root/static/yui/yahoo/README
+root/static/yui/yahoo/yahoo-debug.js
+root/static/yui/yahoo/yahoo-min.js
+root/static/yui/yahoo/yahoo.js
+root/static/yui/yuiloader-dom-event/README
+root/static/yui/yuiloader-dom-event/yuiloader-dom-event.js
+root/static/yui/yuiloader/README
+root/static/yui/yuiloader/yuiloader-debug.js
+root/static/yui/yuiloader/yuiloader-min.js
+root/static/yui/yuiloader/yuiloader.js
+root/static/yui/yuitest/assets/skins/sam/yuitest-skin.css
+root/static/yui/yuitest/assets/skins/sam/yuitest.css
+root/static/yui/yuitest/assets/testlogger.css
+root/static/yui/yuitest/assets/yuitest-core.css
+root/static/yui/yuitest/README
+root/static/yui/yuitest/yuitest-debug.js
+root/static/yui/yuitest/yuitest-min.js
+root/static/yui/yuitest/yuitest.js
+root/static/yui/yuitest/yuitest_core-debug.js
+root/static/yui/yuitest/yuitest_core-min.js
+root/static/yui/yuitest/yuitest_core.js
 script/deploy.sh
 script/i18n_todo.pl
 script/parley_cgi.pl
@@ -948,6 +944,7 @@
 t.output/0.59.03
 t.output/1.0.0
 t.output/1.0.3
+t.output/1.0.4
 t/01app.t
 t/02pod.t
 t/03podcoverage.t

Modified: branches/parley-1.1/Makefile.PL
===================================================================
--- branches/parley-1.1/Makefile.PL	2008-12-30 02:48:35 UTC (rev 1029)
+++ branches/parley-1.1/Makefile.PL	2008-12-30 02:48:47 UTC (rev 1030)
@@ -50,6 +50,7 @@
     'Proc::Daemon'                                              => '0.03',
     'Proc::PID::File'                                           => '1.2.4',
     'Readonly'                                                  => 0,
+    'Template::Plugin::ForumCode'                               => '0.0.5',
     'Text::Context::EitherSide'                                 => '1.3',
     'Time::Piece'                                               => '1.11',
 );

Deleted: branches/parley-1.1/root/static/yui
===================================================================
--- branches/parley-1.1/root/static/yui	2008-12-30 02:48:35 UTC (rev 1029)
+++ branches/parley-1.1/root/static/yui	2008-12-30 02:48:47 UTC (rev 1030)
@@ -1 +0,0 @@
-link yui_2.6.0
\ No newline at end of file

Copied: branches/parley-1.1/root/static/yui/animation (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/animation)

Copied: branches/parley-1.1/root/static/yui/assets (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/assets)

Copied: branches/parley-1.1/root/static/yui/autocomplete (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/autocomplete)

Copied: branches/parley-1.1/root/static/yui/base (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/base)

Copied: branches/parley-1.1/root/static/yui/button (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/button)

Copied: branches/parley-1.1/root/static/yui/calendar (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/calendar)

Copied: branches/parley-1.1/root/static/yui/carousel (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/carousel)

Copied: branches/parley-1.1/root/static/yui/charts (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/charts)

Copied: branches/parley-1.1/root/static/yui/colorpicker (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/colorpicker)

Copied: branches/parley-1.1/root/static/yui/connection (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/connection)

Copied: branches/parley-1.1/root/static/yui/container (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/container)

Copied: branches/parley-1.1/root/static/yui/cookie (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/cookie)

Copied: branches/parley-1.1/root/static/yui/datasource (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/datasource)

Copied: branches/parley-1.1/root/static/yui/datatable (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/datatable)

Copied: branches/parley-1.1/root/static/yui/dom (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/dom)

Copied: branches/parley-1.1/root/static/yui/dragdrop (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/dragdrop)

Copied: branches/parley-1.1/root/static/yui/editor (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/editor)

Copied: branches/parley-1.1/root/static/yui/element (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/element)

Copied: branches/parley-1.1/root/static/yui/event (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/event)

Copied: branches/parley-1.1/root/static/yui/fonts (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/fonts)

Copied: branches/parley-1.1/root/static/yui/get (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/get)

Copied: branches/parley-1.1/root/static/yui/grids (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/grids)

Copied: branches/parley-1.1/root/static/yui/history (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/history)

Copied: branches/parley-1.1/root/static/yui/imagecropper (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/imagecropper)

Copied: branches/parley-1.1/root/static/yui/imageloader (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/imageloader)

Copied: branches/parley-1.1/root/static/yui/json (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/json)

Copied: branches/parley-1.1/root/static/yui/layout (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/layout)

Copied: branches/parley-1.1/root/static/yui/logger (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/logger)

Copied: branches/parley-1.1/root/static/yui/menu (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/menu)

Copied: branches/parley-1.1/root/static/yui/paginator (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/paginator)

Copied: branches/parley-1.1/root/static/yui/profiler (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/profiler)

Copied: branches/parley-1.1/root/static/yui/profilerviewer (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/profilerviewer)

Copied: branches/parley-1.1/root/static/yui/reset (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/reset)

Copied: branches/parley-1.1/root/static/yui/reset-fonts (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/reset-fonts)

Copied: branches/parley-1.1/root/static/yui/reset-fonts-grids (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/reset-fonts-grids)

Copied: branches/parley-1.1/root/static/yui/resize (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/resize)

Copied: branches/parley-1.1/root/static/yui/selector (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/selector)

Copied: branches/parley-1.1/root/static/yui/slider (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/slider)

Copied: branches/parley-1.1/root/static/yui/tabview (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/tabview)

Copied: branches/parley-1.1/root/static/yui/treeview (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/treeview)

Copied: branches/parley-1.1/root/static/yui/uploader (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/uploader)

Copied: branches/parley-1.1/root/static/yui/utilities (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/utilities)

Copied: branches/parley-1.1/root/static/yui/yahoo (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/yahoo)

Copied: branches/parley-1.1/root/static/yui/yahoo-dom-event (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/yahoo-dom-event)

Copied: branches/parley-1.1/root/static/yui/yuiloader (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/yuiloader)

Copied: branches/parley-1.1/root/static/yui/yuiloader-dom-event (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/yuiloader-dom-event)

Copied: branches/parley-1.1/root/static/yui/yuitest (from rev 1003, branches/parley-1.1/root/static/yui_2.6.0/yuitest)

Added: branches/parley-1.1/t.output/1.0.4
===================================================================
--- branches/parley-1.1/t.output/1.0.4	2008-12-30 02:48:35 UTC (rev 1029)
+++ branches/parley-1.1/t.output/1.0.4	2008-12-30 02:48:47 UTC (rev 1030)
@@ -0,0 +1,21 @@
+PERL_DL_NONLAZY=1 /usr/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'inc', 'blib/lib', 'blib/arch')" t/*.t t/bug/*.t t/mechanize/*.t
+t/01app.........................ok
+t/02pod.........................skipped: set TEST_POD to enable this test
+t/03podcoverage.................skipped: set TEST_POD to enable this test
+t/04_forumcode..................ok
+t/05.userroles..................ok
+t/06.aggregate.controller.......ok
+t/07.aggregate.schematests......ok
+t/50.text_search.sql............ok
+t/bug/01.forum_list_no_posts....ok
+t/mechanize/00.login............ok
+t/mechanize/01.main_page........ok
+t/mechanize/02.forum............ok
+t/model_ParleyDB................ok
+t/model_Post....................ok
+t/view_JSON.....................ok
+t/view_Plain....................ok
+t/view_TT.......................ok
+All tests successful.
+Files=17, Tests=464, 17 wallclock secs ( 0.20 usr  0.03 sys + 13.47 cusr  0.96 csys = 14.66 CPU)
+Result: PASS



From chiselwright at mail.berlios.de  Tue Dec 30 03:49:09 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 30 Dec 2008 03:49:09 +0100
Subject: [Parley-svn] r1031 - / branches/parley-1.1/root
Message-ID: <200812300249.mBU2n9Ot024556@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-30 03:49:09 +0100 (Tue, 30 Dec 2008)
New Revision: 1031

Added:
   branches/parley-1.1/root/skin2/
Modified:
   /
Log:
 r8890 at wiggin:  chisel | 2008-12-30 02:47:12 +0000
 + recreating skin2



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8889
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8890
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Copied: branches/parley-1.1/root/skin2 (from rev 1022, branches/parley-1.1/root/base)



From chiselwright at mail.berlios.de  Tue Dec 30 03:49:19 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Tue, 30 Dec 2008 03:49:19 +0100
Subject: [Parley-svn] r1032 - / branches/parley-1.1/root/skin2
Message-ID: <200812300249.mBU2nJV3024640@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-30 03:49:19 +0100 (Tue, 30 Dec 2008)
New Revision: 1032

Modified:
   /
   branches/parley-1.1/root/skin2/footer
Log:
 r8891 at wiggin:  chisel | 2008-12-30 02:48:17 +0000
 / alter the footer in skin2



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8890
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8891
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/root/skin2/footer
===================================================================
--- branches/parley-1.1/root/skin2/footer	2008-12-30 02:49:09 UTC (rev 1031)
+++ branches/parley-1.1/root/skin2/footer	2008-12-30 02:49:19 UTC (rev 1032)
@@ -3,6 +3,7 @@
 
             <div id="ft">
                 <p>
+This is skin2. Here's an annoying addition to the footer<br />
                 <a href="http://developer.berlios.de/projects/parley">[%c.config.name%]</a>
                 (version [%c.config.version%])
                 &copy; Chisel Wright 2006-2008. [%l('All Rights Reserved')%].



From chiselwright at mail.berlios.de  Wed Dec 31 02:34:09 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Wed, 31 Dec 2008 02:34:09 +0100
Subject: [Parley-svn] r1033 - / branches/parley-1.1/contrib
	branches/parley-1.1/contrib/example
Message-ID: <200812310134.mBV1Y9oU030287@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-31 02:34:08 +0100 (Wed, 31 Dec 2008)
New Revision: 1033

Added:
   branches/parley-1.1/contrib/example/
   branches/parley-1.1/contrib/example/deploy.sh
Modified:
   /
Log:
 r8897 at wiggin:  chisel | 2008-12-31 01:25:50 +0000
 / keep a copy of the script used to deploy on zombie.herlpacker.co.uk



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8891
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8897
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Added: branches/parley-1.1/contrib/example/deploy.sh
===================================================================
--- branches/parley-1.1/contrib/example/deploy.sh	2008-12-30 02:49:19 UTC (rev 1032)
+++ branches/parley-1.1/contrib/example/deploy.sh	2008-12-31 01:34:08 UTC (rev 1033)
@@ -0,0 +1,56 @@
+#!/usr/bin/env sh
+
+VERSION=$1;
+MAJOR_VERSION=${VERSION%.*}
+MINOR_VERSION=${VERSION##*.}
+
+echo $VERSION
+echo $MAJOR_VERSION
+echo $MINOR_VERSION
+
+#TARBALL="Parley-v${VERSION}.tar.gz"
+TARBALL="Parley-${VERSION}.tar.gz"
+#DIR="Parley-v${VERSION}"
+DIR="Parley-${VERSION}"
+
+if [ -z "$VERSION" ]; then
+	echo "usage: $0 <version>";
+	exit;
+fi
+
+
+if [ ! -f $TARBALL ]; then
+	echo "tarball missing: $TARBALL";
+	exit;
+fi
+
+tar zxf $TARBALL
+
+PATCH_MATCH_COUNT=`ls ${DIR}/db/*_${MAJOR_VERSION}*sql 2>&1 |grep -c -`
+
+if [ $PATCH_MATCH_COUNT -gt 0 ]; then
+	echo "There are ${PATCH_MATCH_COUNT} patch(es) that match the requested version to deploy:"
+	ls ${DIR}/db/*${MAJOR_VERSION}*sql
+	echo ""
+	read -p "Use ctrl-z to return to the shell and apply any patches. fg then ENTER to continue." FOOBAR
+fi
+
+if [ ! -d $DIR ]; then
+	echo "directory missing: $DIR";
+	exit;
+fi
+
+cp -a ./parley/root/static/user_file ./$DIR/root/static/ 2>/dev/null
+sudo chown -R parley:www-data ./$DIR/root/static/user_file/
+ls ./$DIR/root/static/user_file/
+
+(cd $DIR && perl Makefile.PL)
+
+./parley/script/parley_email_engine.pl stop
+
+rm parley
+ln -s $DIR parley
+
+./parley/script/parley_email_engine.pl start
+
+sudo /etc/init.d/apache2 reload


Property changes on: branches/parley-1.1/contrib/example/deploy.sh
___________________________________________________________________
Name: svn:executable
   + *



From chiselwright at mail.berlios.de  Wed Dec 31 02:34:20 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Wed, 31 Dec 2008 02:34:20 +0100
Subject: [Parley-svn] r1034 - / branches/parley-1.1
	branches/parley-1.1/root/base
Message-ID: <200812310134.mBV1YKMA030429@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-31 02:34:19 +0100 (Wed, 31 Dec 2008)
New Revision: 1034

Modified:
   /
   branches/parley-1.1/MANIFEST
   branches/parley-1.1/root/base/header
Log:
 r8898 at wiggin:  chisel | 2008-12-31 01:32:40 +0000
 / Updated MANIFEST file
 - Removed version number from page title (it's in the footer anyway)
 / reordered information that appears in the page title (app name last)



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8897
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8898
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/MANIFEST
===================================================================
--- branches/parley-1.1/MANIFEST	2008-12-31 01:34:08 UTC (rev 1033)
+++ branches/parley-1.1/MANIFEST	2008-12-31 01:34:19 UTC (rev 1034)
@@ -2,6 +2,7 @@
 Changes.i18n
 config/parley.fastcgi
 config/parley.sites-available
+contrib/example/deploy.sh
 contrib/patch/0.57_02_KAARE.patch
 contrib/patch/0.59_001_TJC.patch
 db/parley.psql
@@ -39,6 +40,8 @@
 inc/Module/Install/Metadata.pm
 inc/Module/Install/Win32.pm
 inc/Module/Install/WriteAll.pm
+lib/Catalyst/Controller/FormValidator.pm
+lib/Catalyst/Plugin/Dumper.pm
 lib/Parley.pm
 lib/Parley/App/Communication/Email.pm
 lib/Parley/App/DateTime.pm
@@ -111,6 +114,8 @@
 README
 ROADMAP
 root/base/about/modules
+root/base/dfv/display_validation_messages
+root/base/dfv/validation_messages_data
 root/base/error/simple
 root/base/footer
 root/base/forum/list
@@ -119,6 +124,7 @@
 root/base/help/i_default/contents
 root/base/help/i_default/faq
 root/base/help/i_default/formatting_posts
+root/base/help/i_default/wide
 root/base/help/unknown
 root/base/menu/left/main
 root/base/menu/menubar
@@ -132,7 +138,10 @@
 root/base/my/tab_watch
 root/base/my/tab_you
 root/base/post/edit
+root/base/search/advanced
 root/base/search/forum
+root/base/search/results
+root/base/shared/add_this
 root/base/shared/ajax_dialog
 root/base/shared/autocomplete_style
 root/base/shared/focus_username_js
@@ -161,6 +170,7 @@
 root/base/thread/add
 root/base/thread/recent
 root/base/thread/reply
+root/base/thread/reply-yuirte
 root/base/thread/view
 root/base/thread/watches
 root/base/user/access_ip_banned
@@ -194,6 +204,8 @@
 root/email_templates/nl/username_reminder.eml
 root/favicon.ico
 root/skin2/about/modules
+root/skin2/dfv/display_validation_messages
+root/skin2/dfv/validation_messages_data
 root/skin2/error/simple
 root/skin2/footer
 root/skin2/forum/list
@@ -215,7 +227,10 @@
 root/skin2/my/tab_watch
 root/skin2/my/tab_you
 root/skin2/post/edit
+root/skin2/search/advanced
 root/skin2/search/forum
+root/skin2/search/results
+root/skin2/shared/add_this
 root/skin2/shared/ajax_dialog
 root/skin2/shared/autocomplete_style
 root/skin2/shared/focus_username_js

Modified: branches/parley-1.1/root/base/header
===================================================================
--- branches/parley-1.1/root/base/header	2008-12-31 01:34:08 UTC (rev 1033)
+++ branches/parley-1.1/root/base/header	2008-12-31 01:34:19 UTC (rev 1034)
@@ -8,23 +8,18 @@
     <head>
         <base href="[% c.request.base %]" />
         <title>
-            [% c.config.name %]
-
-            [%# Show version if we're debugging %]
-            [% IF c.debug %]
-            ([% c.config.version %])
-            [% END %]
-
             [%# Show custom page title if we have one %]
             [% IF page_title %]
-             : [% page_title %]
+             [% page_title %] :
             [%# Show thread name if we have one %]
             [% ELSIF current_thread %]
-             : [% current_thread.subject %]
+             [% current_thread.subject %] :
             [%# Show forum name if we have one %]
             [% ELSIF current_forum %]
-             : [% current_forum.name %]
+             [% current_forum.name %] :
             [% END %]
+
+            [% c.config.name %]
         </title>
         <meta name="author" content="Chisel Wright" />
         <link rel="shortcut icon" href="[% c.request.base %]/favicon.ico" type="image/x-icon" />



From chiselwright at mail.berlios.de  Wed Dec 31 02:42:37 2008
From: chiselwright at mail.berlios.de (chiselwright at BerliOS)
Date: Wed, 31 Dec 2008 02:42:37 +0100
Subject: [Parley-svn] r1035 - / branches/parley-1.1/root/base/shared
Message-ID: <200812310142.mBV1gbdH031741@sheep.berlios.de>

Author: chiselwright
Date: 2008-12-31 02:42:37 +0100 (Wed, 31 Dec 2008)
New Revision: 1035

Modified:
   /
   branches/parley-1.1/root/base/shared/add_this
Log:
 r8901 at wiggin:  chisel | 2008-12-31 01:42:27 +0000
 / tweak the "quick clicks" for AddThis



Property changes on: 
___________________________________________________________________
Name: svk:merge
   - 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8898
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222
   + 6a361f96-f029-0410-94f8-848cdd0f6ccf:/local/parley:8901
6fba2e3f-c318-0410-85fa-910d1bc53201:/local/parley:5151
c0683b51-46fc-0310-adae-a083e7ee0929:/local/berlios/parley:15762
f1659af6-751b-0410-a472-c93ec2bf8afc:/local/parley:1222

Modified: branches/parley-1.1/root/base/shared/add_this
===================================================================
--- branches/parley-1.1/root/base/shared/add_this	2008-12-31 01:34:19 UTC (rev 1034)
+++ branches/parley-1.1/root/base/shared/add_this	2008-12-31 01:42:37 UTC (rev 1035)
@@ -6,7 +6,7 @@
 addthis_logo_background = 'EFEFFF';
 addthis_logo_color      = '666699';
 addthis_brand           = '[%c.config.name%]';
-addthis_options         = 'delicious, twitter, favorites, email, more';
+addthis_options         = 'delicious, favorites, facebook, twitter, email, more';
 </script>
 <a href="http://www.addthis.com/bookmark.php" onmouseover="return addthis_open(this, '', '[URL]', '[TITLE]')" onmouseout="addthis_close()" onclick="return addthis_sendto()"><img src="http://s7.addthis.com/static/btn/lg-share-en.gif" width="125" height="16" border="0" alt="Share" /></a>
 <script type="text/javascript" src="http://s7.addthis.com/js/152/addthis_widget.js"></script>



